{"version":3,"sources":["../replace/mmooc-Goalsevarri_3_2_prod.js"],"names":["receiveMessage","evt","CourseOptions","course","option","code","course_code","toUpperCase","upperCaseOption","delimitor","this","indexOf","_this2","hasOption","window","postMessage","addEventListener","h5pResizerInitialized","actionHandlers","hello","iframe","data","respond","style","width","getBoundingClientRect","resize","contentWindow","removeEventListener","prepareResize","clientHeight","scrollHeight","height","event","context","iframes","document","getElementsByTagName","i","length","source","action","undefined","origin","ready","src","Handlebars","__module4__","SafeString","string","prototype","toString","__module3__","__dependency1__","escapeChar","chr","escape","extend","obj","value","key","Object","hasOwnProperty","call","escapeExpression","possible","test","replace","badChars","isEmpty","isArray","__exports__","&","<",">","\"","'","`","isFunction","Array","_typeof","__module5__","Exception","message","node","line","firstLine","firstColumn","tmp","Error","constructor","idx","errorProps","lineNumber","column","__module2__","__dependency2__","HandlebarsEnvironment","helpers","partials","registerDefaultHelpers","instance","registerHelper","arg","arguments","options","inverse","fn","each","ret","createFrame","j","index","first","last","conditional","hash","includeZero","Utils","level","parseInt","log","logger","VERSION","COMPILER_REVISION","REVISION_CHANGES","1","2","3","4","objectType","name","not","registerPartial","str","methodMap","0","DEBUG","INFO","WARN","ERROR","method","console","object","__module6__","__dependency3__","checkRevision","compilerInfo","compilerRevision","currentRevision","runtimeVersions","compilerVersions","template","templateSpec","env","invokePartialWrapper","partial","result","VM","invokePartial","apply","compile","container","programs","program","programWrapper","merge","param","common","programWithDepth","noop","namespace","args","slice","prog","concat","depth","Function","__module1__","__dependency4__","__dependency5__","base","runtime","create","hb","spec","__module7__","LocationInfo","locInfo","first_line","first_column","lastColumn","last_column","lastLine","last_line","AST","ProgramNode","statements","inverseStrip","inverseLocationInfo","firstInverseNode","type","strip","right","left","MustacheNode","rawParams","open","charAt","escapeFlag","escaped","SexprNode","sexpr","isRoot","id","params","eligibleHelper","isHelper","isSimple","PartialNode","partialName","BlockNode","mustache","close","original","path","isInverse","ContentNode","HashNode","pairs","IdNode","parts","dig","l","part","separator","isScoped","push","join","stringModeValue","PartialNameNode","DataNode","StringNode","IntegerNode","integer","Number","BooleanNode","bool","CommentNode","comment","__module9__","stripFlags","Parser","yy","parser","trace","symbols_","error","root","EOF","simpleInverse","statement","openInverse","closeBlock","openBlock","CONTENT","COMMENT","OPEN_BLOCK","CLOSE","OPEN_INVERSE","OPEN_ENDBLOCK","OPEN","OPEN_UNESCAPED","CLOSE_UNESCAPED","OPEN_PARTIAL","partial_option0","sexpr_repetition0","sexpr_option0","dataName","STRING","INTEGER","BOOLEAN","OPEN_SEXPR","CLOSE_SEXPR","hash_repetition_plus0","hashSegment","ID","EQUALS","DATA","pathSegments","SEP","$accept","$end","terminals_","5","14","15","16","18","19","20","22","23","24","25","32","33","34","35","36","40","41","42","44","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","table","8","9","11","12","13","6","7","17","21","30","43","26","10","28","27","29","31","37","38","39","defaultActions","50","parseError","parse","input","lex","token","self","lexer","stack","vstack","lstack","recovering","setInput","yylloc","yyloc","ranges","symbol","preErrorSymbol","state","r","p","len","newState","expected","yyval","errStr","showPosition","text","match","loc","range","_input","_more","_less","done","matched","conditionStack","offset","ch","unput","lines","split","substr","oldLines","more","less","n","pastInput","past","upcomingInput","next","pre","c","tempMatch","rules","_currentRules","flex","matches","begin","condition","popState","pop","conditions","topState","pushState","yy_","$avoiding_name_collisions","YY_START","start","end","mu","inclusive","emu","com","INITIAL","__module8__","__module10__","Compiler","precompile","ast","environment","JavaScriptCompiler","compileInput","compiled","compiler","disassemble","opcode","opcodes","out","equals","other","otherOpcode","children","guid","depths","list","knownHelpers","helperMissing","blockHelperMissing","if","unless","with","accept","sort","a","b","compileProgram","usePartial","addDepth","block","classifySexpr","helperSexpr","simpleSexpr","ambiguousSexpr","pair","val","stringParams","content","noEscape","isBlock","setupFullMustacheParams","knownHelpersOnly","declare","isEligible","pushParams","__module11__","Literal","nameLookup","parent","wrap","isValidJavaScriptVariableName","revision","appendToBuffer","initializeBuffer","quotedString","asObject","isChild","environments","aliases","preamble","stackSlot","stackVars","registers","hashes","compileStack","inlineStack","compileChildren","stripNext","pushSource","createFunctionContext","copies","lastContext","locals","alias","substring","mergeSource","functionSource","buffer","blockValue","setupParams","replaceStack","current","splice","ambiguousBlockValue","topStack","lastHelper","appendContent","pendingContent","append","flushInline","local","popStack","appendEscaped","getContext","lookupOnContext","pushContext","pushStackLiteral","resolvePossibleLambda","functionType","lookup","lookupData","pushStringParam","pushString","emptyHash","pushHash","values","types","contexts","popHash","expr","pushLiteral","pushProgram","programExpression","invokeHelper","paramSize","useRegister","helper","setupHelper","nonHelper","paramsInit","callParams","helperMissingParams","invokeKnownHelper","invokeAmbiguous","helperCall","helperName","nextStack","assignToHash","child","matchExistingProgram","programParams","register","item","pushStack","incrStack","callback","createdStack","usedLiteral","prefix","inline","isInline","top","topStackName","entry","wrapped","missingParams","setupOptions","reservedWords","compilerWords","RESERVED_WORDS","_create","RegExp","s","csv","defaults","delimiter","headers","hooks","castToScalar","hasDot","isNaN","parseFloat","parsers","endOfEntry","rowNum","colNum","onParseEntry","hookVal","exit","endOfValue","onParseValue","hook","escSeparator","escDelimiter","matchSrc","m0","splitLines","endOfLine","entries","prevChar","parseEntry","toArray","config","toArrays","toObjects","headerOptions","headerLine","fromArrays","arrays","escaper","experimental","output","fromObjects2CSV","objects","csvEntry2Array","csv2Array","csv2Dictionary","jQuery","e","t","exports","module","define","amd","jso","o","m","d","defineProperty","configurable","enumerable","get","__esModule","default","Symbol","u","store","Math","__g","version","__e","TypeError","f","h","F","G","v","S","y","P","g","B","w","_","U","core","W","R","inspectSource","String","writable","url","epoch","round","Date","getTime","debug","uuid","random","getResponseFromURL","parseQueryString","decodeURIComponent","exec","scopeList","uniqueList","unshift","encodeQS","encodeURIComponent","encodeURL","promise","resolve","reject","callee","ceil","floor","keys","createElement","ReferenceError","__proto__","getPrototypeOf","setPrototypeOf","process","setImmediate","clearImmediate","MessageChannel","Dispatch","nextTick","now","port2","port1","onmessage","importScripts","appendChild","onreadystatechange","removeChild","setTimeout","set","clear","documentElement","k","O","x","T","E","C","min","propertyIsEnumerable","description","main","scripts","preversion","postversion","build","babel","presets","repository","keywords","files","eslintConfig","es6","browser","devDependencies","babel-core","babel-loader","babel-preset-env","babel-preset-react","qunit","webpack","webpack-cli","author","license","bugs","homepage","dependencies","_callbacks","assign","error_description","jquery","Promise","fail","wipeTokens","ajax","mode","getToken","catch","then","Authorization","access_token","_fetch","fetch","status","popupCompleted","location","href","focus","timeout","isCompleted","setAttribute","search","_completed","_failed","errorCallback","getElementById","parentNode","_cleanup","localStorage","setItem","JSON","stringify","getItem","removeItem","scopes","expires","hasScope","getTokens","filterTokens","saveTokens","try","finally","return","from","MutationObserver","WebKitMutationObserver","domain","enter","navigator","standalone","createTextNode","observe","characterData","getIteratorMethod","BREAK","RETURN","PromiseRejectionEvent","_n","_c","_v","_s","ok","_h","M","L","emit","onunhandledrejection","reason","_a","onrejectionhandled","I","_d","_w","A","all","race","_t","_i","_k","Arguments","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","defineProperties","display","write","charCodeAt","includes","getOwnPropertySymbols","max","forEach","valueOf","FetcherJQuery","Fetcher","IFramePassive","Popup","HTTPRedirect","BasicLoader","JSO","iterator","lifetime","configure","providerID","getProviderID","Loader","callbacks","getValue","getState","processReceivedToken","received","expires_in","has","scope","saveToken","restoreHash","Headers","btoa","grant_type","redirect_uri","body","json","processTokenResponse","processAuthorizationCodeResponse","processErrorResponse","tokens","request","require","_getRequiredScopes","allowredir","_authorize","response_type","client_id","_getRequestScopes","nonce","loader","saveState","gotoAuthorizeURL","execute","mmooc","kpas","showInfo","groups","show","hide","getJsonData","progressId","html","d3","on","loaded","innerHTML","createDiagram","graphicId","isTeacherOrAdmin","courseId","groupsInfo","iframeSrc","municipalityId","countyId","_paq","async","insertBefore","messageHandler","findDomForWindow","sourceWindow","init","uob","setVimeoPlayerReady","subject","connectedMsg","sendMsg","api","getUserGroups","usergroupsmsg","util","updateInformationPane","getCurrentCourseId","getUserGroupsForCourse","dom","elem","parentElement","bgColor","getComputedStyle","getPropertyValue","bgColorMessage","kpasCheckElement","err","MultilangUtils","language","LANGUAGES","filter","lang","reduce","tooltipText","menu","tooltipRegexpPattern","attrSelector","querySelector","tooltip","getAttribute","tooltipParsedResult","getParsedTooltipText","spanned","getSpannedText","newTooltipText","createNewTooltipText","selectors","map","selector","querySelectorAll","flatMap","nodeList","makeSpansOf","textContent","splitArray","newContent","element","childNodes","every","childNode","nodeType","URLSearchParams","COOKIE_NAME","languageCode","isValidLanguage","history","replaceState","pathname","cookie","langCode","getLanguageParameter","langCookie","getLanguageCookie","isMultilangCourse","getLanguageCode","getLocale","activeLang","setLanguageCookie","setLanguageParameter","createCss","some","displayValue","toLowerCase","doApply","doc","editorCss","head","applyColorCodingInEditor","styleElement","endsWith","makeSpansForSelectors","multilanguage","_this3","perform","makeSpansOnPage","performPrevNextTooltip","makeSpansForTooltip","performNextTooltip","performPrevTooltip","initializeCss","nrk","mmoocLoadScript","privacyPolicy","currentPrivacyPolicyVersion","displayPrivacyPolicyDialog","renderTemplateWithData","privacyPolicyLink","settings","privacyPolicyBoxPosition","insertAdjacentHTML","before","onclick","privacyPolicyCheckbox","checked","disabled","saveUserPrivacyPolicyVersion","remove","isAuthenticated","getJSON","kpasinfo","privacyPolicyVersion","loadUserPrivacyPolicyVersion","userData","uobAddComponents","onElementRendered","$content","re","$tooltipElements","el","$tables","find","$table","_idx","_item","prev","trim","contents","strSetNum","strAnchor","strHTML","tableFound","strValue","strIndex","attr","acc","getElementsByClassName","classList","toggle","firstElementChild","panel","nextElementSibling","maxHeight","$tabs","tabs","active","collapsible","heightStyle","beforeActivate","ui","oldPanel","click","activate","beforeLoad","load","$revealBody","strSelector","iHashPos","lastIndexOf","css","$revealButton","button","icons","secondary","$button","slideUp","slideDown","$regexpInput","$input","strData","$data","$regexpButton","strDataRoot","strInput","strRegExp","$ratingTable","isTeacher","hasAnyRole","strParams","title","ENV","current_user_id","current_user","display_name","strRating","aBoxTags","found","strTag","patt","$anchor","strHref","file_id","isPreviewable","displayName","$a","$img","after","$div","onElementMissing","$identity","vimeoPlayerReady","vimeoTranscriptInitialized","vimeo","uobInititalized","onPage","regex","roles","cb","current_user_roles","_attempts","transcript","vimeoIframeId","vimeoVideoId","playbackRate","transcriptId","transcriptLoadingId","transcriptParentId","videoId","iframeId","transcriptButtonId","transcriptContentId","player","transcriptParentDiv","hrefPrefix","captionsLoaded","captionTimeout","captionsArr","captions","currentCaptionIndex","nextCaptionIndex","initializePlayer","Vimeo","Player","playerPlaying","playerNotPlaying","getVideoTitle","setPlaybackRate","findCaptionIndexFromTimestamp","timeStamp","duration","il","getStartTimeFromCaption","getDurationFromCaption","clearCurrentHighlighting","timeStampId","getTimeIdFromTimestampIndex","removeClass","highlightNextCaption","timestampId","addClass","target","targetParent","scrollTop","offsetTop","offsetHeight","calculateTimeout","currentTime","startTimeNextCaption","timeoutValue","setCaptionTimeout","clearTimeout","adjustedTimeoutValue","getPlaybackRate","highlightCaptionAndPrepareForNext","getCurrentTime","setCurrentTime","seekToTime","seconds","play","getPaused","paused","highlightCaptionFromTimestamp","startTime","removeLeadingAndTrailingDash","updateTranscriptText","srt_output","noOfSentencesInParagraph","captionText","displayErrorMessage","oTranscriptArea","msg","transcriptContentArea","createTranscriptArea","br","getTranscriptSelectId","transcriptArea","createLanguageMenu","selectedLanguage","getTextTracks","tracks","transcriptSelectId","languageTracks","onchange","autoPositionTranscriptParent","insertAfterSibling","iframeParent","iframeParentStyle","getVimeoVideoIdFromUrl","nextSibling","insertTranscriptParent","transcriptLoaded","transcriptXml","errorMessage","preferredLanguage","getPreferredLanguage","languages","selectedLanguageCode","nbLanguageAvailable","languageNo","languageTotal","getTranscriptId","getTranscriptParentId","getTranscriptContentId","getIFrameId","getVideoId","newPlaybackRate","getPlayer","getTranscript","oTranscript","success","response","XMLHttpRequest","textStatus","errorThrown","transcriptContainer","initialized","noOfVimeoVideos","noOfInits","getTranscriptFromTranscriptId","getNoOfVimeoVideos","getUniqueIframeId","vimeoId","globalThis","isFinite","firstChild","XDomainRequest","onload","responseText","domain_status_code","onerror","send","warn","userAgent","shift","global","WeakMap","_id","add","drain","chain","failure","triggered","def","__NPO__","N","q","Boolean","ownerDocument","defaultView","nodeName","_window","_onMessage","_originalElement","delete","isEnabled","isFullscreen","callMethod","time","kind","removeAttribute","fullscreenchange","fullscreenerror","off","requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","VimeoPlayerResizeEmbeds_","paddingBottom","bottom","youtube","transcriptIdPrefix","YT","events","onReady","onPlayerReady","onStateChange","onPlayerStateChange","transcriptArr","seekTo","playVideo","previousOnYouTubePlayerAPIReady","onYouTubePlayerAPIReady","APIReady","getTranscriptFromVideoId","getIframe","PlayerState","PLAYING","getScript","depth0","stack1","program1","checkReadStateFor","findRightUrlFor","localize","created_at","program2","program4","activities","program3","program5","program7","isMobileOrTablet","courseLabel","coursesAmountText","YouAreRegisteredToXCoursesText","enrolled","program8","program6","program10","depth1","public_description","program11","ifUnmaintained","program15","program13","ifRoleBased","program19","program17","courseAlert","depth2","goToCourse","self_enrollment_code","program21","program22","program24","program28","program26","program32","program30","coursesAmount","coursesEnrolledAmount","openCoursesGroupText","closeCoursesGroupText","courses","submission","attachments","getPathFromUrl","preview_url","program12","program14","getPeerReviewWorkflowIconClass","workflow_state","assessor","mmooc_url","late","norwegianDateAndTime","submitted_at","ifAllPeerReviewsAreComplete","peerReview","user","isPeerReviewFinished","isTeacherViewingStudentsSubmission","grade","assignment","points_possible","getSubmissionAssessmentText","ifAtLeastOnePeerReviewIsComplete","program27","program25","program29","program31","program33","program35","submissionTitle","assignment_id","isPeerReview","ifHasRole","enrollments","urlForCourseId","syllabus_body","course_progress","program9","requirement_count","ifEquals","requirement_completed_count","percentage","queryString","subtitle","courseIsMultilanguage","otherLanguages","menuItems","toolList","program16","selectedMenuItem","languageOptions","ifAllModulesCompleted","modules","percentageForModules","ifAllStudentModulesCompleted","percentageForStudentModules","dataportenGroup","member","privacypolicylink","homeOrganization","contactPoint","about","hoverOverText","group","avatar_url","members","groupId","feedback","alertMsg","unmaintainedSince","program18","program20","notificationtouser","expiredCommunity","observer","pfdk","logInText","logInCanvasText","items","indent","program23","isCurrentHeader","isCurrent","html_url","ifItemIsCompleted","completion_requirement","mapItemType","overrideIconClassByTitle","backToCoursePage","ifIsIndented","urlForFirstNoneCompleteItem","ifItemTypeDiscussion","content_id","coursemodules","urlForFirstNoneCompletePrincipalItem","linkText","accounts","group_id","user_id","assigns","categories","heading","login_id","logins","selfRegisterCode","forwardTo","RegisterText","closeOption","authenticated","RegisterWithCanvasText","label","displayInboxMenu","alertMenuItem","avatar_image_url","userId","userMergeLtiToolId","_ref","_urlToTypeMapping","_ajax","_env","_location","_uriPrefix","_defaultError","jqxhr","thrownError","_sendRequest","uri","_get","customError","student_id","_readOnlyError","_post","post","_put","_delete","listModulesForCourse","cid","noOfModules","asyncsDone","getCurrentModuleItemId","moduleId","relativeUrl","paramName","getCurrentTypeAndContentId","contentElementRegexp","isContentRegexp","contentId","getAllCourses","filteredCourses","filterSearchAllCourse","per_page","getAllPublicCourses","getEnrolledCourses","filterCourses","filterCourse","include","getModulesForCurrentCourse","getModulesForCourseId","getItemsForModuleId","currentUrl","utilRoot","getCourseIdFromUrl","getModuleItemSequence","moduleItemId","moduleItemSequence","asset_id","asset_type","getCourse","isGroupDiscussion","DISCUSSION","IS_GROUP","getDiscussionTopic","discussion","group_category_id","getCurrentGroupId","getGroup","getGroupMembers","getCurrentModuleForItemOrTypeAndContentId","typeAndContentId","bCurrentItemFound","currentHeaderItem","noOfItemsBelongingToThisHeaderDone","noOfItemsBelongingToThisHeader","completed","passed","getCurrentModuleItemForGroupDiscussion","groupTopicId","regexp","_this","getSpecificGroupDiscussionTopic","groupDiscussion","currentTypeAndContentId","root_topic_id","getCurrentModule","currentModuleItemId","bFound","LOCALE","usesFrontPage","COURSE","default_view","getRoles","getUser","getUserProfile","getActivityStreamForUser","currentPageIsAnnouncement","size","currentPageIsModuleItem","getUnreadMessageSize","getSectionRecipients","recipientsContext","permissions","messageable_only","synthetic_contexts","postMessageToConversation","recipient","courseContext","recipients","getAccounts","getUsersForAccount","account","getCoursesForAccount","getCoursesForUser","getGroupCategoriesForAccount","getGroupCategoriesForCourse","_getGroupsForAccountHelper","accumulatedGroups","that","xhr","getResponseHeader","fullURI","getGroupsForAccount","getGroupCategory","categoryID","getGroupsInCategory","getGroupsInCourse","courseID","usersGroups","course_id","getSectionsForCourse","getSingleSection","sectionID","getSingleAssignment","assignmentId","getAssignmentsForCourse","getPagesForCourse","getDiscussionTopicsForCourse","getQuizzesForCourse","getSingleSubmissionForUser","getPeerReviewsForSubmissionId","submission_id","getPeerReviewsForAssignment","createPeerReview","assignmentID","submissionID","userID","enrollUser","enrollAction","enrollUserIdInSection","sectionId","etype","enrollment[user_id]","enrollment[type]","enrollment[enrollment_state]","enrollment[limit_privileges_to_course_section]","createGroup","categoryId","groupName","createSection","sectionName","course_section[name]","createGroupMembership","gid","uid","createUserLogin","account_id","getQuiz","getGroupDiscussionTopics","getAnnouncementsForCourse","only_announcements","getEnrollmentsForCourse","getEnrollmentsForSection","getUsersEnrollmentsForCourse","_defineProperty","ns","saveUserCustomData","loadUserCustomData","forced_read_state","hrefQueryString","hrefAmpQueryString","settingsRoot","feideEnrollRefferers","kpasApiUrl","getLinkToMyCourses","parse_query_string","query","vars","query_string","arr","urlParamsToObject","checkReferrer","ref","referrer","isEnrollReferrer","permittedReferrers","hasPermittedRefferer","redirectFeideAuthIfEnrollReferrer","isEnrollCodeParamPassed","urlParamsObj","enrollCode","isLoginParamPassed","triggerForgotPasswordIfParamPassed","redirectToEnrollIfCodeParamPassed","design","newHref","linkToMyCourses","redirectToSamlIfUdirCourse","currentCourseId","isDeepLinkToUdirCourse","context_id","tmpHref","tmpHrefArr","announcements","hideMarkAsReadButton","updateNotificationsForUser","addMarkAsReadButton","discussionTopic","read_state","buttonHTML","markDiscussionTopicAsRead","printAnnouncementsUnreadCount","totalUnread","announcement","unread_count","printUnreadCountInTab","setAnnouncementsListUnreadClass","_this4","checkExist","setInterval","clearInterval","badges","resizeIframe","adaptHeightToIframeContentForId","initPage","resizeTimer","claimBadge","OpenBadges","urls","callBack","issue_no_modal","courseList","listCourses","parentId","appendTo","linkToAvailableCourses","getLinkToAvailableCourses","i18n","CoursePlural","NoEnrollments","sortedCourses","sortCourses","categorys","getCourseCategories","getCoursesCategorized","Course","updateProgressForRoleBasedCourses","showAddCourseButton","AddACourse","showFilter","filterOptions","applyFilter","_this5","courseCode","isCourseCompleted","coursePage","showCourseInvitation","enrollButton","linkToSelectedCourse","selectedCourseId","EnrollButton","preventDefault","listModulesAndShowProgressBar","progressHTML","modulesHTML","isActiveCourseRoleBased","isPrincipal","CourseProgressionTitle","navname","GoToModule","ModulePlural","isMMOOCLicense","footer","addLicenseInFooter","postModuleCoursePageProcessing","discussionTopics","printDiscussionUnreadCount","hideCourseInvitationsForAllUsers","closest","overrideUnregisterDialog","selfUnenrollmentButton","selfUnenrollmentDialog","DropCourse","prepend","DropCourseDialogText","JoinCourseDialogText","replaceUpcomingInSidebar","coming_up","replaceWith","eventsAndDeadlinesTitle","_displayDeadlines","allDeadlines","date","monthName","getMonthShortName","getDate","upcoming","findUpcomingDate","row","position","scroll","animate","printDeadlinesForCourse","all_events","context_codes","getCaledarEvents","end_at","deadlineObj","assignments","all_day_date","dates","nearestDate","today","nearestDiff","Infinity","noMoreDeadlines","diff","coursesettings","getStyle","color","bgcolor","getBooleanOutput","printRowInTableId","c1","c2","rowHtml","printRowWithColorInTableId","printRedRowInTableId","printGreenRowInTableId","printRowWithColor","printRedRow","getSanityTableId","getWaitIconRowId","tableId","waitIcon","clearWaitIcon","printPageTable","postProcessPageTable","req","reqtype","printSubHeaderTable","postProcessSubHeaderTable","printFileTable","contentHtml","postProcessFileTable","printDiscussionTable","postProcessDiscussionTable","discussion_type","printAssignmentTable","postProcessAssignmentTable","submission_types","allowed_extensions","due_at","peer_reviews","automatic_peer_reviews","hvvfrist","peer_reviews_assign_at","peer_review_count","printQuizTable","postProcessQuizTable","printSanityTableForItem","postProcessSanityTableForItem","getCommonUrlKey","urlPrefix","storeItem","AllModuleItems","getSanityTableForModule","moduleItems","published","min_score","postProcessSanityTableForModule","processModules","postProcessModules","getTitle","pageType","DISCUSSIONTYPE","PAGETYPE","getPublishedString","getOrphanTableId","createTable","printRowWithColorInOrphanTable","c3","printRedRowInOrphanTable","printGreenRowInOrphanTable","getOrphanItemsTable","itemList","orphans","getGroupCategoryTableId","getSectionTableId","ASSIGNMENTTYPE","QUIZTYPE","addSanityCheckButton","bCancel","contentarea","coursePublished","pages","discussions","quizzes","addListSectionsButton","sections","resultHtml","addListUsersButton","tableHtml","section","enrollment","course_section_id","sis_user_id","addListAssignmentsButton","addListGroupsButton","category","dataporten","dataportenCallback","dataportenClientId","kpasapiurl","opts","client","authorization","getSilentOpts","silent_opts","prompt","getClient","updateStatus","clearStatus","updateContent","clearContent","checkToken","tokenBelongsToLoggedInUser","belongs","canvasUserId","dataportenUserInfo","validToken","userid","userid_sec","printLogoutOptions","hiddenIframeLogin","displayUserInfo","getUserInfo","userInfo","displayGroups","getFeideIdFromDataportenUserInfo","userIdSec","userProfile","feideId","wipeToken","printLoginOptions","dataportenHtml","authorizePopup","beforeSend","setRequestHeader","errMsg","alert","isMemberOf","groupCategory","canvasGroups","addUserToGroup","unenrollmentIds","displayOneGroup","membership","basic","dataportenGroupHtml","dataportenGroups","setLoader","moveSequenceLinks","sequenceContainer","sequenceContainerContent","cloneSequenceContainer","clone","discussionContainer","setDiscussionTopicPubDate","formattedDate","posted_at","pubDate","prependTo","setDiscussionsListUnreadClass","insertSearchButton","discussionItems","getDiscussionItems","groupDiscussionTopics","printUnreadCountOnIcon","printGroupDiscussionUnreadCount","sectionNames","totalAsyncs","allUnreadCounts","rootTopicUnreadCountsObj","rootTopicId","unreadCount","unreadCountForRootTopic","totalRootTopicUnreadCounts","totalRootTopicUnreadCountsObj","uniqueTotalRootTopicUnreadCounts","used","printUnreadCountInDiscussionsList","unread","discussionId","groupDiscussionsUnreadCount","showUnreadCountInDiscussionList","hideUnreadCountInDiscussionList","injectReplyButtonAction","userGroups","tinyMceEditorIsInDOM","tinyMCEEditor","injectGroupHashtags","subReplyButtons","enroll","displayRegisterPopup","registerText","registerWithCanvasText","courseName","changeEnrollInformationPolicyLink","informationPolicy","termsOfService","addForgotPasswordLink","buttonId","forgotPasswordButtonHtml","forgotPasswordButton","updateGotoDashboardButton","$this","_href","changeEnrollPage","printAllCoursesContainer","allAvailableCoursesIngress","AllAvailableCoursesIngress","goToAllCourses","printAllCourses","allCourses","enrolledCourses","allCoursesWithStatus","setCourseEnrolledStatus","allCoursesWithStatusSorted","coursesCategorized","coursesCategory","courseRegisterText","LogInCanvas","CourseRegisterWhenAuthenticated","coursesRoleBasedAmount","noOfRoleBasedCourses","coursesPersonalBasedAmount","noOfPersonalBasedCourses","CoursesAmount","GoToCourse","courseRegister","OpenCoursesGroup","CloseCoursesGroup","YouAreRegisteredToXCourses","handleRegisterButtonClick","NoCoursesInfo","insertModalAndOverlay","setClickHandlers","accordionIndex","hasClass","toggleClass","tabIndex","mobileTabIndex","createHashTags","scrollToCourse","RegisterPopup","RegisterWithCanvas","hashTag","currentTarget","firstCourseId","siblings","eq","currentHash","currentElementId","trigger","matchMedia","handleEnrollClick","keyCode","populateFilter","utgaatteKommuneNr","$mmoocLicenseElement","changeFooter","$parentElementOfOldFooter","aboutThePlatform","greeting","redesignPage","fixLinkToModules","firstItemPerModule","oldPath","moduleNumber","enableGreetingButtonIfNecessary","$diplomaButton","$formIdDiv","$nameEntryIdDiv","$emailEntryIdDiv","formId","nameEntryId","emailEntryId","str1","str2","googleurl","nameEntry","emailEntry","profile","primary_email","dataType","complete","jqXHR","enableDownloadDiplomaButtonIfNecessary","$downloadDiplomaButton","$scriptUrlDiv","$diplomaIdDiv","scriptUrl","diplomaId","downloadingDiploma","bufferArray","Int8Array","diploma","blob","Blob","link","URL","createObjectURL","download","diplomaName","innerText","enableNewGreetingButtonIfNecessary","$newDiplomaButton","$diplomaId","interceptLinkToGroupPageForHref","interceptLinksToGroupPage","interceptLinksToTeacherGroupPage","showGroupHeader","headerHTML","changeGroupListURLs","login","handleLoginButtonClick","LogInPopup","addInfoMessage","_renderCourseMenu","hideTabs","_insertCourseMenuHtml","languagesMap","languagesExcept","previousLanguage","newLanguage","setActiveLanguage","groupsUrl","useDataportenGroups","displayGroupsTab","displayDiscussionsTab","tools","getToolsInLeftMenu","tool","activeTool","activeToolName","activeToolPath","badgeSafe","extractBadgesLinkFromPage","useCanvaBadge","setCanvaBadgesLink","canvaBadgeObject","handleMenuClick","createStyleSheet","sheet","insertCustomMenuElementInTopMenu","menuSelectId","menuId","mouseleave","stylesheet","listModuleItems","courseIsRoleBased","tooltipsHandled","BackToCoursePage","updatePrevAndNextButtons","postModuleMenuProcessing","$trigger","handlePrevModuleItem","prevItem","prevButton","updateButtonTooltip","handleNextModuleItem","nextItem","nextButton","oldText","tooltipType","newText","update","firstValidItem","lastValidItem","prevSet","nextSet","currentFound","showLeftMenu","insertRule","cssRules","renderLeftHeaderMenu","removeGlobalGradesLink","removeGroupsLink","renderUnauthenticatedMenu","alterHomeLink","LogIn","htmlMobile","hideRightMenu","showMobileTabs","selectedTab","notSelectedTabs","allTabs","desktopViewport","tabsNotSelected","tabsHamburger","hideSectionTabsHeader","showHamburger","header","showMobileMenu","mobileMenu","showUserMenu","displayAlertsMenuItem","conversations","msgBadge","setMenuActiveLink","unreadNotifications","badge","notifications","showAllItems","showCourseMenu","showBackButton","groupHeaderHTML","showDiscussionGroupMenu","strLeft","sourceStr","keyStr","_addGetHelpFromteacherButton","_getSectionRecipientFromGroupName","sectionRecipients","_tilkallVeilederFeilet","_sendMessageToSectionTeachers","groupCourseId","sectionRecipient","sectionRecipientTeachers","GroupGetInTouchSubject","discussionUrl","discussionAndGroupTitle","discussionTitle","newLine","WeHaveAQuestionToTeacherInTheDiscussion","_addClickEventOnGetHelpFromTeacherButton","getHelpButtonFromteacherButtonHTML","CallForInstructorHoverOverText","getPageTitleAfterColon","displayCallForAssistanceButtonInGroupDisccussions","activity","Badgesafe","host","urlToCanvaBadgesApi","CanvaBadgeProtocolAndHost","crossDomain","injectGroupsPage","detach","alterCourseLink","updateButtonText","is","getHeaderBarJson","headerBarPosition","headerBar","addButton","buttonHtml","headerBarJson","modifyMarkAsDoneButton","bind","change","addGotoModuleButton","addStudentViewButton","COURSE_ID","updateSidebarWhenMarkedAsDone","icon","principal","activeHeader","activeListId","activeList","noOfItemsInActiveList","noOfItemsDoneInActiveList","headerIcon","updateSidebarWhenContributedToDiscussion","createMarkAsDoneButtonClone","markAsDoneButton","cloneButtonId","oldMarkAsDoneButtonClone","newMarkAsDoneButtonClone","cloneNode","showInformationPane","isMemberOfExpiredCommunity","paneHTML","hideInformationPane","showBackLinkIfNecessary","linkBack","LinkBack","redesignAssignmentPage","_isAssignmentWithPeerReview","returnValue","peerReviewer","PeerReviewer","_getPeerReviewArray","_getWorkFlowState","peerReviewLinkClass","_workflow_state","$peerReviewLinks","_peerReview","_appendPeerReviewHtmlOnRightSide","peerReviewHtml","_appendPeerReviewWarningInContentsColumn","peerReviewWarningHtml","_displayRightColumnContents","redesignPeerReviewAndOwnSubmissionDetailsPage","_isCodeRunningInIframe","SUBMISSION","_getSubmissionTitle","PeerReview","DetailsAboutYourDelivery","submission_user_id","DetailsAboutDelivery","_isTeacherViewingStudentsSubmission","_isPeerReviewFinished","_isRubric","_addClickEventOnOpenAssessmentButton","_updateDomAfterSaveRubricButtonClick","_appendCompletedPeerReviewHtml","submissionObject","submissionHtml","_logDataToConsole","_isPeerReview","peerReviewText","originalSubmissionHeader","_isOwnSubmission","deliveryText","Delivery","_appendSubmissionHtml","isRubric","isOwnSubmission","powerFunctions","rootId","_render","AssignPeerReviewsForGroup","_renderView","peerReviewAssignments","peerReviewAssignment","activeAssignment","assignmentDue","peerReviewDue","getMonth","getFullYear","selectedGroups","_this6","_listPeerReviewsForGroup","_showInput","peerReviewsInGroup","count","inArray","groupsMembers","allSubmitted","noOfAssignedPeerReviewsForStudent","noOfPeerReviewersForStudent","peerReviews","groupsMembersSorted","_findSubmissionsForGroups","totalMembers","_printSingleGroup","submitted","assessor_id","noOfAssignedPeerReviews","unbind","numOfReviews","_isNormalInteger","_createPeerReviewsForGroups","assesorIndex","skipped","defaultNumberOfReviews","run","ListStudentProgress","_printStudentProgressForSection","moduleID","sectionIndex","sectionParams","moduleParams","students","itemsForStudent","Menu","_setUpClickHandlers","routes","Route","paths","queryStrings","handler","isAlreadyHandled","addRouteForPath","addRouteForQueryString","addRouteForPathOrQueryString","performHandlerForUrl","route","hasQueryString","number1","number2","var1","var2","isUnmaintained","isRoleBasedCourse","role","value1","value2","principalRoleType","timestamp","year","day","monthNumber","Months","numberOfReviews","numberOfReviewsCompleted","singlePeerReview","SubmissionIsNotAssessed","SubmissionIsAssessedByOne","SubmissionIsAssessedByAll","OutOf","SubmissionAssessmentsAreReady","atLeastOnePeerReviewComplete","allPeerReviewsAreComplete","percentageProgress","firstIncompleteItemHtmlUrl","optionalValue","getGroupNames","groupNames","hyphenateGroupNames","regExp","hyphenatedGroupNames","trimmedName","hyphenatedName","hashtagGroupNames","hashtaggedGroupNames","hashtaggedGroupName","htmlDecode","encoded","DOMParser","parseFromString","hashtaggedHyphenatedGroupNames","joinedNames","htmlElementWithGroupNames","rawContent","tinyMCE","activeEditor","getContent","setContent","uidp","uidpCallback","uidpClientId","uidpUserInfo","getFeideIdFromuidpUserInfo","uidpHtml","id_token","loginType","dashboard","valideToken","courseListEnum","normalCourse","allCoursesList","myCoursesList","mmoocScript","mmoocScriptElement","templates","check","vendor","opera","getPageTitleBeforeColon","filterCoursesOnAccountId","callWhenElementIsPresent","classId","checkClassId","arraySorted","array","elementToSort","field1","toLocaleLowerCase","field2","localeCompare","usage","goBack","oldHash","back","preventPropagation","containerId","frameId","isEnrolledAsStudent","isEnrolledAsObserver","enrollmentsHasRoleInCourse","hasRoleInCourse","isObserver","isEnrolledWithRole","isPfDKCourse","hasOptionFunction","postModuleProcessing","isAlertMsg","isNotificationToUser","isFeedback","getCountyOrCommunityNumber","groupDescription","onEnrollPage","memberOfUtgaattKommune","countyOrCommunityNumber","getGroupsInfo","bIncludeIndentedItems","firstHtmlUrl","firstItem","total","divId","setGlobalPeerReviewButtonState","disablePeerReviewButton","prop","month","getHours","getMinutes","getWeekdayShortName","getDay","hasOther","getCourseCategory","aParams","aCourseCode","bParams","categoryCourses","roleBasedCourse","categoryObj","modulesFound","currentClass","debounce","func","wait","immediate","later","callNow","fun","res","thisp","urlHashToObject","updateRightMenuButtons","isCourseFrontpageForAllCoursesList","executeCallbackWhenObjectExists","functionWithObjectReference","counter","maxTries","objectExistInterval","displayProfileLeftMenu","displayUserMergeButton","platformName","CourseContinue","amount","CreateAccountTitle","CreateAccountSubtitle","CourseDefinite","Module","CourseModules","Assignment","Discussion","Quiz","Page","ExternalUrl","ExternalTool","File","Announcement","DiscussionTopic","Conversation","Message","Submission","AssessmentRequest","Conference","Collaboration","NoTeacherFeedbackLink","courseView","opener","canvabadgesForCurrentCourse","frontPage","elementId","notificationButtonHTML","mergeUserButtonHTML","isBadgesafePage","extractPluginNumber","badgesafeUrl","protocol_and_host","isProfilePage","splits","$box","$badge","config_id","config_nonce","image_url"],"mappings":"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IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAEJxhE,KAAK64B,MAAQ74B,KAAK64B,UAElB74B,KAAK64B,MAAMk2B,OAAU,WACnB,OACEC,mBAAqB,WACnBv7C,EAAE,mBAAmBylB,MACrB,IAAIuoC,GAAuBhuD,EAAE,iBAEzB4lB,EAAOR,MAAMoC,KAAK2F,uBAAuB,oBAC7C6gC,GAAqBpoC,KAAKA,IAE5BqoC,aAAe,WACb,GAAIC,GAA4BluD,EAAE,gCAC9B4lB,EAAOR,MAAMoC,KAAK2F,uBAAuB,UAAWC,kBAAmBhI,MAAMiI,SAASD,kBAAmBuZ,iBAAkBvhB,MAAMiI,SAASsZ,iBAAkBC,aAAcxhB,MAAMiI,SAASuZ,aAAcC,MAAOzhB,MAAMiI,SAAS8gC,kBACjOD,GAA0BniD,OAAO6Z,QAKvCR,MAAQA,UAERA,MAAMgpC,SAAY,WAChB,QAASC,KACPruD,EAAE,YAAY42B,SAAS,gBAGzB,QAAS03B,GAAiB//B,GACpBA,EAASK,KAAK,iBAAiBihB,QAAU,IAI7Cwe,IACAjpC,MA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","file":"mmooc-min-Goalsevarri_3_2_prod.js","sourcesContent":["class CourseOptions {\n    static delimitor() {\n        return '::';\n    }\n\n    static hasOption(course, option) {\n        if (course) {\n            const code = course.course_code.toUpperCase();\n            const upperCaseOption = option.toUpperCase();\n            const delimitor = this.delimitor();\n\n            return code.indexOf(delimitor + upperCaseOption + delimitor) > -1;\n        }\n        return false;\n    }\n\n    static hasOptionFunction(option) {\n        return (course) => this.hasOption(course, option);\n    }\n}\n// Source H5P resizer: https://h5p.org/sites/all/modules/h5p/library/js/h5p-resizer.js\r\n// H5P iframe Resizer\r\n(function () {\r\n  if (!window.postMessage || !window.addEventListener || window.h5pResizerInitialized) {\r\n    return; // Not supported\r\n  }\r\n  window.h5pResizerInitialized = true;\r\n\r\n  // Map actions to handlers\r\n  var actionHandlers = {};\r\n\r\n  /**\r\n   * Prepare iframe resize.\r\n   *\r\n   * @private\r\n   * @param {Object} iframe Element\r\n   * @param {Object} data Payload\r\n   * @param {Function} respond Send a response to the iframe\r\n   */\r\n  actionHandlers.hello = function (iframe, data, respond) {\r\n    // Make iframe responsive\r\n    iframe.style.width = '100%';\r\n\r\n    // Bugfix for Chrome: Force update of iframe width. If this is not done the\r\n    // document size may not be updated before the content resizes.\r\n    iframe.getBoundingClientRect();\r\n\r\n    // Tell iframe that it needs to resize when our window resizes\r\n    var resize = function () {\r\n      if (iframe.contentWindow) {\r\n        // Limit resize calls to avoid flickering\r\n        respond('resize');\r\n      }\r\n      else {\r\n        // Frame is gone, unregister.\r\n        window.removeEventListener('resize', resize);\r\n      }\r\n    };\r\n    window.addEventListener('resize', resize, false);\r\n\r\n    // Respond to let the iframe know we can resize it\r\n    respond('hello');\r\n  };\r\n\r\n  /**\r\n   * Prepare iframe resize.\r\n   *\r\n   * @private\r\n   * @param {Object} iframe Element\r\n   * @param {Object} data Payload\r\n   * @param {Function} respond Send a response to the iframe\r\n   */\r\n  actionHandlers.prepareResize = function (iframe, data, respond) {\r\n    // Do not resize unless page and scrolling differs\r\n    if (iframe.clientHeight !== data.scrollHeight ||\r\n        data.scrollHeight !== data.clientHeight) {\r\n\r\n      // Reset iframe height, in case content has shrinked.\r\n      iframe.style.height = data.clientHeight + 'px';\r\n      respond('resizePrepared');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Resize parent and iframe to desired height.\r\n   *\r\n   * @private\r\n   * @param {Object} iframe Element\r\n   * @param {Object} data Payload\r\n   * @param {Function} respond Send a response to the iframe\r\n   */\r\n  actionHandlers.resize = function (iframe, data) {\r\n    // Resize iframe so all content is visible. Use scrollHeight to make sure we get everything\r\n    iframe.style.height = data.scrollHeight + 'px';\r\n  };\r\n\r\n  /**\r\n   * Keyup event handler. Exits full screen on escape.\r\n   *\r\n   * @param {Event} event\r\n   */\r\n  var escape = function (event) {\r\n    if (event.keyCode === 27) {\r\n      exitFullScreen();\r\n    }\r\n  };\r\n\r\n  // Listen for messages from iframes\r\n  window.addEventListener('message', function receiveMessage(event) {\r\n    if (event.data.context !== 'h5p') {\r\n      return; // Only handle h5p requests.\r\n    }\r\n\r\n    // Find out who sent the message\r\n    var iframe, iframes = document.getElementsByTagName('iframe');\r\n    for (var i = 0; i < iframes.length; i++) {\r\n      if (iframes[i].contentWindow === event.source) {\r\n        iframe = iframes[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!iframe) {\r\n      return; // Cannot find sender\r\n    }\r\n\r\n    // Find action handler handler\r\n    if (actionHandlers[event.data.action]) {\r\n      actionHandlers[event.data.action](iframe, event.data, function respond(action, data) {\r\n        if (data === undefined) {\r\n          data = {};\r\n        }\r\n        data.action = action;\r\n        data.context = 'h5p';\r\n        event.source.postMessage(data, event.origin);\r\n      });\r\n    }\r\n  }, false);\r\n\r\n  // Let h5p iframes know we're ready!\r\n  var iframes = document.getElementsByTagName('iframe');\r\n  var ready = {\r\n    context: 'h5p',\r\n    action: 'ready'\r\n  };\r\n  for (var i = 0; i < iframes.length; i++) {\r\n    if (iframes[i].src.indexOf('h5p') !== -1) {\r\n      iframes[i].contentWindow.postMessage(ready, '*');\r\n    }\r\n  }\r\n\r\n})();\n/*!\r\n\r\n handlebars v1.3.0\r\n\r\nCopyright (C) 2011 by Yehuda Katz\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n\r\n@license\r\n*/\r\n/* exported Handlebars */\r\nvar Handlebars = (function() {\r\n// handlebars/safe-string.js\r\nvar __module4__ = (function() {\r\n  \"use strict\";\r\n  var __exports__;\r\n  // Build out our basic SafeString type\r\n  function SafeString(string) {\r\n    this.string = string;\r\n  }\r\n\r\n  SafeString.prototype.toString = function() {\r\n    return \"\" + this.string;\r\n  };\r\n\r\n  __exports__ = SafeString;\r\n  return __exports__;\r\n})();\r\n\r\n// handlebars/utils.js\r\nvar __module3__ = (function(__dependency1__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  /*jshint -W004 */\r\n  var SafeString = __dependency1__;\r\n\r\n  var escape = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': \"&quot;\",\r\n    \"'\": \"&#x27;\",\r\n    \"`\": \"&#x60;\"\r\n  };\r\n\r\n  var badChars = /[&<>\"'`]/g;\r\n  var possible = /[&<>\"'`]/;\r\n\r\n  function escapeChar(chr) {\r\n    return escape[chr] || \"&amp;\";\r\n  }\r\n\r\n  function extend(obj, value) {\r\n    for(var key in value) {\r\n      if(Object.prototype.hasOwnProperty.call(value, key)) {\r\n        obj[key] = value[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  __exports__.extend = extend;var toString = Object.prototype.toString;\r\n  __exports__.toString = toString;\r\n  // Sourced from lodash\r\n  // https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\r\n  var isFunction = function(value) {\r\n    return typeof value === 'function';\r\n  };\r\n  // fallback for older versions of Chrome and Safari\r\n  if (isFunction(/x/)) {\r\n    isFunction = function(value) {\r\n      return typeof value === 'function' && toString.call(value) === '[object Function]';\r\n    };\r\n  }\r\n  var isFunction;\r\n  __exports__.isFunction = isFunction;\r\n  var isArray = Array.isArray || function(value) {\r\n    return (value && typeof value === 'object') ? toString.call(value) === '[object Array]' : false;\r\n  };\r\n  __exports__.isArray = isArray;\r\n\r\n  function escapeExpression(string) {\r\n    // don't escape SafeStrings, since they're already safe\r\n    if (string instanceof SafeString) {\r\n      return string.toString();\r\n    } else if (!string && string !== 0) {\r\n      return \"\";\r\n    }\r\n\r\n    // Force a string conversion as this will be done by the append regardless and\r\n    // the regex test will do this transparently behind the scenes, causing issues if\r\n    // an object's to string has escaped characters in it.\r\n    string = \"\" + string;\r\n\r\n    if(!possible.test(string)) { return string; }\r\n    return string.replace(badChars, escapeChar);\r\n  }\r\n\r\n  __exports__.escapeExpression = escapeExpression;function isEmpty(value) {\r\n    if (!value && value !== 0) {\r\n      return true;\r\n    } else if (isArray(value) && value.length === 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  __exports__.isEmpty = isEmpty;\r\n  return __exports__;\r\n})(__module4__);\r\n\r\n// handlebars/exception.js\r\nvar __module5__ = (function() {\r\n  \"use strict\";\r\n  var __exports__;\r\n\r\n  var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\r\n\r\n  function Exception(message, node) {\r\n    var line;\r\n    if (node && node.firstLine) {\r\n      line = node.firstLine;\r\n\r\n      message += ' - ' + line + ':' + node.firstColumn;\r\n    }\r\n\r\n    var tmp = Error.prototype.constructor.call(this, message);\r\n\r\n    // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\r\n    for (var idx = 0; idx < errorProps.length; idx++) {\r\n      this[errorProps[idx]] = tmp[errorProps[idx]];\r\n    }\r\n\r\n    if (line) {\r\n      this.lineNumber = line;\r\n      this.column = node.firstColumn;\r\n    }\r\n  }\r\n\r\n  Exception.prototype = new Error();\r\n\r\n  __exports__ = Exception;\r\n  return __exports__;\r\n})();\r\n\r\n// handlebars/base.js\r\nvar __module2__ = (function(__dependency1__, __dependency2__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var Utils = __dependency1__;\r\n  var Exception = __dependency2__;\r\n\r\n  var VERSION = \"1.3.0\";\r\n  __exports__.VERSION = VERSION;var COMPILER_REVISION = 4;\r\n  __exports__.COMPILER_REVISION = COMPILER_REVISION;\r\n  var REVISION_CHANGES = {\r\n    1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\r\n    2: '== 1.0.0-rc.3',\r\n    3: '== 1.0.0-rc.4',\r\n    4: '>= 1.0.0'\r\n  };\r\n  __exports__.REVISION_CHANGES = REVISION_CHANGES;\r\n  var isArray = Utils.isArray,\r\n      isFunction = Utils.isFunction,\r\n      toString = Utils.toString,\r\n      objectType = '[object Object]';\r\n\r\n  function HandlebarsEnvironment(helpers, partials) {\r\n    this.helpers = helpers || {};\r\n    this.partials = partials || {};\r\n\r\n    registerDefaultHelpers(this);\r\n  }\r\n\r\n  __exports__.HandlebarsEnvironment = HandlebarsEnvironment;HandlebarsEnvironment.prototype = {\r\n    constructor: HandlebarsEnvironment,\r\n\r\n    logger: logger,\r\n    log: log,\r\n\r\n    registerHelper: function(name, fn, inverse) {\r\n      if (toString.call(name) === objectType) {\r\n        if (inverse || fn) { throw new Exception('Arg not supported with multiple helpers'); }\r\n        Utils.extend(this.helpers, name);\r\n      } else {\r\n        if (inverse) { fn.not = inverse; }\r\n        this.helpers[name] = fn;\r\n      }\r\n    },\r\n\r\n    registerPartial: function(name, str) {\r\n      if (toString.call(name) === objectType) {\r\n        Utils.extend(this.partials,  name);\r\n      } else {\r\n        this.partials[name] = str;\r\n      }\r\n    }\r\n  };\r\n\r\n  function registerDefaultHelpers(instance) {\r\n    instance.registerHelper('helperMissing', function(arg) {\r\n      if(arguments.length === 2) {\r\n        return undefined;\r\n      } else {\r\n        throw new Exception(\"Missing helper: '\" + arg + \"'\");\r\n      }\r\n    });\r\n\r\n    instance.registerHelper('blockHelperMissing', function(context, options) {\r\n      var inverse = options.inverse || function() {}, fn = options.fn;\r\n\r\n      if (isFunction(context)) { context = context.call(this); }\r\n\r\n      if(context === true) {\r\n        return fn(this);\r\n      } else if(context === false || context == null) {\r\n        return inverse(this);\r\n      } else if (isArray(context)) {\r\n        if(context.length > 0) {\r\n          return instance.helpers.each(context, options);\r\n        } else {\r\n          return inverse(this);\r\n        }\r\n      } else {\r\n        return fn(context);\r\n      }\r\n    });\r\n\r\n    instance.registerHelper('each', function(context, options) {\r\n      var fn = options.fn, inverse = options.inverse;\r\n      var i = 0, ret = \"\", data;\r\n\r\n      if (isFunction(context)) { context = context.call(this); }\r\n\r\n      if (options.data) {\r\n        data = createFrame(options.data);\r\n      }\r\n\r\n      if(context && typeof context === 'object') {\r\n        if (isArray(context)) {\r\n          for(var j = context.length; i<j; i++) {\r\n            if (data) {\r\n              data.index = i;\r\n              data.first = (i === 0);\r\n              data.last  = (i === (context.length-1));\r\n            }\r\n            ret = ret + fn(context[i], { data: data });\r\n          }\r\n        } else {\r\n          for(var key in context) {\r\n            if(context.hasOwnProperty(key)) {\r\n              if(data) { \r\n                data.key = key; \r\n                data.index = i;\r\n                data.first = (i === 0);\r\n              }\r\n              ret = ret + fn(context[key], {data: data});\r\n              i++;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if(i === 0){\r\n        ret = inverse(this);\r\n      }\r\n\r\n      return ret;\r\n    });\r\n\r\n    instance.registerHelper('if', function(conditional, options) {\r\n      if (isFunction(conditional)) { conditional = conditional.call(this); }\r\n\r\n      // Default behavior is to render the positive path if the value is truthy and not empty.\r\n      // The `includeZero` option may be set to treat the condtional as purely not empty based on the\r\n      // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\r\n      if ((!options.hash.includeZero && !conditional) || Utils.isEmpty(conditional)) {\r\n        return options.inverse(this);\r\n      } else {\r\n        return options.fn(this);\r\n      }\r\n    });\r\n\r\n    instance.registerHelper('unless', function(conditional, options) {\r\n      return instance.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn, hash: options.hash});\r\n    });\r\n\r\n    instance.registerHelper('with', function(context, options) {\r\n      if (isFunction(context)) { context = context.call(this); }\r\n\r\n      if (!Utils.isEmpty(context)) return options.fn(context);\r\n    });\r\n\r\n    instance.registerHelper('log', function(context, options) {\r\n      var level = options.data && options.data.level != null ? parseInt(options.data.level, 10) : 1;\r\n      instance.log(level, context);\r\n    });\r\n  }\r\n\r\n  var logger = {\r\n    methodMap: { 0: 'debug', 1: 'info', 2: 'warn', 3: 'error' },\r\n\r\n    // State enum\r\n    DEBUG: 0,\r\n    INFO: 1,\r\n    WARN: 2,\r\n    ERROR: 3,\r\n    level: 3,\r\n\r\n    // can be overridden in the host environment\r\n    log: function(level, obj) {\r\n      if (logger.level <= level) {\r\n        var method = logger.methodMap[level];\r\n        if (typeof console !== 'undefined' && console[method]) {\r\n          console[method].call(console, obj);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  __exports__.logger = logger;\r\n  function log(level, obj) { logger.log(level, obj); }\r\n\r\n  __exports__.log = log;var createFrame = function(object) {\r\n    var obj = {};\r\n    Utils.extend(obj, object);\r\n    return obj;\r\n  };\r\n  __exports__.createFrame = createFrame;\r\n  return __exports__;\r\n})(__module3__, __module5__);\r\n\r\n// handlebars/runtime.js\r\nvar __module6__ = (function(__dependency1__, __dependency2__, __dependency3__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var Utils = __dependency1__;\r\n  var Exception = __dependency2__;\r\n  var COMPILER_REVISION = __dependency3__.COMPILER_REVISION;\r\n  var REVISION_CHANGES = __dependency3__.REVISION_CHANGES;\r\n\r\n  function checkRevision(compilerInfo) {\r\n    var compilerRevision = compilerInfo && compilerInfo[0] || 1,\r\n        currentRevision = COMPILER_REVISION;\r\n\r\n    if (compilerRevision !== currentRevision) {\r\n      if (compilerRevision < currentRevision) {\r\n        var runtimeVersions = REVISION_CHANGES[currentRevision],\r\n            compilerVersions = REVISION_CHANGES[compilerRevision];\r\n        throw new Exception(\"Template was precompiled with an older version of Handlebars than the current runtime. \"+\r\n              \"Please update your precompiler to a newer version (\"+runtimeVersions+\") or downgrade your runtime to an older version (\"+compilerVersions+\").\");\r\n      } else {\r\n        // Use the embedded version info since the runtime doesn't know about this revision yet\r\n        throw new Exception(\"Template was precompiled with a newer version of Handlebars than the current runtime. \"+\r\n              \"Please update your runtime to a newer version (\"+compilerInfo[1]+\").\");\r\n      }\r\n    }\r\n  }\r\n\r\n  __exports__.checkRevision = checkRevision;// TODO: Remove this line and break up compilePartial\r\n\r\n  function template(templateSpec, env) {\r\n    if (!env) {\r\n      throw new Exception(\"No environment passed to template\");\r\n    }\r\n\r\n    // Note: Using env.VM references rather than local var references throughout this section to allow\r\n    // for external users to override these as psuedo-supported APIs.\r\n    var invokePartialWrapper = function(partial, name, context, helpers, partials, data) {\r\n      var result = env.VM.invokePartial.apply(this, arguments);\r\n      if (result != null) { return result; }\r\n\r\n      if (env.compile) {\r\n        var options = { helpers: helpers, partials: partials, data: data };\r\n        partials[name] = env.compile(partial, { data: data !== undefined }, env);\r\n        return partials[name](context, options);\r\n      } else {\r\n        throw new Exception(\"The partial \" + name + \" could not be compiled when running in runtime-only mode\");\r\n      }\r\n    };\r\n\r\n    // Just add water\r\n    var container = {\r\n      escapeExpression: Utils.escapeExpression,\r\n      invokePartial: invokePartialWrapper,\r\n      programs: [],\r\n      program: function(i, fn, data) {\r\n        var programWrapper = this.programs[i];\r\n        if(data) {\r\n          programWrapper = program(i, fn, data);\r\n        } else if (!programWrapper) {\r\n          programWrapper = this.programs[i] = program(i, fn);\r\n        }\r\n        return programWrapper;\r\n      },\r\n      merge: function(param, common) {\r\n        var ret = param || common;\r\n\r\n        if (param && common && (param !== common)) {\r\n          ret = {};\r\n          Utils.extend(ret, common);\r\n          Utils.extend(ret, param);\r\n        }\r\n        return ret;\r\n      },\r\n      programWithDepth: env.VM.programWithDepth,\r\n      noop: env.VM.noop,\r\n      compilerInfo: null\r\n    };\r\n\r\n    return function(context, options) {\r\n      options = options || {};\r\n      var namespace = options.partial ? options : env,\r\n          helpers,\r\n          partials;\r\n\r\n      if (!options.partial) {\r\n        helpers = options.helpers;\r\n        partials = options.partials;\r\n      }\r\n      var result = templateSpec.call(\r\n            container,\r\n            namespace, context,\r\n            helpers,\r\n            partials,\r\n            options.data);\r\n\r\n      if (!options.partial) {\r\n        env.VM.checkRevision(container.compilerInfo);\r\n      }\r\n\r\n      return result;\r\n    };\r\n  }\r\n\r\n  __exports__.template = template;function programWithDepth(i, fn, data /*, $depth */) {\r\n    var args = Array.prototype.slice.call(arguments, 3);\r\n\r\n    var prog = function(context, options) {\r\n      options = options || {};\r\n\r\n      return fn.apply(this, [context, options.data || data].concat(args));\r\n    };\r\n    prog.program = i;\r\n    prog.depth = args.length;\r\n    return prog;\r\n  }\r\n\r\n  __exports__.programWithDepth = programWithDepth;function program(i, fn, data) {\r\n    var prog = function(context, options) {\r\n      options = options || {};\r\n\r\n      return fn(context, options.data || data);\r\n    };\r\n    prog.program = i;\r\n    prog.depth = 0;\r\n    return prog;\r\n  }\r\n\r\n  __exports__.program = program;function invokePartial(partial, name, context, helpers, partials, data) {\r\n    var options = { partial: true, helpers: helpers, partials: partials, data: data };\r\n\r\n    if(partial === undefined) {\r\n      throw new Exception(\"The partial \" + name + \" could not be found\");\r\n    } else if(partial instanceof Function) {\r\n      return partial(context, options);\r\n    }\r\n  }\r\n\r\n  __exports__.invokePartial = invokePartial;function noop() { return \"\"; }\r\n\r\n  __exports__.noop = noop;\r\n  return __exports__;\r\n})(__module3__, __module5__, __module2__);\r\n\r\n// handlebars.runtime.js\r\nvar __module1__ = (function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  /*globals Handlebars: true */\r\n  var base = __dependency1__;\r\n\r\n  // Each of these augment the Handlebars object. No need to setup here.\r\n  // (This is done to easily share code between commonjs and browse envs)\r\n  var SafeString = __dependency2__;\r\n  var Exception = __dependency3__;\r\n  var Utils = __dependency4__;\r\n  var runtime = __dependency5__;\r\n\r\n  // For compatibility and usage outside of module systems, make the Handlebars object a namespace\r\n  var create = function() {\r\n    var hb = new base.HandlebarsEnvironment();\r\n\r\n    Utils.extend(hb, base);\r\n    hb.SafeString = SafeString;\r\n    hb.Exception = Exception;\r\n    hb.Utils = Utils;\r\n\r\n    hb.VM = runtime;\r\n    hb.template = function(spec) {\r\n      return runtime.template(spec, hb);\r\n    };\r\n\r\n    return hb;\r\n  };\r\n\r\n  var Handlebars = create();\r\n  Handlebars.create = create;\r\n\r\n  __exports__ = Handlebars;\r\n  return __exports__;\r\n})(__module2__, __module4__, __module5__, __module3__, __module6__);\r\n\r\n// handlebars/compiler/ast.js\r\nvar __module7__ = (function(__dependency1__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  var Exception = __dependency1__;\r\n\r\n  function LocationInfo(locInfo){\r\n    locInfo = locInfo || {};\r\n    this.firstLine   = locInfo.first_line;\r\n    this.firstColumn = locInfo.first_column;\r\n    this.lastColumn  = locInfo.last_column;\r\n    this.lastLine    = locInfo.last_line;\r\n  }\r\n\r\n  var AST = {\r\n    ProgramNode: function(statements, inverseStrip, inverse, locInfo) {\r\n      var inverseLocationInfo, firstInverseNode;\r\n      if (arguments.length === 3) {\r\n        locInfo = inverse;\r\n        inverse = null;\r\n      } else if (arguments.length === 2) {\r\n        locInfo = inverseStrip;\r\n        inverseStrip = null;\r\n      }\r\n\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"program\";\r\n      this.statements = statements;\r\n      this.strip = {};\r\n\r\n      if(inverse) {\r\n        firstInverseNode = inverse[0];\r\n        if (firstInverseNode) {\r\n          inverseLocationInfo = {\r\n            first_line: firstInverseNode.firstLine,\r\n            last_line: firstInverseNode.lastLine,\r\n            last_column: firstInverseNode.lastColumn,\r\n            first_column: firstInverseNode.firstColumn\r\n          };\r\n          this.inverse = new AST.ProgramNode(inverse, inverseStrip, inverseLocationInfo);\r\n        } else {\r\n          this.inverse = new AST.ProgramNode(inverse, inverseStrip);\r\n        }\r\n        this.strip.right = inverseStrip.left;\r\n      } else if (inverseStrip) {\r\n        this.strip.left = inverseStrip.right;\r\n      }\r\n    },\r\n\r\n    MustacheNode: function(rawParams, hash, open, strip, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"mustache\";\r\n      this.strip = strip;\r\n\r\n      // Open may be a string parsed from the parser or a passed boolean flag\r\n      if (open != null && open.charAt) {\r\n        // Must use charAt to support IE pre-10\r\n        var escapeFlag = open.charAt(3) || open.charAt(2);\r\n        this.escaped = escapeFlag !== '{' && escapeFlag !== '&';\r\n      } else {\r\n        this.escaped = !!open;\r\n      }\r\n\r\n      if (rawParams instanceof AST.SexprNode) {\r\n        this.sexpr = rawParams;\r\n      } else {\r\n        // Support old AST API\r\n        this.sexpr = new AST.SexprNode(rawParams, hash);\r\n      }\r\n\r\n      this.sexpr.isRoot = true;\r\n\r\n      // Support old AST API that stored this info in MustacheNode\r\n      this.id = this.sexpr.id;\r\n      this.params = this.sexpr.params;\r\n      this.hash = this.sexpr.hash;\r\n      this.eligibleHelper = this.sexpr.eligibleHelper;\r\n      this.isHelper = this.sexpr.isHelper;\r\n    },\r\n\r\n    SexprNode: function(rawParams, hash, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n\r\n      this.type = \"sexpr\";\r\n      this.hash = hash;\r\n\r\n      var id = this.id = rawParams[0];\r\n      var params = this.params = rawParams.slice(1);\r\n\r\n      // a mustache is an eligible helper if:\r\n      // * its id is simple (a single part, not `this` or `..`)\r\n      var eligibleHelper = this.eligibleHelper = id.isSimple;\r\n\r\n      // a mustache is definitely a helper if:\r\n      // * it is an eligible helper, and\r\n      // * it has at least one parameter or hash segment\r\n      this.isHelper = eligibleHelper && (params.length || hash);\r\n\r\n      // if a mustache is an eligible helper but not a definite\r\n      // helper, it is ambiguous, and will be resolved in a later\r\n      // pass or at runtime.\r\n    },\r\n\r\n    PartialNode: function(partialName, context, strip, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type         = \"partial\";\r\n      this.partialName  = partialName;\r\n      this.context      = context;\r\n      this.strip = strip;\r\n    },\r\n\r\n    BlockNode: function(mustache, program, inverse, close, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n\r\n      if(mustache.sexpr.id.original !== close.path.original) {\r\n        throw new Exception(mustache.sexpr.id.original + \" doesn't match \" + close.path.original, this);\r\n      }\r\n\r\n      this.type = 'block';\r\n      this.mustache = mustache;\r\n      this.program  = program;\r\n      this.inverse  = inverse;\r\n\r\n      this.strip = {\r\n        left: mustache.strip.left,\r\n        right: close.strip.right\r\n      };\r\n\r\n      (program || inverse).strip.left = mustache.strip.right;\r\n      (inverse || program).strip.right = close.strip.left;\r\n\r\n      if (inverse && !program) {\r\n        this.isInverse = true;\r\n      }\r\n    },\r\n\r\n    ContentNode: function(string, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"content\";\r\n      this.string = string;\r\n    },\r\n\r\n    HashNode: function(pairs, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"hash\";\r\n      this.pairs = pairs;\r\n    },\r\n\r\n    IdNode: function(parts, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"ID\";\r\n\r\n      var original = \"\",\r\n          dig = [],\r\n          depth = 0;\r\n\r\n      for(var i=0,l=parts.length; i<l; i++) {\r\n        var part = parts[i].part;\r\n        original += (parts[i].separator || '') + part;\r\n\r\n        if (part === \"..\" || part === \".\" || part === \"this\") {\r\n          if (dig.length > 0) {\r\n            throw new Exception(\"Invalid path: \" + original, this);\r\n          } else if (part === \"..\") {\r\n            depth++;\r\n          } else {\r\n            this.isScoped = true;\r\n          }\r\n        } else {\r\n          dig.push(part);\r\n        }\r\n      }\r\n\r\n      this.original = original;\r\n      this.parts    = dig;\r\n      this.string   = dig.join('.');\r\n      this.depth    = depth;\r\n\r\n      // an ID is simple if it only has one part, and that part is not\r\n      // `..` or `this`.\r\n      this.isSimple = parts.length === 1 && !this.isScoped && depth === 0;\r\n\r\n      this.stringModeValue = this.string;\r\n    },\r\n\r\n    PartialNameNode: function(name, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"PARTIAL_NAME\";\r\n      this.name = name.original;\r\n    },\r\n\r\n    DataNode: function(id, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"DATA\";\r\n      this.id = id;\r\n    },\r\n\r\n    StringNode: function(string, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"STRING\";\r\n      this.original =\r\n        this.string =\r\n        this.stringModeValue = string;\r\n    },\r\n\r\n    IntegerNode: function(integer, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"INTEGER\";\r\n      this.original =\r\n        this.integer = integer;\r\n      this.stringModeValue = Number(integer);\r\n    },\r\n\r\n    BooleanNode: function(bool, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"BOOLEAN\";\r\n      this.bool = bool;\r\n      this.stringModeValue = bool === \"true\";\r\n    },\r\n\r\n    CommentNode: function(comment, locInfo) {\r\n      LocationInfo.call(this, locInfo);\r\n      this.type = \"comment\";\r\n      this.comment = comment;\r\n    }\r\n  };\r\n\r\n  // Must be exported as an object rather than the root of the module as the jison lexer\r\n  // most modify the object to operate properly.\r\n  __exports__ = AST;\r\n  return __exports__;\r\n})(__module5__);\r\n\r\n// handlebars/compiler/parser.js\r\nvar __module9__ = (function() {\r\n  \"use strict\";\r\n  var __exports__;\r\n  /* jshint ignore:start */\r\n  /* Jison generated parser */\r\n  var handlebars = (function(){\r\n  var parser = {trace: function trace() { },\r\n  yy: {},\r\n  symbols_: {\"error\":2,\"root\":3,\"statements\":4,\"EOF\":5,\"program\":6,\"simpleInverse\":7,\"statement\":8,\"openInverse\":9,\"closeBlock\":10,\"openBlock\":11,\"mustache\":12,\"partial\":13,\"CONTENT\":14,\"COMMENT\":15,\"OPEN_BLOCK\":16,\"sexpr\":17,\"CLOSE\":18,\"OPEN_INVERSE\":19,\"OPEN_ENDBLOCK\":20,\"path\":21,\"OPEN\":22,\"OPEN_UNESCAPED\":23,\"CLOSE_UNESCAPED\":24,\"OPEN_PARTIAL\":25,\"partialName\":26,\"partial_option0\":27,\"sexpr_repetition0\":28,\"sexpr_option0\":29,\"dataName\":30,\"param\":31,\"STRING\":32,\"INTEGER\":33,\"BOOLEAN\":34,\"OPEN_SEXPR\":35,\"CLOSE_SEXPR\":36,\"hash\":37,\"hash_repetition_plus0\":38,\"hashSegment\":39,\"ID\":40,\"EQUALS\":41,\"DATA\":42,\"pathSegments\":43,\"SEP\":44,\"$accept\":0,\"$end\":1},\r\n  terminals_: {2:\"error\",5:\"EOF\",14:\"CONTENT\",15:\"COMMENT\",16:\"OPEN_BLOCK\",18:\"CLOSE\",19:\"OPEN_INVERSE\",20:\"OPEN_ENDBLOCK\",22:\"OPEN\",23:\"OPEN_UNESCAPED\",24:\"CLOSE_UNESCAPED\",25:\"OPEN_PARTIAL\",32:\"STRING\",33:\"INTEGER\",34:\"BOOLEAN\",35:\"OPEN_SEXPR\",36:\"CLOSE_SEXPR\",40:\"ID\",41:\"EQUALS\",42:\"DATA\",44:\"SEP\"},\r\n  productions_: [0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],\r\n  performAction: function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$) {\r\n\r\n  var $0 = $$.length - 1;\r\n  switch (yystate) {\r\n  case 1: return new yy.ProgramNode($$[$0-1], this._$); \r\n  break;\r\n  case 2: return new yy.ProgramNode([], this._$); \r\n  break;\r\n  case 3:this.$ = new yy.ProgramNode([], $$[$0-1], $$[$0], this._$);\r\n  break;\r\n  case 4:this.$ = new yy.ProgramNode($$[$0-2], $$[$0-1], $$[$0], this._$);\r\n  break;\r\n  case 5:this.$ = new yy.ProgramNode($$[$0-1], $$[$0], [], this._$);\r\n  break;\r\n  case 6:this.$ = new yy.ProgramNode($$[$0], this._$);\r\n  break;\r\n  case 7:this.$ = new yy.ProgramNode([], this._$);\r\n  break;\r\n  case 8:this.$ = new yy.ProgramNode([], this._$);\r\n  break;\r\n  case 9:this.$ = [$$[$0]];\r\n  break;\r\n  case 10: $$[$0-1].push($$[$0]); this.$ = $$[$0-1]; \r\n  break;\r\n  case 11:this.$ = new yy.BlockNode($$[$0-2], $$[$0-1].inverse, $$[$0-1], $$[$0], this._$);\r\n  break;\r\n  case 12:this.$ = new yy.BlockNode($$[$0-2], $$[$0-1], $$[$0-1].inverse, $$[$0], this._$);\r\n  break;\r\n  case 13:this.$ = $$[$0];\r\n  break;\r\n  case 14:this.$ = $$[$0];\r\n  break;\r\n  case 15:this.$ = new yy.ContentNode($$[$0], this._$);\r\n  break;\r\n  case 16:this.$ = new yy.CommentNode($$[$0], this._$);\r\n  break;\r\n  case 17:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 18:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 19:this.$ = {path: $$[$0-1], strip: stripFlags($$[$0-2], $$[$0])};\r\n  break;\r\n  case 20:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 21:this.$ = new yy.MustacheNode($$[$0-1], null, $$[$0-2], stripFlags($$[$0-2], $$[$0]), this._$);\r\n  break;\r\n  case 22:this.$ = new yy.PartialNode($$[$0-2], $$[$0-1], stripFlags($$[$0-3], $$[$0]), this._$);\r\n  break;\r\n  case 23:this.$ = stripFlags($$[$0-1], $$[$0]);\r\n  break;\r\n  case 24:this.$ = new yy.SexprNode([$$[$0-2]].concat($$[$0-1]), $$[$0], this._$);\r\n  break;\r\n  case 25:this.$ = new yy.SexprNode([$$[$0]], null, this._$);\r\n  break;\r\n  case 26:this.$ = $$[$0];\r\n  break;\r\n  case 27:this.$ = new yy.StringNode($$[$0], this._$);\r\n  break;\r\n  case 28:this.$ = new yy.IntegerNode($$[$0], this._$);\r\n  break;\r\n  case 29:this.$ = new yy.BooleanNode($$[$0], this._$);\r\n  break;\r\n  case 30:this.$ = $$[$0];\r\n  break;\r\n  case 31:$$[$0-1].isHelper = true; this.$ = $$[$0-1];\r\n  break;\r\n  case 32:this.$ = new yy.HashNode($$[$0], this._$);\r\n  break;\r\n  case 33:this.$ = [$$[$0-2], $$[$0]];\r\n  break;\r\n  case 34:this.$ = new yy.PartialNameNode($$[$0], this._$);\r\n  break;\r\n  case 35:this.$ = new yy.PartialNameNode(new yy.StringNode($$[$0], this._$), this._$);\r\n  break;\r\n  case 36:this.$ = new yy.PartialNameNode(new yy.IntegerNode($$[$0], this._$));\r\n  break;\r\n  case 37:this.$ = new yy.DataNode($$[$0], this._$);\r\n  break;\r\n  case 38:this.$ = new yy.IdNode($$[$0], this._$);\r\n  break;\r\n  case 39: $$[$0-2].push({part: $$[$0], separator: $$[$0-1]}); this.$ = $$[$0-2]; \r\n  break;\r\n  case 40:this.$ = [{part: $$[$0]}];\r\n  break;\r\n  case 43:this.$ = [];\r\n  break;\r\n  case 44:$$[$0-1].push($$[$0]);\r\n  break;\r\n  case 47:this.$ = [$$[$0]];\r\n  break;\r\n  case 48:$$[$0-1].push($$[$0]);\r\n  break;\r\n  }\r\n  },\r\n  table: [{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],\r\n  defaultActions: {3:[2,2],16:[2,1],50:[2,42]},\r\n  parseError: function parseError(str, hash) {\r\n      throw new Error(str);\r\n  },\r\n  parse: function parse(input) {\r\n      var self = this, stack = [0], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\r\n      this.lexer.setInput(input);\r\n      this.lexer.yy = this.yy;\r\n      this.yy.lexer = this.lexer;\r\n      this.yy.parser = this;\r\n      if (typeof this.lexer.yylloc == \"undefined\")\r\n          this.lexer.yylloc = {};\r\n      var yyloc = this.lexer.yylloc;\r\n      lstack.push(yyloc);\r\n      var ranges = this.lexer.options && this.lexer.options.ranges;\r\n      if (typeof this.yy.parseError === \"function\")\r\n          this.parseError = this.yy.parseError;\r\n      function popStack(n) {\r\n          stack.length = stack.length - 2 * n;\r\n          vstack.length = vstack.length - n;\r\n          lstack.length = lstack.length - n;\r\n      }\r\n      function lex() {\r\n          var token;\r\n          token = self.lexer.lex() || 1;\r\n          if (typeof token !== \"number\") {\r\n              token = self.symbols_[token] || token;\r\n          }\r\n          return token;\r\n      }\r\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\r\n      while (true) {\r\n          state = stack[stack.length - 1];\r\n          if (this.defaultActions[state]) {\r\n              action = this.defaultActions[state];\r\n          } else {\r\n              if (symbol === null || typeof symbol == \"undefined\") {\r\n                  symbol = lex();\r\n              }\r\n              action = table[state] && table[state][symbol];\r\n          }\r\n          if (typeof action === \"undefined\" || !action.length || !action[0]) {\r\n              var errStr = \"\";\r\n              if (!recovering) {\r\n                  expected = [];\r\n                  for (p in table[state])\r\n                      if (this.terminals_[p] && p > 2) {\r\n                          expected.push(\"'\" + this.terminals_[p] + \"'\");\r\n                      }\r\n                  if (this.lexer.showPosition) {\r\n                      errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\r\n                  } else {\r\n                      errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1?\"end of input\":\"'\" + (this.terminals_[symbol] || symbol) + \"'\");\r\n                  }\r\n                  this.parseError(errStr, {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected});\r\n              }\r\n          }\r\n          if (action[0] instanceof Array && action.length > 1) {\r\n              throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\r\n          }\r\n          switch (action[0]) {\r\n          case 1:\r\n              stack.push(symbol);\r\n              vstack.push(this.lexer.yytext);\r\n              lstack.push(this.lexer.yylloc);\r\n              stack.push(action[1]);\r\n              symbol = null;\r\n              if (!preErrorSymbol) {\r\n                  yyleng = this.lexer.yyleng;\r\n                  yytext = this.lexer.yytext;\r\n                  yylineno = this.lexer.yylineno;\r\n                  yyloc = this.lexer.yylloc;\r\n                  if (recovering > 0)\r\n                      recovering--;\r\n              } else {\r\n                  symbol = preErrorSymbol;\r\n                  preErrorSymbol = null;\r\n              }\r\n              break;\r\n          case 2:\r\n              len = this.productions_[action[1]][1];\r\n              yyval.$ = vstack[vstack.length - len];\r\n              yyval._$ = {first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column};\r\n              if (ranges) {\r\n                  yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\r\n              }\r\n              r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\r\n              if (typeof r !== \"undefined\") {\r\n                  return r;\r\n              }\r\n              if (len) {\r\n                  stack = stack.slice(0, -1 * len * 2);\r\n                  vstack = vstack.slice(0, -1 * len);\r\n                  lstack = lstack.slice(0, -1 * len);\r\n              }\r\n              stack.push(this.productions_[action[1]][0]);\r\n              vstack.push(yyval.$);\r\n              lstack.push(yyval._$);\r\n              newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\r\n              stack.push(newState);\r\n              break;\r\n          case 3:\r\n              return true;\r\n          }\r\n      }\r\n      return true;\r\n  }\r\n  };\r\n\r\n\r\n  function stripFlags(open, close) {\r\n    return {\r\n      left: open.charAt(2) === '~',\r\n      right: close.charAt(0) === '~' || close.charAt(1) === '~'\r\n    };\r\n  }\r\n\r\n  /* Jison generated lexer */\r\n  var lexer = (function(){\r\n  var lexer = ({EOF:1,\r\n  parseError:function parseError(str, hash) {\r\n          if (this.yy.parser) {\r\n              this.yy.parser.parseError(str, hash);\r\n          } else {\r\n              throw new Error(str);\r\n          }\r\n      },\r\n  setInput:function (input) {\r\n          this._input = input;\r\n          this._more = this._less = this.done = false;\r\n          this.yylineno = this.yyleng = 0;\r\n          this.yytext = this.matched = this.match = '';\r\n          this.conditionStack = ['INITIAL'];\r\n          this.yylloc = {first_line:1,first_column:0,last_line:1,last_column:0};\r\n          if (this.options.ranges) this.yylloc.range = [0,0];\r\n          this.offset = 0;\r\n          return this;\r\n      },\r\n  input:function () {\r\n          var ch = this._input[0];\r\n          this.yytext += ch;\r\n          this.yyleng++;\r\n          this.offset++;\r\n          this.match += ch;\r\n          this.matched += ch;\r\n          var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\r\n          if (lines) {\r\n              this.yylineno++;\r\n              this.yylloc.last_line++;\r\n          } else {\r\n              this.yylloc.last_column++;\r\n          }\r\n          if (this.options.ranges) this.yylloc.range[1]++;\r\n\r\n          this._input = this._input.slice(1);\r\n          return ch;\r\n      },\r\n  unput:function (ch) {\r\n          var len = ch.length;\r\n          var lines = ch.split(/(?:\\r\\n?|\\n)/g);\r\n\r\n          this._input = ch + this._input;\r\n          this.yytext = this.yytext.substr(0, this.yytext.length-len-1);\r\n          //this.yyleng -= len;\r\n          this.offset -= len;\r\n          var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\r\n          this.match = this.match.substr(0, this.match.length-1);\r\n          this.matched = this.matched.substr(0, this.matched.length-1);\r\n\r\n          if (lines.length-1) this.yylineno -= lines.length-1;\r\n          var r = this.yylloc.range;\r\n\r\n          this.yylloc = {first_line: this.yylloc.first_line,\r\n            last_line: this.yylineno+1,\r\n            first_column: this.yylloc.first_column,\r\n            last_column: lines ?\r\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length:\r\n                this.yylloc.first_column - len\r\n            };\r\n\r\n          if (this.options.ranges) {\r\n              this.yylloc.range = [r[0], r[0] + this.yyleng - len];\r\n          }\r\n          return this;\r\n      },\r\n  more:function () {\r\n          this._more = true;\r\n          return this;\r\n      },\r\n  less:function (n) {\r\n          this.unput(this.match.slice(n));\r\n      },\r\n  pastInput:function () {\r\n          var past = this.matched.substr(0, this.matched.length - this.match.length);\r\n          return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\r\n      },\r\n  upcomingInput:function () {\r\n          var next = this.match;\r\n          if (next.length < 20) {\r\n              next += this._input.substr(0, 20-next.length);\r\n          }\r\n          return (next.substr(0,20)+(next.length > 20 ? '...':'')).replace(/\\n/g, \"\");\r\n      },\r\n  showPosition:function () {\r\n          var pre = this.pastInput();\r\n          var c = new Array(pre.length + 1).join(\"-\");\r\n          return pre + this.upcomingInput() + \"\\n\" + c+\"^\";\r\n      },\r\n  next:function () {\r\n          if (this.done) {\r\n              return this.EOF;\r\n          }\r\n          if (!this._input) this.done = true;\r\n\r\n          var token,\r\n              match,\r\n              tempMatch,\r\n              index,\r\n              col,\r\n              lines;\r\n          if (!this._more) {\r\n              this.yytext = '';\r\n              this.match = '';\r\n          }\r\n          var rules = this._currentRules();\r\n          for (var i=0;i < rules.length; i++) {\r\n              tempMatch = this._input.match(this.rules[rules[i]]);\r\n              if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\r\n                  match = tempMatch;\r\n                  index = i;\r\n                  if (!this.options.flex) break;\r\n              }\r\n          }\r\n          if (match) {\r\n              lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\r\n              if (lines) this.yylineno += lines.length;\r\n              this.yylloc = {first_line: this.yylloc.last_line,\r\n                             last_line: this.yylineno+1,\r\n                             first_column: this.yylloc.last_column,\r\n                             last_column: lines ? lines[lines.length-1].length-lines[lines.length-1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length};\r\n              this.yytext += match[0];\r\n              this.match += match[0];\r\n              this.matches = match;\r\n              this.yyleng = this.yytext.length;\r\n              if (this.options.ranges) {\r\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\r\n              }\r\n              this._more = false;\r\n              this._input = this._input.slice(match[0].length);\r\n              this.matched += match[0];\r\n              token = this.performAction.call(this, this.yy, this, rules[index],this.conditionStack[this.conditionStack.length-1]);\r\n              if (this.done && this._input) this.done = false;\r\n              if (token) return token;\r\n              else return;\r\n          }\r\n          if (this._input === \"\") {\r\n              return this.EOF;\r\n          } else {\r\n              return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\\n'+this.showPosition(),\r\n                      {text: \"\", token: null, line: this.yylineno});\r\n          }\r\n      },\r\n  lex:function lex() {\r\n          var r = this.next();\r\n          if (typeof r !== 'undefined') {\r\n              return r;\r\n          } else {\r\n              return this.lex();\r\n          }\r\n      },\r\n  begin:function begin(condition) {\r\n          this.conditionStack.push(condition);\r\n      },\r\n  popState:function popState() {\r\n          return this.conditionStack.pop();\r\n      },\r\n  _currentRules:function _currentRules() {\r\n          return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;\r\n      },\r\n  topState:function () {\r\n          return this.conditionStack[this.conditionStack.length-2];\r\n      },\r\n  pushState:function begin(condition) {\r\n          this.begin(condition);\r\n      }});\r\n  lexer.options = {};\r\n  lexer.performAction = function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\r\n\r\n\r\n  function strip(start, end) {\r\n    return yy_.yytext = yy_.yytext.substr(start, yy_.yyleng-end);\r\n  }\r\n\r\n\r\n  var YYSTATE=YY_START\r\n  switch($avoiding_name_collisions) {\r\n  case 0:\r\n                                     if(yy_.yytext.slice(-2) === \"\\\\\\\\\") {\r\n                                       strip(0,1);\r\n                                       this.begin(\"mu\");\r\n                                     } else if(yy_.yytext.slice(-1) === \"\\\\\") {\r\n                                       strip(0,1);\r\n                                       this.begin(\"emu\");\r\n                                     } else {\r\n                                       this.begin(\"mu\");\r\n                                     }\r\n                                     if(yy_.yytext) return 14;\r\n                                   \r\n  break;\r\n  case 1:return 14;\r\n  break;\r\n  case 2:\r\n                                     this.popState();\r\n                                     return 14;\r\n                                   \r\n  break;\r\n  case 3:strip(0,4); this.popState(); return 15;\r\n  break;\r\n  case 4:return 35;\r\n  break;\r\n  case 5:return 36;\r\n  break;\r\n  case 6:return 25;\r\n  break;\r\n  case 7:return 16;\r\n  break;\r\n  case 8:return 20;\r\n  break;\r\n  case 9:return 19;\r\n  break;\r\n  case 10:return 19;\r\n  break;\r\n  case 11:return 23;\r\n  break;\r\n  case 12:return 22;\r\n  break;\r\n  case 13:this.popState(); this.begin('com');\r\n  break;\r\n  case 14:strip(3,5); this.popState(); return 15;\r\n  break;\r\n  case 15:return 22;\r\n  break;\r\n  case 16:return 41;\r\n  break;\r\n  case 17:return 40;\r\n  break;\r\n  case 18:return 40;\r\n  break;\r\n  case 19:return 44;\r\n  break;\r\n  case 20:// ignore whitespace\r\n  break;\r\n  case 21:this.popState(); return 24;\r\n  break;\r\n  case 22:this.popState(); return 18;\r\n  break;\r\n  case 23:yy_.yytext = strip(1,2).replace(/\\\\\"/g,'\"'); return 32;\r\n  break;\r\n  case 24:yy_.yytext = strip(1,2).replace(/\\\\'/g,\"'\"); return 32;\r\n  break;\r\n  case 25:return 42;\r\n  break;\r\n  case 26:return 34;\r\n  break;\r\n  case 27:return 34;\r\n  break;\r\n  case 28:return 33;\r\n  break;\r\n  case 29:return 40;\r\n  break;\r\n  case 30:yy_.yytext = strip(1,2); return 40;\r\n  break;\r\n  case 31:return 'INVALID';\r\n  break;\r\n  case 32:return 5;\r\n  break;\r\n  }\r\n  };\r\n  lexer.rules = [/^(?:[^\\x00]*?(?=(\\{\\{)))/,/^(?:[^\\x00]+)/,/^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,/^(?:[\\s\\S]*?--\\}\\})/,/^(?:\\()/,/^(?:\\))/,/^(?:\\{\\{(~)?>)/,/^(?:\\{\\{(~)?#)/,/^(?:\\{\\{(~)?\\/)/,/^(?:\\{\\{(~)?\\^)/,/^(?:\\{\\{(~)?\\s*else\\b)/,/^(?:\\{\\{(~)?\\{)/,/^(?:\\{\\{(~)?&)/,/^(?:\\{\\{!--)/,/^(?:\\{\\{![\\s\\S]*?\\}\\})/,/^(?:\\{\\{(~)?)/,/^(?:=)/,/^(?:\\.\\.)/,/^(?:\\.(?=([=~}\\s\\/.)])))/,/^(?:[\\/.])/,/^(?:\\s+)/,/^(?:\\}(~)?\\}\\})/,/^(?:(~)?\\}\\})/,/^(?:\"(\\\\[\"]|[^\"])*\")/,/^(?:'(\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\s)])))/,/^(?:false(?=([~}\\s)])))/,/^(?:-?[0-9]+(?=([~}\\s)])))/,/^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)]))))/,/^(?:\\[[^\\]]*\\])/,/^(?:.)/,/^(?:$)/];\r\n  lexer.conditions = {\"mu\":{\"rules\":[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],\"inclusive\":false},\"emu\":{\"rules\":[2],\"inclusive\":false},\"com\":{\"rules\":[3],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,32],\"inclusive\":true}};\r\n  return lexer;})()\r\n  parser.lexer = lexer;\r\n  function Parser () { this.yy = {}; }Parser.prototype = parser;parser.Parser = Parser;\r\n  return new Parser;\r\n  })();__exports__ = handlebars;\r\n  /* jshint ignore:end */\r\n  return __exports__;\r\n})();\r\n\r\n// handlebars/compiler/base.js\r\nvar __module8__ = (function(__dependency1__, __dependency2__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var parser = __dependency1__;\r\n  var AST = __dependency2__;\r\n\r\n  __exports__.parser = parser;\r\n\r\n  function parse(input) {\r\n    // Just return if an already-compile AST was passed in.\r\n    if(input.constructor === AST.ProgramNode) { return input; }\r\n\r\n    parser.yy = AST;\r\n    return parser.parse(input);\r\n  }\r\n\r\n  __exports__.parse = parse;\r\n  return __exports__;\r\n})(__module9__, __module7__);\r\n\r\n// handlebars/compiler/compiler.js\r\nvar __module10__ = (function(__dependency1__) {\r\n  \"use strict\";\r\n  var __exports__ = {};\r\n  var Exception = __dependency1__;\r\n\r\n  function Compiler() {}\r\n\r\n  __exports__.Compiler = Compiler;// the foundHelper register will disambiguate helper lookup from finding a\r\n  // function in a context. This is necessary for mustache compatibility, which\r\n  // requires that context functions in blocks are evaluated by blockHelperMissing,\r\n  // and then proceed as if the resulting value was provided to blockHelperMissing.\r\n\r\n  Compiler.prototype = {\r\n    compiler: Compiler,\r\n\r\n    disassemble: function() {\r\n      var opcodes = this.opcodes, opcode, out = [], params, param;\r\n\r\n      for (var i=0, l=opcodes.length; i<l; i++) {\r\n        opcode = opcodes[i];\r\n\r\n        if (opcode.opcode === 'DECLARE') {\r\n          out.push(\"DECLARE \" + opcode.name + \"=\" + opcode.value);\r\n        } else {\r\n          params = [];\r\n          for (var j=0; j<opcode.args.length; j++) {\r\n            param = opcode.args[j];\r\n            if (typeof param === \"string\") {\r\n              param = \"\\\"\" + param.replace(\"\\n\", \"\\\\n\") + \"\\\"\";\r\n            }\r\n            params.push(param);\r\n          }\r\n          out.push(opcode.opcode + \" \" + params.join(\" \"));\r\n        }\r\n      }\r\n\r\n      return out.join(\"\\n\");\r\n    },\r\n\r\n    equals: function(other) {\r\n      var len = this.opcodes.length;\r\n      if (other.opcodes.length !== len) {\r\n        return false;\r\n      }\r\n\r\n      for (var i = 0; i < len; i++) {\r\n        var opcode = this.opcodes[i],\r\n            otherOpcode = other.opcodes[i];\r\n        if (opcode.opcode !== otherOpcode.opcode || opcode.args.length !== otherOpcode.args.length) {\r\n          return false;\r\n        }\r\n        for (var j = 0; j < opcode.args.length; j++) {\r\n          if (opcode.args[j] !== otherOpcode.args[j]) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n\r\n      len = this.children.length;\r\n      if (other.children.length !== len) {\r\n        return false;\r\n      }\r\n      for (i = 0; i < len; i++) {\r\n        if (!this.children[i].equals(other.children[i])) {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    guid: 0,\r\n\r\n    compile: function(program, options) {\r\n      this.opcodes = [];\r\n      this.children = [];\r\n      this.depths = {list: []};\r\n      this.options = options;\r\n\r\n      // These changes will propagate to the other compiler components\r\n      var knownHelpers = this.options.knownHelpers;\r\n      this.options.knownHelpers = {\r\n        'helperMissing': true,\r\n        'blockHelperMissing': true,\r\n        'each': true,\r\n        'if': true,\r\n        'unless': true,\r\n        'with': true,\r\n        'log': true\r\n      };\r\n      if (knownHelpers) {\r\n        for (var name in knownHelpers) {\r\n          this.options.knownHelpers[name] = knownHelpers[name];\r\n        }\r\n      }\r\n\r\n      return this.accept(program);\r\n    },\r\n\r\n    accept: function(node) {\r\n      var strip = node.strip || {},\r\n          ret;\r\n      if (strip.left) {\r\n        this.opcode('strip');\r\n      }\r\n\r\n      ret = this[node.type](node);\r\n\r\n      if (strip.right) {\r\n        this.opcode('strip');\r\n      }\r\n\r\n      return ret;\r\n    },\r\n\r\n    program: function(program) {\r\n      var statements = program.statements;\r\n\r\n      for(var i=0, l=statements.length; i<l; i++) {\r\n        this.accept(statements[i]);\r\n      }\r\n      this.isSimple = l === 1;\r\n\r\n      this.depths.list = this.depths.list.sort(function(a, b) {\r\n        return a - b;\r\n      });\r\n\r\n      return this;\r\n    },\r\n\r\n    compileProgram: function(program) {\r\n      var result = new this.compiler().compile(program, this.options);\r\n      var guid = this.guid++, depth;\r\n\r\n      this.usePartial = this.usePartial || result.usePartial;\r\n\r\n      this.children[guid] = result;\r\n\r\n      for(var i=0, l=result.depths.list.length; i<l; i++) {\r\n        depth = result.depths.list[i];\r\n\r\n        if(depth < 2) { continue; }\r\n        else { this.addDepth(depth - 1); }\r\n      }\r\n\r\n      return guid;\r\n    },\r\n\r\n    block: function(block) {\r\n      var mustache = block.mustache,\r\n          program = block.program,\r\n          inverse = block.inverse;\r\n\r\n      if (program) {\r\n        program = this.compileProgram(program);\r\n      }\r\n\r\n      if (inverse) {\r\n        inverse = this.compileProgram(inverse);\r\n      }\r\n\r\n      var sexpr = mustache.sexpr;\r\n      var type = this.classifySexpr(sexpr);\r\n\r\n      if (type === \"helper\") {\r\n        this.helperSexpr(sexpr, program, inverse);\r\n      } else if (type === \"simple\") {\r\n        this.simpleSexpr(sexpr);\r\n\r\n        // now that the simple mustache is resolved, we need to\r\n        // evaluate it by executing `blockHelperMissing`\r\n        this.opcode('pushProgram', program);\r\n        this.opcode('pushProgram', inverse);\r\n        this.opcode('emptyHash');\r\n        this.opcode('blockValue');\r\n      } else {\r\n        this.ambiguousSexpr(sexpr, program, inverse);\r\n\r\n        // now that the simple mustache is resolved, we need to\r\n        // evaluate it by executing `blockHelperMissing`\r\n        this.opcode('pushProgram', program);\r\n        this.opcode('pushProgram', inverse);\r\n        this.opcode('emptyHash');\r\n        this.opcode('ambiguousBlockValue');\r\n      }\r\n\r\n      this.opcode('append');\r\n    },\r\n\r\n    hash: function(hash) {\r\n      var pairs = hash.pairs, pair, val;\r\n\r\n      this.opcode('pushHash');\r\n\r\n      for(var i=0, l=pairs.length; i<l; i++) {\r\n        pair = pairs[i];\r\n        val  = pair[1];\r\n\r\n        if (this.options.stringParams) {\r\n          if(val.depth) {\r\n            this.addDepth(val.depth);\r\n          }\r\n          this.opcode('getContext', val.depth || 0);\r\n          this.opcode('pushStringParam', val.stringModeValue, val.type);\r\n\r\n          if (val.type === 'sexpr') {\r\n            // Subexpressions get evaluated and passed in\r\n            // in string params mode.\r\n            this.sexpr(val);\r\n          }\r\n        } else {\r\n          this.accept(val);\r\n        }\r\n\r\n        this.opcode('assignToHash', pair[0]);\r\n      }\r\n      this.opcode('popHash');\r\n    },\r\n\r\n    partial: function(partial) {\r\n      var partialName = partial.partialName;\r\n      this.usePartial = true;\r\n\r\n      if(partial.context) {\r\n        this.ID(partial.context);\r\n      } else {\r\n        this.opcode('push', 'depth0');\r\n      }\r\n\r\n      this.opcode('invokePartial', partialName.name);\r\n      this.opcode('append');\r\n    },\r\n\r\n    content: function(content) {\r\n      this.opcode('appendContent', content.string);\r\n    },\r\n\r\n    mustache: function(mustache) {\r\n      this.sexpr(mustache.sexpr);\r\n\r\n      if(mustache.escaped && !this.options.noEscape) {\r\n        this.opcode('appendEscaped');\r\n      } else {\r\n        this.opcode('append');\r\n      }\r\n    },\r\n\r\n    ambiguousSexpr: function(sexpr, program, inverse) {\r\n      var id = sexpr.id,\r\n          name = id.parts[0],\r\n          isBlock = program != null || inverse != null;\r\n\r\n      this.opcode('getContext', id.depth);\r\n\r\n      this.opcode('pushProgram', program);\r\n      this.opcode('pushProgram', inverse);\r\n\r\n      this.opcode('invokeAmbiguous', name, isBlock);\r\n    },\r\n\r\n    simpleSexpr: function(sexpr) {\r\n      var id = sexpr.id;\r\n\r\n      if (id.type === 'DATA') {\r\n        this.DATA(id);\r\n      } else if (id.parts.length) {\r\n        this.ID(id);\r\n      } else {\r\n        // Simplified ID for `this`\r\n        this.addDepth(id.depth);\r\n        this.opcode('getContext', id.depth);\r\n        this.opcode('pushContext');\r\n      }\r\n\r\n      this.opcode('resolvePossibleLambda');\r\n    },\r\n\r\n    helperSexpr: function(sexpr, program, inverse) {\r\n      var params = this.setupFullMustacheParams(sexpr, program, inverse),\r\n          name = sexpr.id.parts[0];\r\n\r\n      if (this.options.knownHelpers[name]) {\r\n        this.opcode('invokeKnownHelper', params.length, name);\r\n      } else if (this.options.knownHelpersOnly) {\r\n        throw new Exception(\"You specified knownHelpersOnly, but used the unknown helper \" + name, sexpr);\r\n      } else {\r\n        this.opcode('invokeHelper', params.length, name, sexpr.isRoot);\r\n      }\r\n    },\r\n\r\n    sexpr: function(sexpr) {\r\n      var type = this.classifySexpr(sexpr);\r\n\r\n      if (type === \"simple\") {\r\n        this.simpleSexpr(sexpr);\r\n      } else if (type === \"helper\") {\r\n        this.helperSexpr(sexpr);\r\n      } else {\r\n        this.ambiguousSexpr(sexpr);\r\n      }\r\n    },\r\n\r\n    ID: function(id) {\r\n      this.addDepth(id.depth);\r\n      this.opcode('getContext', id.depth);\r\n\r\n      var name = id.parts[0];\r\n      if (!name) {\r\n        this.opcode('pushContext');\r\n      } else {\r\n        this.opcode('lookupOnContext', id.parts[0]);\r\n      }\r\n\r\n      for(var i=1, l=id.parts.length; i<l; i++) {\r\n        this.opcode('lookup', id.parts[i]);\r\n      }\r\n    },\r\n\r\n    DATA: function(data) {\r\n      this.options.data = true;\r\n      if (data.id.isScoped || data.id.depth) {\r\n        throw new Exception('Scoped data references are not supported: ' + data.original, data);\r\n      }\r\n\r\n      this.opcode('lookupData');\r\n      var parts = data.id.parts;\r\n      for(var i=0, l=parts.length; i<l; i++) {\r\n        this.opcode('lookup', parts[i]);\r\n      }\r\n    },\r\n\r\n    STRING: function(string) {\r\n      this.opcode('pushString', string.string);\r\n    },\r\n\r\n    INTEGER: function(integer) {\r\n      this.opcode('pushLiteral', integer.integer);\r\n    },\r\n\r\n    BOOLEAN: function(bool) {\r\n      this.opcode('pushLiteral', bool.bool);\r\n    },\r\n\r\n    comment: function() {},\r\n\r\n    // HELPERS\r\n    opcode: function(name) {\r\n      this.opcodes.push({ opcode: name, args: [].slice.call(arguments, 1) });\r\n    },\r\n\r\n    declare: function(name, value) {\r\n      this.opcodes.push({ opcode: 'DECLARE', name: name, value: value });\r\n    },\r\n\r\n    addDepth: function(depth) {\r\n      if(depth === 0) { return; }\r\n\r\n      if(!this.depths[depth]) {\r\n        this.depths[depth] = true;\r\n        this.depths.list.push(depth);\r\n      }\r\n    },\r\n\r\n    classifySexpr: function(sexpr) {\r\n      var isHelper   = sexpr.isHelper;\r\n      var isEligible = sexpr.eligibleHelper;\r\n      var options    = this.options;\r\n\r\n      // if ambiguous, we can possibly resolve the ambiguity now\r\n      if (isEligible && !isHelper) {\r\n        var name = sexpr.id.parts[0];\r\n\r\n        if (options.knownHelpers[name]) {\r\n          isHelper = true;\r\n        } else if (options.knownHelpersOnly) {\r\n          isEligible = false;\r\n        }\r\n      }\r\n\r\n      if (isHelper) { return \"helper\"; }\r\n      else if (isEligible) { return \"ambiguous\"; }\r\n      else { return \"simple\"; }\r\n    },\r\n\r\n    pushParams: function(params) {\r\n      var i = params.length, param;\r\n\r\n      while(i--) {\r\n        param = params[i];\r\n\r\n        if(this.options.stringParams) {\r\n          if(param.depth) {\r\n            this.addDepth(param.depth);\r\n          }\r\n\r\n          this.opcode('getContext', param.depth || 0);\r\n          this.opcode('pushStringParam', param.stringModeValue, param.type);\r\n\r\n          if (param.type === 'sexpr') {\r\n            // Subexpressions get evaluated and passed in\r\n            // in string params mode.\r\n            this.sexpr(param);\r\n          }\r\n        } else {\r\n          this[param.type](param);\r\n        }\r\n      }\r\n    },\r\n\r\n    setupFullMustacheParams: function(sexpr, program, inverse) {\r\n      var params = sexpr.params;\r\n      this.pushParams(params);\r\n\r\n      this.opcode('pushProgram', program);\r\n      this.opcode('pushProgram', inverse);\r\n\r\n      if (sexpr.hash) {\r\n        this.hash(sexpr.hash);\r\n      } else {\r\n        this.opcode('emptyHash');\r\n      }\r\n\r\n      return params;\r\n    }\r\n  };\r\n\r\n  function precompile(input, options, env) {\r\n    if (input == null || (typeof input !== 'string' && input.constructor !== env.AST.ProgramNode)) {\r\n      throw new Exception(\"You must pass a string or Handlebars AST to Handlebars.precompile. You passed \" + input);\r\n    }\r\n\r\n    options = options || {};\r\n    if (!('data' in options)) {\r\n      options.data = true;\r\n    }\r\n\r\n    var ast = env.parse(input);\r\n    var environment = new env.Compiler().compile(ast, options);\r\n    return new env.JavaScriptCompiler().compile(environment, options);\r\n  }\r\n\r\n  __exports__.precompile = precompile;function compile(input, options, env) {\r\n    if (input == null || (typeof input !== 'string' && input.constructor !== env.AST.ProgramNode)) {\r\n      throw new Exception(\"You must pass a string or Handlebars AST to Handlebars.compile. You passed \" + input);\r\n    }\r\n\r\n    options = options || {};\r\n\r\n    if (!('data' in options)) {\r\n      options.data = true;\r\n    }\r\n\r\n    var compiled;\r\n\r\n    function compileInput() {\r\n      var ast = env.parse(input);\r\n      var environment = new env.Compiler().compile(ast, options);\r\n      var templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);\r\n      return env.template(templateSpec);\r\n    }\r\n\r\n    // Template is only compiled on first use and cached after that point.\r\n    return function(context, options) {\r\n      if (!compiled) {\r\n        compiled = compileInput();\r\n      }\r\n      return compiled.call(this, context, options);\r\n    };\r\n  }\r\n\r\n  __exports__.compile = compile;\r\n  return __exports__;\r\n})(__module5__);\r\n\r\n// handlebars/compiler/javascript-compiler.js\r\nvar __module11__ = (function(__dependency1__, __dependency2__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  var COMPILER_REVISION = __dependency1__.COMPILER_REVISION;\r\n  var REVISION_CHANGES = __dependency1__.REVISION_CHANGES;\r\n  var log = __dependency1__.log;\r\n  var Exception = __dependency2__;\r\n\r\n  function Literal(value) {\r\n    this.value = value;\r\n  }\r\n\r\n  function JavaScriptCompiler() {}\r\n\r\n  JavaScriptCompiler.prototype = {\r\n    // PUBLIC API: You can override these methods in a subclass to provide\r\n    // alternative compiled forms for name lookup and buffering semantics\r\n    nameLookup: function(parent, name /* , type*/) {\r\n      var wrap,\r\n          ret;\r\n      if (parent.indexOf('depth') === 0) {\r\n        wrap = true;\r\n      }\r\n\r\n      if (/^[0-9]+$/.test(name)) {\r\n        ret = parent + \"[\" + name + \"]\";\r\n      } else if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {\r\n        ret = parent + \".\" + name;\r\n      }\r\n      else {\r\n        ret = parent + \"['\" + name + \"']\";\r\n      }\r\n\r\n      if (wrap) {\r\n        return '(' + parent + ' && ' + ret + ')';\r\n      } else {\r\n        return ret;\r\n      }\r\n    },\r\n\r\n    compilerInfo: function() {\r\n      var revision = COMPILER_REVISION,\r\n          versions = REVISION_CHANGES[revision];\r\n      return \"this.compilerInfo = [\"+revision+\",'\"+versions+\"'];\\n\";\r\n    },\r\n\r\n    appendToBuffer: function(string) {\r\n      if (this.environment.isSimple) {\r\n        return \"return \" + string + \";\";\r\n      } else {\r\n        return {\r\n          appendToBuffer: true,\r\n          content: string,\r\n          toString: function() { return \"buffer += \" + string + \";\"; }\r\n        };\r\n      }\r\n    },\r\n\r\n    initializeBuffer: function() {\r\n      return this.quotedString(\"\");\r\n    },\r\n\r\n    namespace: \"Handlebars\",\r\n    // END PUBLIC API\r\n\r\n    compile: function(environment, options, context, asObject) {\r\n      this.environment = environment;\r\n      this.options = options || {};\r\n\r\n      log('debug', this.environment.disassemble() + \"\\n\\n\");\r\n\r\n      this.name = this.environment.name;\r\n      this.isChild = !!context;\r\n      this.context = context || {\r\n        programs: [],\r\n        environments: [],\r\n        aliases: { }\r\n      };\r\n\r\n      this.preamble();\r\n\r\n      this.stackSlot = 0;\r\n      this.stackVars = [];\r\n      this.registers = { list: [] };\r\n      this.hashes = [];\r\n      this.compileStack = [];\r\n      this.inlineStack = [];\r\n\r\n      this.compileChildren(environment, options);\r\n\r\n      var opcodes = environment.opcodes, opcode;\r\n\r\n      this.i = 0;\r\n\r\n      for(var l=opcodes.length; this.i<l; this.i++) {\r\n        opcode = opcodes[this.i];\r\n\r\n        if(opcode.opcode === 'DECLARE') {\r\n          this[opcode.name] = opcode.value;\r\n        } else {\r\n          this[opcode.opcode].apply(this, opcode.args);\r\n        }\r\n\r\n        // Reset the stripNext flag if it was not set by this operation.\r\n        if (opcode.opcode !== this.stripNext) {\r\n          this.stripNext = false;\r\n        }\r\n      }\r\n\r\n      // Flush any trailing content that might be pending.\r\n      this.pushSource('');\r\n\r\n      if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\r\n        throw new Exception('Compile completed with content left on stack');\r\n      }\r\n\r\n      return this.createFunctionContext(asObject);\r\n    },\r\n\r\n    preamble: function() {\r\n      var out = [];\r\n\r\n      if (!this.isChild) {\r\n        var namespace = this.namespace;\r\n\r\n        var copies = \"helpers = this.merge(helpers, \" + namespace + \".helpers);\";\r\n        if (this.environment.usePartial) { copies = copies + \" partials = this.merge(partials, \" + namespace + \".partials);\"; }\r\n        if (this.options.data) { copies = copies + \" data = data || {};\"; }\r\n        out.push(copies);\r\n      } else {\r\n        out.push('');\r\n      }\r\n\r\n      if (!this.environment.isSimple) {\r\n        out.push(\", buffer = \" + this.initializeBuffer());\r\n      } else {\r\n        out.push(\"\");\r\n      }\r\n\r\n      // track the last context pushed into place to allow skipping the\r\n      // getContext opcode when it would be a noop\r\n      this.lastContext = 0;\r\n      this.source = out;\r\n    },\r\n\r\n    createFunctionContext: function(asObject) {\r\n      var locals = this.stackVars.concat(this.registers.list);\r\n\r\n      if(locals.length > 0) {\r\n        this.source[1] = this.source[1] + \", \" + locals.join(\", \");\r\n      }\r\n\r\n      // Generate minimizer alias mappings\r\n      if (!this.isChild) {\r\n        for (var alias in this.context.aliases) {\r\n          if (this.context.aliases.hasOwnProperty(alias)) {\r\n            this.source[1] = this.source[1] + ', ' + alias + '=' + this.context.aliases[alias];\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this.source[1]) {\r\n        this.source[1] = \"var \" + this.source[1].substring(2) + \";\";\r\n      }\r\n\r\n      // Merge children\r\n      if (!this.isChild) {\r\n        this.source[1] += '\\n' + this.context.programs.join('\\n') + '\\n';\r\n      }\r\n\r\n      if (!this.environment.isSimple) {\r\n        this.pushSource(\"return buffer;\");\r\n      }\r\n\r\n      var params = this.isChild ? [\"depth0\", \"data\"] : [\"Handlebars\", \"depth0\", \"helpers\", \"partials\", \"data\"];\r\n\r\n      for(var i=0, l=this.environment.depths.list.length; i<l; i++) {\r\n        params.push(\"depth\" + this.environment.depths.list[i]);\r\n      }\r\n\r\n      // Perform a second pass over the output to merge content when possible\r\n      var source = this.mergeSource();\r\n\r\n      if (!this.isChild) {\r\n        source = this.compilerInfo()+source;\r\n      }\r\n\r\n      if (asObject) {\r\n        params.push(source);\r\n\r\n        return Function.apply(this, params);\r\n      } else {\r\n        var functionSource = 'function ' + (this.name || '') + '(' + params.join(',') + ') {\\n  ' + source + '}';\r\n        log('debug', functionSource + \"\\n\\n\");\r\n        return functionSource;\r\n      }\r\n    },\r\n    mergeSource: function() {\r\n      // WARN: We are not handling the case where buffer is still populated as the source should\r\n      // not have buffer append operations as their final action.\r\n      var source = '',\r\n          buffer;\r\n      for (var i = 0, len = this.source.length; i < len; i++) {\r\n        var line = this.source[i];\r\n        if (line.appendToBuffer) {\r\n          if (buffer) {\r\n            buffer = buffer + '\\n    + ' + line.content;\r\n          } else {\r\n            buffer = line.content;\r\n          }\r\n        } else {\r\n          if (buffer) {\r\n            source += 'buffer += ' + buffer + ';\\n  ';\r\n            buffer = undefined;\r\n          }\r\n          source += line + '\\n  ';\r\n        }\r\n      }\r\n      return source;\r\n    },\r\n\r\n    // [blockValue]\r\n    //\r\n    // On stack, before: hash, inverse, program, value\r\n    // On stack, after: return value of blockHelperMissing\r\n    //\r\n    // The purpose of this opcode is to take a block of the form\r\n    // `{{#foo}}...{{/foo}}`, resolve the value of `foo`, and\r\n    // replace it on the stack with the result of properly\r\n    // invoking blockHelperMissing.\r\n    blockValue: function() {\r\n      this.context.aliases.blockHelperMissing = 'helpers.blockHelperMissing';\r\n\r\n      var params = [\"depth0\"];\r\n      this.setupParams(0, params);\r\n\r\n      this.replaceStack(function(current) {\r\n        params.splice(1, 0, current);\r\n        return \"blockHelperMissing.call(\" + params.join(\", \") + \")\";\r\n      });\r\n    },\r\n\r\n    // [ambiguousBlockValue]\r\n    //\r\n    // On stack, before: hash, inverse, program, value\r\n    // Compiler value, before: lastHelper=value of last found helper, if any\r\n    // On stack, after, if no lastHelper: same as [blockValue]\r\n    // On stack, after, if lastHelper: value\r\n    ambiguousBlockValue: function() {\r\n      this.context.aliases.blockHelperMissing = 'helpers.blockHelperMissing';\r\n\r\n      var params = [\"depth0\"];\r\n      this.setupParams(0, params);\r\n\r\n      var current = this.topStack();\r\n      params.splice(1, 0, current);\r\n\r\n      this.pushSource(\"if (!\" + this.lastHelper + \") { \" + current + \" = blockHelperMissing.call(\" + params.join(\", \") + \"); }\");\r\n    },\r\n\r\n    // [appendContent]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: ...\r\n    //\r\n    // Appends the string value of `content` to the current buffer\r\n    appendContent: function(content) {\r\n      if (this.pendingContent) {\r\n        content = this.pendingContent + content;\r\n      }\r\n      if (this.stripNext) {\r\n        content = content.replace(/^\\s+/, '');\r\n      }\r\n\r\n      this.pendingContent = content;\r\n    },\r\n\r\n    // [strip]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: ...\r\n    //\r\n    // Removes any trailing whitespace from the prior content node and flags\r\n    // the next operation for stripping if it is a content node.\r\n    strip: function() {\r\n      if (this.pendingContent) {\r\n        this.pendingContent = this.pendingContent.replace(/\\s+$/, '');\r\n      }\r\n      this.stripNext = 'strip';\r\n    },\r\n\r\n    // [append]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: ...\r\n    //\r\n    // Coerces `value` to a String and appends it to the current buffer.\r\n    //\r\n    // If `value` is truthy, or 0, it is coerced into a string and appended\r\n    // Otherwise, the empty string is appended\r\n    append: function() {\r\n      // Force anything that is inlined onto the stack so we don't have duplication\r\n      // when we examine local\r\n      this.flushInline();\r\n      var local = this.popStack();\r\n      this.pushSource(\"if(\" + local + \" || \" + local + \" === 0) { \" + this.appendToBuffer(local) + \" }\");\r\n      if (this.environment.isSimple) {\r\n        this.pushSource(\"else { \" + this.appendToBuffer(\"''\") + \" }\");\r\n      }\r\n    },\r\n\r\n    // [appendEscaped]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: ...\r\n    //\r\n    // Escape `value` and append it to the buffer\r\n    appendEscaped: function() {\r\n      this.context.aliases.escapeExpression = 'this.escapeExpression';\r\n\r\n      this.pushSource(this.appendToBuffer(\"escapeExpression(\" + this.popStack() + \")\"));\r\n    },\r\n\r\n    // [getContext]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: ...\r\n    // Compiler value, after: lastContext=depth\r\n    //\r\n    // Set the value of the `lastContext` compiler value to the depth\r\n    getContext: function(depth) {\r\n      if(this.lastContext !== depth) {\r\n        this.lastContext = depth;\r\n      }\r\n    },\r\n\r\n    // [lookupOnContext]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: currentContext[name], ...\r\n    //\r\n    // Looks up the value of `name` on the current context and pushes\r\n    // it onto the stack.\r\n    lookupOnContext: function(name) {\r\n      this.push(this.nameLookup('depth' + this.lastContext, name, 'context'));\r\n    },\r\n\r\n    // [pushContext]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: currentContext, ...\r\n    //\r\n    // Pushes the value of the current context onto the stack.\r\n    pushContext: function() {\r\n      this.pushStackLiteral('depth' + this.lastContext);\r\n    },\r\n\r\n    // [resolvePossibleLambda]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: resolved value, ...\r\n    //\r\n    // If the `value` is a lambda, replace it on the stack by\r\n    // the return value of the lambda\r\n    resolvePossibleLambda: function() {\r\n      this.context.aliases.functionType = '\"function\"';\r\n\r\n      this.replaceStack(function(current) {\r\n        return \"typeof \" + current + \" === functionType ? \" + current + \".apply(depth0) : \" + current;\r\n      });\r\n    },\r\n\r\n    // [lookup]\r\n    //\r\n    // On stack, before: value, ...\r\n    // On stack, after: value[name], ...\r\n    //\r\n    // Replace the value on the stack with the result of looking\r\n    // up `name` on `value`\r\n    lookup: function(name) {\r\n      this.replaceStack(function(current) {\r\n        return current + \" == null || \" + current + \" === false ? \" + current + \" : \" + this.nameLookup(current, name, 'context');\r\n      });\r\n    },\r\n\r\n    // [lookupData]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: data, ...\r\n    //\r\n    // Push the data lookup operator\r\n    lookupData: function() {\r\n      this.pushStackLiteral('data');\r\n    },\r\n\r\n    // [pushStringParam]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: string, currentContext, ...\r\n    //\r\n    // This opcode is designed for use in string mode, which\r\n    // provides the string value of a parameter along with its\r\n    // depth rather than resolving it immediately.\r\n    pushStringParam: function(string, type) {\r\n      this.pushStackLiteral('depth' + this.lastContext);\r\n\r\n      this.pushString(type);\r\n\r\n      // If it's a subexpression, the string result\r\n      // will be pushed after this opcode.\r\n      if (type !== 'sexpr') {\r\n        if (typeof string === 'string') {\r\n          this.pushString(string);\r\n        } else {\r\n          this.pushStackLiteral(string);\r\n        }\r\n      }\r\n    },\r\n\r\n    emptyHash: function() {\r\n      this.pushStackLiteral('{}');\r\n\r\n      if (this.options.stringParams) {\r\n        this.push('{}'); // hashContexts\r\n        this.push('{}'); // hashTypes\r\n      }\r\n    },\r\n    pushHash: function() {\r\n      if (this.hash) {\r\n        this.hashes.push(this.hash);\r\n      }\r\n      this.hash = {values: [], types: [], contexts: []};\r\n    },\r\n    popHash: function() {\r\n      var hash = this.hash;\r\n      this.hash = this.hashes.pop();\r\n\r\n      if (this.options.stringParams) {\r\n        this.push('{' + hash.contexts.join(',') + '}');\r\n        this.push('{' + hash.types.join(',') + '}');\r\n      }\r\n\r\n      this.push('{\\n    ' + hash.values.join(',\\n    ') + '\\n  }');\r\n    },\r\n\r\n    // [pushString]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: quotedString(string), ...\r\n    //\r\n    // Push a quoted version of `string` onto the stack\r\n    pushString: function(string) {\r\n      this.pushStackLiteral(this.quotedString(string));\r\n    },\r\n\r\n    // [push]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: expr, ...\r\n    //\r\n    // Push an expression onto the stack\r\n    push: function(expr) {\r\n      this.inlineStack.push(expr);\r\n      return expr;\r\n    },\r\n\r\n    // [pushLiteral]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: value, ...\r\n    //\r\n    // Pushes a value onto the stack. This operation prevents\r\n    // the compiler from creating a temporary variable to hold\r\n    // it.\r\n    pushLiteral: function(value) {\r\n      this.pushStackLiteral(value);\r\n    },\r\n\r\n    // [pushProgram]\r\n    //\r\n    // On stack, before: ...\r\n    // On stack, after: program(guid), ...\r\n    //\r\n    // Push a program expression onto the stack. This takes\r\n    // a compile-time guid and converts it into a runtime-accessible\r\n    // expression.\r\n    pushProgram: function(guid) {\r\n      if (guid != null) {\r\n        this.pushStackLiteral(this.programExpression(guid));\r\n      } else {\r\n        this.pushStackLiteral(null);\r\n      }\r\n    },\r\n\r\n    // [invokeHelper]\r\n    //\r\n    // On stack, before: hash, inverse, program, params..., ...\r\n    // On stack, after: result of helper invocation\r\n    //\r\n    // Pops off the helper's parameters, invokes the helper,\r\n    // and pushes the helper's return value onto the stack.\r\n    //\r\n    // If the helper is not found, `helperMissing` is called.\r\n    invokeHelper: function(paramSize, name, isRoot) {\r\n      this.context.aliases.helperMissing = 'helpers.helperMissing';\r\n      this.useRegister('helper');\r\n\r\n      var helper = this.lastHelper = this.setupHelper(paramSize, name, true);\r\n      var nonHelper = this.nameLookup('depth' + this.lastContext, name, 'context');\r\n\r\n      var lookup = 'helper = ' + helper.name + ' || ' + nonHelper;\r\n      if (helper.paramsInit) {\r\n        lookup += ',' + helper.paramsInit;\r\n      }\r\n\r\n      this.push(\r\n        '('\r\n          + lookup\r\n          + ',helper '\r\n            + '? helper.call(' + helper.callParams + ') '\r\n            + ': helperMissing.call(' + helper.helperMissingParams + '))');\r\n\r\n      // Always flush subexpressions. This is both to prevent the compounding size issue that\r\n      // occurs when the code has to be duplicated for inlining and also to prevent errors\r\n      // due to the incorrect options object being passed due to the shared register.\r\n      if (!isRoot) {\r\n        this.flushInline();\r\n      }\r\n    },\r\n\r\n    // [invokeKnownHelper]\r\n    //\r\n    // On stack, before: hash, inverse, program, params..., ...\r\n    // On stack, after: result of helper invocation\r\n    //\r\n    // This operation is used when the helper is known to exist,\r\n    // so a `helperMissing` fallback is not required.\r\n    invokeKnownHelper: function(paramSize, name) {\r\n      var helper = this.setupHelper(paramSize, name);\r\n      this.push(helper.name + \".call(\" + helper.callParams + \")\");\r\n    },\r\n\r\n    // [invokeAmbiguous]\r\n    //\r\n    // On stack, before: hash, inverse, program, params..., ...\r\n    // On stack, after: result of disambiguation\r\n    //\r\n    // This operation is used when an expression like `{{foo}}`\r\n    // is provided, but we don't know at compile-time whether it\r\n    // is a helper or a path.\r\n    //\r\n    // This operation emits more code than the other options,\r\n    // and can be avoided by passing the `knownHelpers` and\r\n    // `knownHelpersOnly` flags at compile-time.\r\n    invokeAmbiguous: function(name, helperCall) {\r\n      this.context.aliases.functionType = '\"function\"';\r\n      this.useRegister('helper');\r\n\r\n      this.emptyHash();\r\n      var helper = this.setupHelper(0, name, helperCall);\r\n\r\n      var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');\r\n\r\n      var nonHelper = this.nameLookup('depth' + this.lastContext, name, 'context');\r\n      var nextStack = this.nextStack();\r\n\r\n      if (helper.paramsInit) {\r\n        this.pushSource(helper.paramsInit);\r\n      }\r\n      this.pushSource('if (helper = ' + helperName + ') { ' + nextStack + ' = helper.call(' + helper.callParams + '); }');\r\n      this.pushSource('else { helper = ' + nonHelper + '; ' + nextStack + ' = typeof helper === functionType ? helper.call(' + helper.callParams + ') : helper; }');\r\n    },\r\n\r\n    // [invokePartial]\r\n    //\r\n    // On stack, before: context, ...\r\n    // On stack after: result of partial invocation\r\n    //\r\n    // This operation pops off a context, invokes a partial with that context,\r\n    // and pushes the result of the invocation back.\r\n    invokePartial: function(name) {\r\n      var params = [this.nameLookup('partials', name, 'partial'), \"'\" + name + \"'\", this.popStack(), \"helpers\", \"partials\"];\r\n\r\n      if (this.options.data) {\r\n        params.push(\"data\");\r\n      }\r\n\r\n      this.context.aliases.self = \"this\";\r\n      this.push(\"self.invokePartial(\" + params.join(\", \") + \")\");\r\n    },\r\n\r\n    // [assignToHash]\r\n    //\r\n    // On stack, before: value, hash, ...\r\n    // On stack, after: hash, ...\r\n    //\r\n    // Pops a value and hash off the stack, assigns `hash[key] = value`\r\n    // and pushes the hash back onto the stack.\r\n    assignToHash: function(key) {\r\n      var value = this.popStack(),\r\n          context,\r\n          type;\r\n\r\n      if (this.options.stringParams) {\r\n        type = this.popStack();\r\n        context = this.popStack();\r\n      }\r\n\r\n      var hash = this.hash;\r\n      if (context) {\r\n        hash.contexts.push(\"'\" + key + \"': \" + context);\r\n      }\r\n      if (type) {\r\n        hash.types.push(\"'\" + key + \"': \" + type);\r\n      }\r\n      hash.values.push(\"'\" + key + \"': (\" + value + \")\");\r\n    },\r\n\r\n    // HELPERS\r\n\r\n    compiler: JavaScriptCompiler,\r\n\r\n    compileChildren: function(environment, options) {\r\n      var children = environment.children, child, compiler;\r\n\r\n      for(var i=0, l=children.length; i<l; i++) {\r\n        child = children[i];\r\n        compiler = new this.compiler();\r\n\r\n        var index = this.matchExistingProgram(child);\r\n\r\n        if (index == null) {\r\n          this.context.programs.push('');     // Placeholder to prevent name conflicts for nested children\r\n          index = this.context.programs.length;\r\n          child.index = index;\r\n          child.name = 'program' + index;\r\n          this.context.programs[index] = compiler.compile(child, options, this.context);\r\n          this.context.environments[index] = child;\r\n        } else {\r\n          child.index = index;\r\n          child.name = 'program' + index;\r\n        }\r\n      }\r\n    },\r\n    matchExistingProgram: function(child) {\r\n      for (var i = 0, len = this.context.environments.length; i < len; i++) {\r\n        var environment = this.context.environments[i];\r\n        if (environment && environment.equals(child)) {\r\n          return i;\r\n        }\r\n      }\r\n    },\r\n\r\n    programExpression: function(guid) {\r\n      this.context.aliases.self = \"this\";\r\n\r\n      if(guid == null) {\r\n        return \"self.noop\";\r\n      }\r\n\r\n      var child = this.environment.children[guid],\r\n          depths = child.depths.list, depth;\r\n\r\n      var programParams = [child.index, child.name, \"data\"];\r\n\r\n      for(var i=0, l = depths.length; i<l; i++) {\r\n        depth = depths[i];\r\n\r\n        if(depth === 1) { programParams.push(\"depth0\"); }\r\n        else { programParams.push(\"depth\" + (depth - 1)); }\r\n      }\r\n\r\n      return (depths.length === 0 ? \"self.program(\" : \"self.programWithDepth(\") + programParams.join(\", \") + \")\";\r\n    },\r\n\r\n    register: function(name, val) {\r\n      this.useRegister(name);\r\n      this.pushSource(name + \" = \" + val + \";\");\r\n    },\r\n\r\n    useRegister: function(name) {\r\n      if(!this.registers[name]) {\r\n        this.registers[name] = true;\r\n        this.registers.list.push(name);\r\n      }\r\n    },\r\n\r\n    pushStackLiteral: function(item) {\r\n      return this.push(new Literal(item));\r\n    },\r\n\r\n    pushSource: function(source) {\r\n      if (this.pendingContent) {\r\n        this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent)));\r\n        this.pendingContent = undefined;\r\n      }\r\n\r\n      if (source) {\r\n        this.source.push(source);\r\n      }\r\n    },\r\n\r\n    pushStack: function(item) {\r\n      this.flushInline();\r\n\r\n      var stack = this.incrStack();\r\n      if (item) {\r\n        this.pushSource(stack + \" = \" + item + \";\");\r\n      }\r\n      this.compileStack.push(stack);\r\n      return stack;\r\n    },\r\n\r\n    replaceStack: function(callback) {\r\n      var prefix = '',\r\n          inline = this.isInline(),\r\n          stack,\r\n          createdStack,\r\n          usedLiteral;\r\n\r\n      // If we are currently inline then we want to merge the inline statement into the\r\n      // replacement statement via ','\r\n      if (inline) {\r\n        var top = this.popStack(true);\r\n\r\n        if (top instanceof Literal) {\r\n          // Literals do not need to be inlined\r\n          stack = top.value;\r\n          usedLiteral = true;\r\n        } else {\r\n          // Get or create the current stack name for use by the inline\r\n          createdStack = !this.stackSlot;\r\n          var name = !createdStack ? this.topStackName() : this.incrStack();\r\n\r\n          prefix = '(' + this.push(name) + ' = ' + top + '),';\r\n          stack = this.topStack();\r\n        }\r\n      } else {\r\n        stack = this.topStack();\r\n      }\r\n\r\n      var item = callback.call(this, stack);\r\n\r\n      if (inline) {\r\n        if (!usedLiteral) {\r\n          this.popStack();\r\n        }\r\n        if (createdStack) {\r\n          this.stackSlot--;\r\n        }\r\n        this.push('(' + prefix + item + ')');\r\n      } else {\r\n        // Prevent modification of the context depth variable. Through replaceStack\r\n        if (!/^stack/.test(stack)) {\r\n          stack = this.nextStack();\r\n        }\r\n\r\n        this.pushSource(stack + \" = (\" + prefix + item + \");\");\r\n      }\r\n      return stack;\r\n    },\r\n\r\n    nextStack: function() {\r\n      return this.pushStack();\r\n    },\r\n\r\n    incrStack: function() {\r\n      this.stackSlot++;\r\n      if(this.stackSlot > this.stackVars.length) { this.stackVars.push(\"stack\" + this.stackSlot); }\r\n      return this.topStackName();\r\n    },\r\n    topStackName: function() {\r\n      return \"stack\" + this.stackSlot;\r\n    },\r\n    flushInline: function() {\r\n      var inlineStack = this.inlineStack;\r\n      if (inlineStack.length) {\r\n        this.inlineStack = [];\r\n        for (var i = 0, len = inlineStack.length; i < len; i++) {\r\n          var entry = inlineStack[i];\r\n          if (entry instanceof Literal) {\r\n            this.compileStack.push(entry);\r\n          } else {\r\n            this.pushStack(entry);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    isInline: function() {\r\n      return this.inlineStack.length;\r\n    },\r\n\r\n    popStack: function(wrapped) {\r\n      var inline = this.isInline(),\r\n          item = (inline ? this.inlineStack : this.compileStack).pop();\r\n\r\n      if (!wrapped && (item instanceof Literal)) {\r\n        return item.value;\r\n      } else {\r\n        if (!inline) {\r\n          if (!this.stackSlot) {\r\n            throw new Exception('Invalid stack pop');\r\n          }\r\n          this.stackSlot--;\r\n        }\r\n        return item;\r\n      }\r\n    },\r\n\r\n    topStack: function(wrapped) {\r\n      var stack = (this.isInline() ? this.inlineStack : this.compileStack),\r\n          item = stack[stack.length - 1];\r\n\r\n      if (!wrapped && (item instanceof Literal)) {\r\n        return item.value;\r\n      } else {\r\n        return item;\r\n      }\r\n    },\r\n\r\n    quotedString: function(str) {\r\n      return '\"' + str\r\n        .replace(/\\\\/g, '\\\\\\\\')\r\n        .replace(/\"/g, '\\\\\"')\r\n        .replace(/\\n/g, '\\\\n')\r\n        .replace(/\\r/g, '\\\\r')\r\n        .replace(/\\u2028/g, '\\\\u2028')   // Per Ecma-262 7.3 + 7.8.4\r\n        .replace(/\\u2029/g, '\\\\u2029') + '\"';\r\n    },\r\n\r\n    setupHelper: function(paramSize, name, missingParams) {\r\n      var params = [],\r\n          paramsInit = this.setupParams(paramSize, params, missingParams);\r\n      var foundHelper = this.nameLookup('helpers', name, 'helper');\r\n\r\n      return {\r\n        params: params,\r\n        paramsInit: paramsInit,\r\n        name: foundHelper,\r\n        callParams: [\"depth0\"].concat(params).join(\", \"),\r\n        helperMissingParams: missingParams && [\"depth0\", this.quotedString(name)].concat(params).join(\", \")\r\n      };\r\n    },\r\n\r\n    setupOptions: function(paramSize, params) {\r\n      var options = [], contexts = [], types = [], param, inverse, program;\r\n\r\n      options.push(\"hash:\" + this.popStack());\r\n\r\n      if (this.options.stringParams) {\r\n        options.push(\"hashTypes:\" + this.popStack());\r\n        options.push(\"hashContexts:\" + this.popStack());\r\n      }\r\n\r\n      inverse = this.popStack();\r\n      program = this.popStack();\r\n\r\n      // Avoid setting fn and inverse if neither are set. This allows\r\n      // helpers to do a check for `if (options.fn)`\r\n      if (program || inverse) {\r\n        if (!program) {\r\n          this.context.aliases.self = \"this\";\r\n          program = \"self.noop\";\r\n        }\r\n\r\n        if (!inverse) {\r\n          this.context.aliases.self = \"this\";\r\n          inverse = \"self.noop\";\r\n        }\r\n\r\n        options.push(\"inverse:\" + inverse);\r\n        options.push(\"fn:\" + program);\r\n      }\r\n\r\n      for(var i=0; i<paramSize; i++) {\r\n        param = this.popStack();\r\n        params.push(param);\r\n\r\n        if(this.options.stringParams) {\r\n          types.push(this.popStack());\r\n          contexts.push(this.popStack());\r\n        }\r\n      }\r\n\r\n      if (this.options.stringParams) {\r\n        options.push(\"contexts:[\" + contexts.join(\",\") + \"]\");\r\n        options.push(\"types:[\" + types.join(\",\") + \"]\");\r\n      }\r\n\r\n      if(this.options.data) {\r\n        options.push(\"data:data\");\r\n      }\r\n\r\n      return options;\r\n    },\r\n\r\n    // the params and contexts arguments are passed in arrays\r\n    // to fill in\r\n    setupParams: function(paramSize, params, useRegister) {\r\n      var options = '{' + this.setupOptions(paramSize, params).join(',') + '}';\r\n\r\n      if (useRegister) {\r\n        this.useRegister('options');\r\n        params.push('options');\r\n        return 'options=' + options;\r\n      } else {\r\n        params.push(options);\r\n        return '';\r\n      }\r\n    }\r\n  };\r\n\r\n  var reservedWords = (\r\n    \"break else new var\" +\r\n    \" case finally return void\" +\r\n    \" catch for switch while\" +\r\n    \" continue function this with\" +\r\n    \" default if throw\" +\r\n    \" delete in try\" +\r\n    \" do instanceof typeof\" +\r\n    \" abstract enum int short\" +\r\n    \" boolean export interface static\" +\r\n    \" byte extends long super\" +\r\n    \" char final native synchronized\" +\r\n    \" class float package throws\" +\r\n    \" const goto private transient\" +\r\n    \" debugger implements protected volatile\" +\r\n    \" double import public let yield\"\r\n  ).split(\" \");\r\n\r\n  var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};\r\n\r\n  for(var i=0, l=reservedWords.length; i<l; i++) {\r\n    compilerWords[reservedWords[i]] = true;\r\n  }\r\n\r\n  JavaScriptCompiler.isValidJavaScriptVariableName = function(name) {\r\n    if(!JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  __exports__ = JavaScriptCompiler;\r\n  return __exports__;\r\n})(__module2__, __module5__);\r\n\r\n// handlebars.js\r\nvar __module0__ = (function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__) {\r\n  \"use strict\";\r\n  var __exports__;\r\n  /*globals Handlebars: true */\r\n  var Handlebars = __dependency1__;\r\n\r\n  // Compiler imports\r\n  var AST = __dependency2__;\r\n  var Parser = __dependency3__.parser;\r\n  var parse = __dependency3__.parse;\r\n  var Compiler = __dependency4__.Compiler;\r\n  var compile = __dependency4__.compile;\r\n  var precompile = __dependency4__.precompile;\r\n  var JavaScriptCompiler = __dependency5__;\r\n\r\n  var _create = Handlebars.create;\r\n  var create = function() {\r\n    var hb = _create();\r\n\r\n    hb.compile = function(input, options) {\r\n      return compile(input, options, hb);\r\n    };\r\n    hb.precompile = function (input, options) {\r\n      return precompile(input, options, hb);\r\n    };\r\n\r\n    hb.AST = AST;\r\n    hb.Compiler = Compiler;\r\n    hb.JavaScriptCompiler = JavaScriptCompiler;\r\n    hb.Parser = Parser;\r\n    hb.parse = parse;\r\n\r\n    return hb;\r\n  };\r\n\r\n  Handlebars = create();\r\n  Handlebars.create = create;\r\n\r\n  __exports__ = Handlebars;\r\n  return __exports__;\r\n})(__module1__, __module7__, __module8__, __module10__, __module11__);\r\n\r\n  return __module0__;\r\n})();\r\n\n\nRegExp.escape=function(s){return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,'\\\\$&');};(function($){'use strict'\n$.csv={defaults:{separator:',',delimiter:'\"',headers:true},hooks:{castToScalar:function(value,state){var hasDot=/\\./;if(isNaN(value)){return value;}else{if(hasDot.test(value)){return parseFloat(value);}else{var integer=parseInt(value);if(isNaN(integer)){return null;}else{return integer;}}}}},parsers:{parse:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}\nif(!options.state.colNum){options.state.colNum=1;}\nvar data=[];var entry=[];var state=0;var value=''\nvar exit=false;function endOfEntry(){state=0;value='';if(options.start&&options.state.rowNum<options.start){entry=[];options.state.rowNum++;options.state.colNum=1;return;}\nif(options.onParseEntry===undefined){data.push(entry);}else{var hookVal=options.onParseEntry(entry,options.state);if(hookVal!==false){data.push(hookVal);}}\nentry=[];if(options.end&&options.state.rowNum>=options.end){exit=true;}\noptions.state.rowNum++;options.state.colNum=1;}\nfunction endOfValue(){if(options.onParseValue===undefined){entry.push(value);}else{var hook=options.onParseValue(value,options.state);if(hook!==false){entry.push(hook);}}\nvalue='';state=0;options.state.colNum++;}\nvar escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\\n|\\r|[^DS\\r\\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);match=RegExp(matchSrc,'gm');csv.replace(match,function(m0){if(exit){return;}\nswitch(state){case 0:if(m0===separator){value+='';endOfValue();break;}\nif(m0===delimiter){state=1;break;}\nif(m0==='\\n'){endOfValue();endOfEntry();break;}\nif(/^\\r$/.test(m0)){break;}\nvalue+=m0;state=3;break;case 1:if(m0===delimiter){state=2;break;}\nvalue+=m0;state=1;break;case 2:if(m0===delimiter){value+=m0;state=1;break;}\nif(m0===separator){endOfValue();break;}\nif(m0==='\\n'){endOfValue();endOfEntry();break;}\nif(/^\\r$/.test(m0)){break;}\nthrow new Error('CSVDataError: Illegal State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');case 3:if(m0===separator){endOfValue();break;}\nif(m0==='\\n'){endOfValue();endOfEntry();break;}\nif(/^\\r$/.test(m0)){break;}\nif(m0===delimiter){throw new Error('CSVDataError: Illegal Quote [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}\nthrow new Error('CSVDataError: Illegal Data [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}});if(entry.length!==0){endOfValue();endOfEntry();}\nreturn data;},splitLines:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}\nvar entries=[];var state=0;var entry='';var exit=false;function endOfLine(){state=0;if(options.start&&options.state.rowNum<options.start){entry='';options.state.rowNum++;return;}\nif(options.onParseEntry===undefined){entries.push(entry);}else{var hookVal=options.onParseEntry(entry,options.state);if(hookVal!==false){entries.push(hookVal);}}\nentry='';if(options.end&&options.state.rowNum>=options.end){exit=true;}\noptions.state.rowNum++;}\nvar escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\\n|\\r|[^DS\\r\\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);match=RegExp(matchSrc,'gm');csv.replace(match,function(m0){if(exit){return;}\nswitch(state){case 0:if(m0===separator){entry+=m0;state=0;break;}\nif(m0===delimiter){entry+=m0;state=1;break;}\nif(m0==='\\n'){endOfLine();break;}\nif(/^\\r$/.test(m0)){break;}\nentry+=m0;state=3;break;case 1:if(m0===delimiter){entry+=m0;state=2;break;}\nentry+=m0;state=1;break;case 2:var prevChar=entry.substr(entry.length-1);if(m0===delimiter&&prevChar===delimiter){entry+=m0;state=1;break;}\nif(m0===separator){entry+=m0;state=0;break;}\nif(m0==='\\n'){endOfLine();break;}\nif(m0==='\\r'){break;}\nthrow new Error('CSVDataError: Illegal state [Row:'+options.state.rowNum+']');case 3:if(m0===separator){entry+=m0;state=0;break;}\nif(m0==='\\n'){endOfLine();break;}\nif(m0==='\\r'){break;}\nif(m0===delimiter){throw new Error('CSVDataError: Illegal quote [Row:'+options.state.rowNum+']');}\nthrow new Error('CSVDataError: Illegal state [Row:'+options.state.rowNum+']');default:throw new Error('CSVDataError: Unknown state [Row:'+options.state.rowNum+']');}});if(entry!==''){endOfLine();}\nreturn entries;},parseEntry:function(csv,options){var separator=options.separator;var delimiter=options.delimiter;if(!options.state.rowNum){options.state.rowNum=1;}\nif(!options.state.colNum){options.state.colNum=1;}\nvar entry=[];var state=0;var value='';function endOfValue(){if(options.onParseValue===undefined){entry.push(value);}else{var hook=options.onParseValue(value,options.state);if(hook!==false){entry.push(hook);}}\nvalue='';state=0;options.state.colNum++;}\nif(!options.match){var escSeparator=RegExp.escape(separator);var escDelimiter=RegExp.escape(delimiter);var match=/(D|S|\\n|\\r|[^DS\\r\\n]+)/;var matchSrc=match.source;matchSrc=matchSrc.replace(/S/g,escSeparator);matchSrc=matchSrc.replace(/D/g,escDelimiter);options.match=RegExp(matchSrc,'gm');}\ncsv.replace(options.match,function(m0){switch(state){case 0:if(m0===separator){value+='';endOfValue();break;}\nif(m0===delimiter){state=1;break;}\nif(m0==='\\n'||m0==='\\r'){break;}\nvalue+=m0;state=3;break;case 1:if(m0===delimiter){state=2;break;}\nvalue+=m0;state=1;break;case 2:if(m0===delimiter){value+=m0;state=1;break;}\nif(m0===separator){endOfValue();break;}\nif(m0==='\\n'||m0==='\\r'){break;}\nthrow new Error('CSVDataError: Illegal State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');case 3:if(m0===separator){endOfValue();break;}\nif(m0==='\\n'||m0==='\\r'){break;}\nif(m0===delimiter){throw new Error('CSVDataError: Illegal Quote [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}\nthrow new Error('CSVDataError: Illegal Data [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+options.state.rowNum+'][Col:'+options.state.colNum+']');}});endOfValue();return entry;}},toArray:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;var state=(options.state!==undefined?options.state:{});var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,state:state}\nvar entry=$.csv.parsers.parseEntry(csv,options);if(!config.callback){return entry;}else{config.callback('',entry);}},toArrays:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;var data=[];var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,start:options.start,end:options.end,state:{rowNum:1,colNum:1}};data=$.csv.parsers.parse(csv,options);if(!config.callback){return data;}else{config.callback('',data);}},toObjects:function(csv,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.headers='headers'in options?options.headers:$.csv.defaults.headers;options.start='start'in options?options.start:1;if(config.headers){options.start++;}\nif(options.end&&config.headers){options.end++;}\nvar lines=[];var data=[];var options={delimiter:config.delimiter,separator:config.separator,onParseEntry:options.onParseEntry,onParseValue:options.onParseValue,start:options.start,end:options.end,state:{rowNum:1,colNum:1},match:false};var headerOptions={delimiter:config.delimiter,separator:config.separator,start:1,end:1,state:{rowNum:1,colNum:1}}\nvar headerLine=$.csv.parsers.splitLines(csv,headerOptions);var headers=$.csv.toArray(headerLine[0],options);var lines=$.csv.parsers.splitLines(csv,options);options.state.colNum=1;if(headers){options.state.rowNum=2;}else{options.state.rowNum=1;}\nfor(var i=0,len=lines.length;i<len;i++){var entry=$.csv.toArray(lines[i],options);var object={};for(var j in headers){object[headers[j]]=entry[j];}\ndata.push(object);options.state.rowNum++;}\nif(!config.callback){return data;}else{config.callback('',data);}},fromArrays:function(arrays,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.escaper='escaper'in options?options.escaper:$.csv.defaults.escaper;config.experimental='experimental'in options?options.experimental:false;if(!config.experimental){throw new Error('not implemented');}\nvar output=[];for(i in arrays){output.push(arrays[i]);}\nif(!config.callback){return output;}else{config.callback('',output);}},fromObjects2CSV:function(objects,options,callback){var options=(options!==undefined?options:{});var config={};config.callback=((callback!==undefined&&typeof(callback)==='function')?callback:false);config.separator='separator'in options?options.separator:$.csv.defaults.separator;config.delimiter='delimiter'in options?options.delimiter:$.csv.defaults.delimiter;config.experimental='experimental'in options?options.experimental:false;if(!config.experimental){throw new Error('not implemented');}\nvar output=[];for(i in objects){output.push(arrays[i]);}\nif(!config.callback){return output;}else{config.callback('',output);}}};$.csvEntry2Array=$.csv.toArray;$.csv2Array=$.csv.toArrays;$.csv2Dictionary=$.csv.toObjects;})(jQuery);\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.jso=t():e.jso=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=90)}([function(e,t,n){var r=n(40)(\"wks\"),o=n(25),i=n(1).Symbol,u=\"function\"==typeof i;(e.exports=function(e){return r[e]||(r[e]=u&&i[e]||(u?i:o)(\"Symbol.\"+e))}).store=r},function(e,t){var n=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:\"2.5.3\"};\"number\"==typeof __e&&(__e=n)},function(e,t,n){var r=n(10);e.exports=function(e){if(!r(e))throw TypeError(e+\" is not an object!\");return e}},function(e,t,n){var r=n(16),o=n(44);e.exports=n(9)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(1),o=n(2),i=n(4),u=n(8),a=n(15),c=function(e,t,n){var s,f,l,p,h=e&c.F,d=e&c.G,v=e&c.S,y=e&c.P,g=e&c.B,b=d?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,w=d?o:o[t]||(o[t]={}),_=w.prototype||(w.prototype={});for(s in d&&(n=t),n)l=((f=!h&&b&&void 0!==b[s])?b:n)[s],p=g&&f?a(l,r):y&&\"function\"==typeof l?a(Function.call,l):l,b&&u(b,s,l,e&c.U),w[s]!=l&&i(w,s,p),y&&_[s]!=l&&(_[s]=l)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports={}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(1),o=n(4),i=n(7),u=n(25)(\"src\"),a=Function.toString,c=(\"\"+a).split(\"toString\");n(2).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var s=\"function\"==typeof n;s&&(i(n,\"name\")||o(n,\"name\",t)),e[t]!==n&&(s&&(i(n,u)||o(n,u,e[t]?\"\"+e[t]:c.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[u]||a.call(this)})},function(e,t,n){e.exports=!n(27)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),console.log(\"Initializing a loader with url \"+t),this.url=t}return r(e,[{key:\"execute\",value:function(){}}]),e}();t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={epoch:function(){return Math.round((new Date).getTime()/1e3)},debug:!1,uuid:function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(\"x\"==e?t:3&t|8).toString(16)})},getResponseFromURL:function(e){return-1!==e.indexOf(\"#\")?r.parseQueryString(e.substring(e.indexOf(\"#\")+1)):-1!==e.indexOf(\"?\")?r.parseQueryString(e.substring(e.indexOf(\"?\")+1)):{}},parseQueryString:function(e){for(var t,n=/\\+/g,r=/([^&;=]+)=?([^&;]*)/g,o=function(e){return decodeURIComponent(e.replace(n,\" \"))},i=e,u={};t=r.exec(i);)u[o(t[1])]=o(t[2]);return u},scopeList:function(e){return r.uniqueList(e).join(\" \")},uniqueList:function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]=1;for(var o in t)t.hasOwnProperty(o)&&n.push(o);return n},log:function(e){if(console&&console.log&&r.debug){var t=Array.prototype.slice.call(arguments);t.unshift(\"[JSO]\"),console.log.apply(console,t)}},encodeQS:function(e){var t,n=\"\",r=0;for(t in e)n+=(0==r++?\"\":\"&\")+encodeURIComponent(t)+\"=\"+encodeURIComponent(e[t]);return n},encodeURL:function(e,t){var n,r=e,o=0,i=-1===e.indexOf(\"?\")?\"?\":\"&\";for(n in t)r+=(0==o++?i:\"&\")+encodeURIComponent(n)+\"=\"+encodeURIComponent(t[n]);return r}};t.default=r},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(3),o=n(87),i=n(86),u=Object.defineProperty;t.f=n(9)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return u(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(e[t]=n.value),e}},function(e,t,n){\"use strict\";var r=n(14);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError(\"Bad Promise constructor\");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){var r=n(16).f,o=n(7),i=n(0)(\"toStringTag\");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(13),o=n(0)(\"toStringTag\"),i=\"Arguments\"==r(function(){return arguments}());e.exports=function(e){var t,n,u;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):\"Object\"==(u=r(t))&&\"function\"==typeof t.callee?\"Arguments\":u}},function(e,t,n){var r=n(40)(\"keys\"),o=n(25);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError(\"Can't call method on  \"+e);return e}},function(e,t,n){var r=n(43),o=n(22);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(84),o=n(39);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++n+r).toString(36))}},function(e,t,n){var r=n(10),o=n(1).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),t)this[n]=t[n]}return r(e,[{key:\"set\",value:function(e,t){return this[e]=t,this}}]),e}();t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=n(28),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();t.default=u},function(e,t,n){var r=n(3),o=n(10),i=n(17);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r,o,i,u=n(15),a=n(61),c=n(34),s=n(26),f=n(1),l=f.process,p=f.setImmediate,h=f.clearImmediate,d=f.MessageChannel,v=f.Dispatch,y=0,g={},b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},w=function(e){b.call(e.data)};p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++y]=function(){a(\"function\"==typeof e?e:Function(e),t)},r(y),y},h=function(e){delete g[e]},\"process\"==n(13)(l)?r=function(e){l.nextTick(u(b,e,1))}:v&&v.now?r=function(e){v.now(u(b,e,1))}:d?(i=(o=new d).port2,o.port1.onmessage=w,r=u(i.postMessage,i,1)):f.addEventListener&&\"function\"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+\"\",\"*\")},f.addEventListener(\"message\",w,!1)):r=\"onreadystatechange\"in s(\"script\")?function(e){c.appendChild(s(\"script\")).onreadystatechange=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(u(b,e,1),0)}),e.exports={set:p,clear:h}},function(e,t,n){var r=n(3),o=n(14),i=n(0)(\"species\");e.exports=function(e,t){var n,u=r(e).constructor;return void 0===u||void 0==(n=r(u)[i])?t:o(n)}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t){e.exports=!1},function(e,t,n){\"use strict\";var r=n(35),o=n(5),i=n(8),u=n(4),a=n(7),c=n(6),s=n(74),f=n(18),l=n(71),p=n(0)(\"iterator\"),h=!([].keys&&\"next\"in[].keys()),d=function(){return this};e.exports=function(e,t,n,v,y,g,b){s(n,t,v);var w,_,m,k=function(e){if(!h&&e in P)return P[e];switch(e){case\"keys\":case\"values\":return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+\" Iterator\",x=\"values\"==y,j=!1,P=e.prototype,S=P[p]||P[\"@@iterator\"]||y&&P[y],T=!h&&S||k(y),E=y?x?k(\"entries\"):T:void 0,C=\"Array\"==t&&P.entries||S;if(C&&(m=l(C.call(new e)))!==Object.prototype&&m.next&&(f(m,O,!0),r||a(m,p)||u(m,p,d)),x&&S&&\"values\"!==S.name&&(j=!0,T=function(){return S.call(this)}),r&&!b||!h&&!j&&P[p]||u(P,p,T),c[t]=T,c[O]=d,y)if(w={values:x?T:k(\"values\"),keys:g?T:k(\"keys\"),entries:E},b)for(_ in w)_ in P||i(P,_,w[_]);else o(o.P+o.F*(h||j),t,w);return w}},function(e,t,n){var r=n(0)(\"unscopables\"),o=Array.prototype;void 0==o[r]&&n(4)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(22);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(e,t,n){var r=n(1),o=r[\"__core-js_shared__\"]||(r[\"__core-js_shared__\"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(21),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(23),o=n(41),i=n(83);e.exports=function(e){return function(t,n,u){var a,c=r(t),s=o(c.length),f=i(u,s);if(e&&n!=n){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((e||f in c)&&c[f]===n)return e||f||0;return!e&&-1}}},function(e,t,n){var r=n(13);e.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==r(e)?e.split(\"\"):Object(e)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){e.exports={name:\"jso\",version:\"4.1.1\",description:\"OAuth 2.0 implementation in Javascript\",main:\"dist/jso.js\",module:\"src/JSO.js\",scripts:{test:\"true\",preversion:\"npm test\",version:\"npm run build && git add -A dist\",postversion:\"git push && git push --tags && npm publish\",build:\"webpack --mode production --config webpack.config.js\"},babel:{presets:[\"env\"]},repository:{type:\"git\",url:\"https://github.com/andreassolberg/jso.git\"},keywords:[\"oauth\",\"authentication\",\"authorization\",\"rest\",\"api\",\"ajax\",\"jquery\"],files:[\"src\"],eslintConfig:{env:{es6:!0,browser:!0,node:!1}},devDependencies:{\"babel-core\":\"^6.26.0\",\"babel-loader\":\"^7.1.4\",\"babel-preset-env\":\"^1.6.1\",\"babel-preset-react\":\"^6.24.1\",qunit:\"^2.5.1\",webpack:\"^4.1.1\",\"webpack-cli\":\"^2.0.12\"},author:\"Andreas Åkre Solberg\",license:\"LGPL-2.1\",bugs:{url:\"https://github.com/andreassolberg/jso/issues\"},homepage:\"https://github.com/andreassolberg/jso\",dependencies:{}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return r(e,[{key:\"on\",value:function(e,t){this._callbacks||(this._callbacks={}),this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)}},{key:\"emit\",value:function(e){this._callbacks||(this._callbacks={}),this._callbacks[e]||(this._callbacks[e]=[]);for(var t=Array.prototype.slice.call(arguments,1),n=0;n<this._callbacks[e].length;n++)this._callbacks[e][n].apply(this,t)}}]),e}();t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.config={};for(var t=0;t<arguments.length;t++)Object.assign(this.config,arguments[t])}return r(e,[{key:\"has\",value:function(e){var t=this.config,n=e.split(\".\"),r=0;for(r=0;r<n.length;r++){if(!t.hasOwnProperty(n[r]))return!1;t=t[n[r]]}return!0}},{key:\"getValue\",value:function(e,t,n){n=n||!1;var r=this.config,o=e.split(\".\"),i=0;for(i=0;i<o.length;i++){if(!r.hasOwnProperty(o[i])){r=void 0;break}r=r[o[i]]}if(void 0===r){if(n)throw new Error(\"Configuration option [\"+o[i]+\"] required but not provided.\");return t}return r}}]),e}();t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(28),u=(r=i)&&r.__esModule?r:{default:r};var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:\"toString\",value:function(){return\"OAuthResponseError: [\"+(this.error||\"unknown\")+\"]: \"+(this.error_description||\"unknown\")}}]),t}();t.default=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(29),u=(r=i)&&r.__esModule?r:{default:r};var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.jso=t,this.jquery=n}return o(e,[{key:\"_fetch\",value:function(e,t){var n=this;return new Promise(function(r,o){return t.done=r,t.fail=function(e,t,r){return 401===parseInt(t,10)?(n.jso.wipeTokens(),o(new u.default)):o(r)},n.jquery.ajax(e,t)})}},{key:\"fetch\",value:function(e,t,n){var r=this;if((n=n||0)>2)throw new Error(\"Reccursion error. Expired tokens deleted and tried again multiple times.\");var o={},i={mode:\"cors\"};return t&&(i=t,Object.assign(i,t)),t&&t.jso&&Object.assign(o,t.jso),this.jso.getToken(o).catch(function(e){console.error(\"Error fetching token to use \",e)}).then(function(o){return i.headers||(i.headers={}),i.headers.Authorization=\"Bearer \"+o.access_token,r._fetch(e,i).catch(function(o){if(o instanceof u.default)return console.error(\"Token was expired. Deleting all tokens for this provider and get a new one\",o),r.jso.wipeTokens(),r.fetch(e,t,n+1)})})}}]),e}();t.default=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(29),u=(r=i)&&r.__esModule?r:{default:r};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.jso=t}return o(e,[{key:\"_fetch\",value:function(e,t){return fetch(e,t).then(function(e){if(401===e.status)throw new u.default;return e})}},{key:\"fetch\",value:function(e,t,n){var r=this;if((n=n||0)>2)throw new Error(\"Reccursion error. Expired tokens deleted and tried again multiple times.\");var o={},i={mode:\"cors\"};return t&&(i=t,Object.assign(i,t)),t&&t.jso&&Object.assign(o,t.jso),this.jso.getToken(o).catch(function(e){console.error(\"Error fetching token to use \",e)}).then(function(o){return i.headers||(i.headers={}),i.headers.Authorization=\"Bearer \"+o.access_token,r._fetch(e,i).catch(function(o){if(o instanceof u.default)return console.error(\"Token was expired. Deleting all tokens for this provider and get a new one\",o),r.jso.wipeTokens(),r.fetch(e,t,n+1)})})}}]),e}();t.default=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),u=(r=i)&&r.__esModule?r:{default:r};var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:\"execute\",value:function(){var e=this;return new Promise(function(t,n){window.popupCompleted=function(){var e=r.location.href;t(e)};var r=window.open(e.url,\"jso-popup-auth\",\"height=600,width=800\");if(null===r)throw new Error(\"Error loading popup window\");window.focus&&r.focus()})}}]),t}();t.default=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(11)),i=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.timeout=5e3,n.callback=null,n.isCompleted=!1,n.id=\"jso_passive_iframe_\"+i.default.uuid();var r=window.addEventListener?\"addEventListener\":\"attachEvent\";window[r];return n.iframe=document.createElement(\"iframe\"),n.iframe.setAttribute(\"id\",n.id),n.iframe.setAttribute(\"src\",e),n.iframe.addEventListener(\"load\",function(e){var t=null;try{if(n.iframe.contentWindow.location.hash){var r=n.iframe.contentWindow.location.hash.substring(1);t=i.default.parseQueryString(r)}else if(n.iframe.contentWindow.location.search){var o=n.iframe.contentWindow.location.search.substring(1);t=i.default.parseQueryString(o)}null!==t?n._completed(t):n._failed(new Error(\"Failed to obtain response value from iframe\"))}catch(e){}}),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:\"execute\",value:function(){var e=this;return new Promise(function(t,n){e.callback=t,e.errorCallback=n,document.getElementsByTagName(\"body\")[0].appendChild(e.iframe),setTimeout(function(){e._failed(new Error(\"Loading iframe timed out\"))},e.timeout)})}},{key:\"_cleanup\",value:function(){var e=document.getElementById(this.id);e.parentNode.removeChild(e)}},{key:\"_failed\",value:function(e){this.isCompleted||(this.errorCallback&&\"function\"==typeof this.errorCallback&&this.errorCallback(e),this.isCompleted=!0,this._cleanup())}},{key:\"_completed\",value:function(e){this.isCompleted||(this.callback&&\"function\"==typeof this.callback&&this.callback(e),this.isCompleted=!0,this._cleanup())}}]),t}();t.default=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(11));i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:\"execute\",value:function(){var e=this;return new Promise(function(t,n){window.location=e.url})}}]),t}();t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(12),u=(r=i)&&r.__esModule?r:{default:r};var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}return o(e,[{key:\"saveState\",value:function(e,t){localStorage.setItem(\"state-\"+e,JSON.stringify(t))}},{key:\"getState\",value:function(e){var t=JSON.parse(localStorage.getItem(\"state-\"+e));return localStorage.removeItem(\"state-\"+e),t}},{key:\"hasScope\",value:function(e,t){var n;if(!e.scopes)return!1;for(n=0;n<e.scopes.length;n++)if(e.scopes[n]===t)return!0;return!1}},{key:\"filterTokens\",value:function(e,t){var n,r,o,i=[],a=u.default.epoch();for(t||(t=[]),n=0;n<e.length;n++){for(o=!0,e[n].expires&&e[n].expires<a+1&&(o=!1),r=0;r<t.length;r++)this.hasScope(e[n],t[r])||(o=!1);o&&i.push(e[n])}return i}},{key:\"saveTokens\",value:function(e,t){localStorage.setItem(\"tokens-\"+e,JSON.stringify(t))}},{key:\"getTokens\",value:function(e){var t=JSON.parse(localStorage.getItem(\"tokens-\"+e));return t||(t=[]),u.default.log(\"Token found when loooking up provider \"+e+\" in store \"+window.location.href,t),t}},{key:\"wipeTokens\",value:function(e){localStorage.removeItem(\"tokens-\"+e)}},{key:\"saveToken\",value:function(e,t){var n=this.getTokens(e);(n=this.filterTokens(n)).push(t),this.saveTokens(e,n)}},{key:\"getToken\",value:function(e,t){var n=this.getTokens(e);return(n=this.filterTokens(n,t)).length<1?null:n[0]}}]),e}());t.default=a},function(e,t,n){\"use strict\";var r=n(5),o=n(17),i=n(31);r(r.S,\"Promise\",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){\"use strict\";var r=n(5),o=n(2),i=n(1),u=n(33),a=n(30);r(r.P+r.R,\"Promise\",{finally:function(e){var t=u(this,o.Promise||i.Promise),n=\"function\"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(0)(\"iterator\"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},e(i)}catch(e){}return n}},function(e,t,n){\"use strict\";var r=n(1),o=n(16),i=n(9),u=n(0)(\"species\");e.exports=function(e){var t=r[e];i&&t&&!t[u]&&o.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(8);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){var r=n(1),o=n(32).set,i=r.MutationObserver||r.WebKitMutationObserver,u=r.process,a=r.Promise,c=\"process\"==n(13)(u);e.exports=function(){var e,t,n,s=function(){var r,o;for(c&&(r=u.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){u.nextTick(s)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve();n=function(){f.then(s)}}else n=function(){o.call(r,s)};else{var l=!0,p=document.createTextNode(\"\");new i(s).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(19),o=n(0)(\"iterator\"),i=n(6);e.exports=n(2).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e[\"@@iterator\"]||i[r(e)]}},function(e,t,n){var r=n(6),o=n(0)(\"iterator\"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(15),o=n(64),i=n(63),u=n(3),a=n(41),c=n(62),s={},f={};(t=e.exports=function(e,t,n,l,p){var h,d,v,y,g=p?function(){return e}:c(e),b=r(n,l,t?2:1),w=0;if(\"function\"!=typeof g)throw TypeError(e+\" is not iterable!\");if(i(g)){for(h=a(e.length);h>w;w++)if((y=t?b(u(d=e[w])[0],d[1]):b(e[w]))===s||y===f)return y}else for(v=g.call(e);!(d=v.next()).done;)if((y=o(v,b,d.value,t))===s||y===f)return y}).BREAK=s,t.RETURN=f},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+\": incorrect invocation!\");return e}},function(e,t,n){\"use strict\";var r,o,i,u,a=n(35),c=n(1),s=n(15),f=n(19),l=n(5),p=n(10),h=n(14),d=n(66),v=n(65),y=n(33),g=n(32).set,b=n(60)(),w=n(17),_=n(31),m=n(30),k=c.TypeError,O=c.process,x=c.Promise,j=\"process\"==f(O),P=function(){},S=o=w.f,T=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(0)(\"species\")]=function(e){e(P,P)};return(j||\"function\"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t}catch(e){}}(),E=function(e){var t;return!(!p(e)||\"function\"!=typeof(t=e.then))&&t},C=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,o=1==e._s,i=0,u=function(t){var n,i,u=o?t.ok:t.fail,a=t.resolve,c=t.reject,s=t.domain;try{u?(o||(2==e._h&&M(e),e._h=1),!0===u?n=r:(s&&s.enter(),n=u(r),s&&s.exit()),n===t.promise?c(k(\"Promise-chain cycle\")):(i=E(n))?i.call(n,a,c):a(n)):c(r)}catch(e){c(e)}};n.length>i;)u(n[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){g.call(c,function(){var t,n,r,o=e._v,i=L(e);if(i&&(t=_(function(){j?O.emit(\"unhandledRejection\",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error(\"Unhandled promise rejection\",o)}),e._h=j||L(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){g.call(c,function(){var t;j?O.emit(\"rejectionHandled\",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),C(t,!0))},A=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k(\"Promise can't be resolved itself\");(t=E(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,s(A,r,1),s(I,r,1))}catch(e){I.call(r,e)}}):(n._v=e,n._s=1,C(n,!1))}catch(e){I.call({_w:n,_d:!1},e)}}};T||(x=function(e){d(this,x,\"Promise\",\"_h\"),h(e),r.call(this);try{e(s(A,this,1),s(I,this,1))}catch(e){I.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(59)(x.prototype,{then:function(e,t){var n=S(y(this,x));return n.ok=\"function\"!=typeof e||e,n.fail=\"function\"==typeof t&&t,n.domain=j?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&C(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=s(A,e,1),this.reject=s(I,e,1)},w.f=S=function(e){return e===x||e===u?new i(e):o(e)}),l(l.G+l.W+l.F*!T,{Promise:x}),n(18)(x,\"Promise\"),n(58)(\"Promise\"),u=n(2).Promise,l(l.S+l.F*!T,\"Promise\",{reject:function(e){var t=S(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!T),\"Promise\",{resolve:function(e){return m(a&&this===u?x:this,e)}}),l(l.S+l.F*!(T&&n(57)(function(e){x.all(e).catch(P)})),\"Promise\",{all:function(e){var t=this,n=S(t),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,u=1;v(e,!1,function(e){var a=i++,c=!1;n.push(void 0),u++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--u||r(n))},o)}),--u||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=S(t),r=n.reject,o=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){\"use strict\";var r=n(37),o=n(68),i=n(6),u=n(23);e.exports=n(36)(Array,\"Array\",function(e,t){this._t=u(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,\"keys\"==t?n:\"values\"==t?e[n]:[n,e[n]])},\"values\"),i.Arguments=i.Array,r(\"keys\"),r(\"values\"),r(\"entries\")},function(e,t,n){for(var r=n(69),o=n(24),i=n(8),u=n(1),a=n(4),c=n(6),s=n(0),f=s(\"iterator\"),l=s(\"toStringTag\"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(h),v=0;v<d.length;v++){var y,g=d[v],b=h[g],w=u[g],_=w&&w.prototype;if(_&&(_[f]||a(_,f,p),_[l]||a(_,l,g),c[g]=p,b))for(y in r)_[y]||i(_,y,r[y],!0)}},function(e,t,n){var r=n(7),o=n(38),i=n(20)(\"IE_PROTO\"),u=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(16),o=n(3),i=n(24);e.exports=n(9)?Object.defineProperties:function(e,t){o(e);for(var n,u=i(t),a=u.length,c=0;a>c;)r.f(e,n=u[c++],t[n]);return e}},function(e,t,n){var r=n(3),o=n(72),i=n(39),u=n(20)(\"IE_PROTO\"),a=function(){},c=function(){var e,t=n(26)(\"iframe\"),r=i.length;for(t.style.display=\"none\",n(34).appendChild(t),t.src=\"javascript:\",(e=t.contentWindow.document).open(),e.write(\"<script>document.F=Object<\\/script>\"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[u]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){\"use strict\";var r=n(73),o=n(44),i=n(18),u={};n(4)(u,n(0)(\"iterator\"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(u,{next:o(1,n)}),i(e,t+\" Iterator\")}},function(e,t,n){var r=n(21),o=n(22);e.exports=function(e){return function(t,n){var i,u,a=String(o(t)),c=r(n),s=a.length;return c<0||c>=s?e?\"\":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===s||(u=a.charCodeAt(c+1))<56320||u>57343?e?a.charAt(c):i:e?a.slice(c,c+2):u-56320+(i-55296<<10)+65536}}},function(e,t,n){\"use strict\";var r=n(75)(!0);n(36)(String,\"String\",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){\"use strict\";var r=n(19),o={};o[n(0)(\"toStringTag\")]=\"z\",o+\"\"!=\"[object z]\"&&n(8)(Object.prototype,\"toString\",function(){return\"[object \"+r(this)+\"]\"},!0)},function(e,t,n){n(77),n(76),n(70),n(67),n(56),n(55),e.exports=n(2).Promise},function(e,t,n){\"use strict\";var r=n(5),o=n(42)(!0);r(r.P,\"Array\",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(37)(\"includes\")},function(e,t,n){n(79),e.exports=n(2).Array.includes},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(21),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(7),o=n(23),i=n(42)(!1),u=n(20)(\"IE_PROTO\");e.exports=function(e,t){var n,a=o(e),c=0,s=[];for(n in a)n!=u&&r(a,n)&&s.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){\"use strict\";var r=n(24),o=n(82),i=n(81),u=n(38),a=n(43),c=Object.assign;e.exports=!c||n(27)(function(){var e={},t={},n=Symbol(),r=\"abcdefghijklmnopqrst\";return e[n]=7,r.split(\"\").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join(\"\")!=r})?function(e,t){for(var n=u(e),c=arguments.length,s=1,f=o.f,l=i.f;c>s;)for(var p,h=a(arguments[s++]),d=f?r(h).concat(f(h)):r(h),v=d.length,y=0;v>y;)l.call(h,p=d[y++])&&(n[p]=h[p]);return n}:c},function(e,t,n){var r=n(10);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&\"function\"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if(\"function\"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&\"function\"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t,n){e.exports=!n(9)&&!n(27)(function(){return 7!=Object.defineProperty(n(26)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(e,t,n){var r=n(5);r(r.S+r.F,\"Object\",{assign:n(85)})},function(e,t,n){n(88),e.exports=n(2).Object.assign},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.FetcherJQuery=t.Fetcher=t.IFramePassive=t.Popup=t.HTTPRedirect=t.BasicLoader=t.JSO=void 0;var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(n(89));n(80),n(78);var u=g(n(54)),a=g(n(12)),c=g(n(11)),s=g(n(53)),f=g(n(52)),l=g(n(51)),p=g(n(50)),h=g(n(49)),d=g(n(48)),v=g(n(47)),y=g(n(46));function g(e){return e&&e.__esModule?e:{default:e}}n(45);var b={lifetime:3600},w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.configure(e),n.providerID=n.getProviderID(),n.Loader=s.default,n.store=u.default,n.callbacks={},n.config.getValue(\"debug\",!1)&&(a.default.debug=!0),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,y.default),o(t,[{key:\"configure\",value:function(e){this.config=new v.default(b,e)}},{key:\"setStore\",value:function(e){this.store=e}},{key:\"setLoader\",value:function(e){if(\"function\"!=typeof e)throw new Error(\"loader MUST be an instance of the JSO BasicLoader\");this.Loader=e}},{key:\"getProviderID\",value:function(){var e=this.config.getValue(\"providerID\",null);if(null!==e)return e;var t=this.config.getValue(\"client_id\",null,!0);return this.config.getValue(\"authorization\",null,!0)+\"|\"+t}},{key:\"processTokenResponse\",value:function(e){var t=void 0;if(!e.state)throw new Error(\"Could not get state from storage.\");if(!(t=this.store.getState(e.state)))throw new Error(\"Could not retrieve state\");if(!t.providerID)throw new Error(\"Could not get providerid from state\");return a.default.log(\"processTokenResponse \",e,\"\"),this.processReceivedToken(e,t)}},{key:\"processReceivedToken\",value:function(e,t){var n=a.default.epoch();return e.received=n,e.expires_in?(e.expires=n+parseInt(e.expires_in,10),e.expires_in=parseInt(e.expires_in,10)):!1===this.config.getValue(\"default_lifetime\",null)?e.expires=null:this.config.has(\"permanent_scope\")?this.store.hasScope(e,this.config.getValue(\"permanent_scope\"))||(e.expires=null):this.config.has(\"default_lifetime\")?e.expires=n+this.config.getValue(\"default_lifetime\"):e.expires=n+3600,e.scope?(e.scopes=e.scope.split(\" \"),delete e.scope):t.scopes?e.scopes=t.scopes:e.scopes=[],a.default.log(\"processTokenResponse completed \",e,\"\"),this.store.saveToken(t.providerID,e),t.restoreHash?window.location.hash=t.restoreHash:window.location.hash=\"\",e}},{key:\"processAuthorizationCodeResponse\",value:function(e){var t=this;console.log(this),this.emit(\"authorizationCode\",e);var n=void 0;if(!e.state)throw new Error(\"Could not find state paramter from callback.\");if(null===(n=this.store.getState(e.state)))throw new Error(\"Could not find retrieve state object.\");if(console.log(\"state\",n),this.config.has(\"token\")){if(!this.config.has(\"client_secret\"))throw new Error(\"Configuration missing [client_secret]\");var r=new Headers;r.append(\"Authorization\",\"Basic \"+btoa(this.config.getValue(\"client_id\")+\":\"+this.config.getValue(\"client_secret\"))),r.append(\"Content-Type\",\"application/x-www-form-urlencoded;charset=UTF-8\");var o={grant_type:\"authorization_code\",code:e.code};n.hasOwnProperty(\"redirect_uri\")&&(o.redirect_uri=n.redirect_uri);var i={mode:\"cors\",headers:r,method:\"POST\",body:a.default.encodeQS(o)};return fetch(this.config.getValue(\"token\"),i).then(function(e){return e.json()}).then(function(e){return a.default.log(\"Received response on token endpoint \",e,\"\"),t.processReceivedToken(e,n)})}a.default.log(\"Received an authorization code. Will not process it as the config option [token] endpoint is not set. If you would like to process the code yourself, please subscribe to the [authorizationCode] event\")}},{key:\"processErrorResponse\",value:function(e){var t;if(!e.state)throw new Error(\"Could not get [state] and no default providerid is provided.\");if(!(t=this.store.getState(e.state)))throw new Error(\"Could not retrieve state\");if(!t.providerID)throw new Error(\"Could not get providerid from state\");return t.restoreHash?window.location.hash=t.restoreHash:window.location.hash=\"\",new d.default(e)}},{key:\"callback\",value:function(e){var t=null;if(\"object\"===(void 0===e?\"undefined\":r(e)))t=e;else if(\"string\"==typeof e)t=a.default.getResponseFromURL(e);else{if(void 0!==e)return;t=a.default.getResponseFromURL(window.location.href)}if(a.default.log(\"Receving response in callback\",t),t.hasOwnProperty(\"access_token\"))return this.processTokenResponse(t);if(t.hasOwnProperty(\"code\"))return this.processAuthorizationCodeResponse(t);if(t.hasOwnProperty(\"error\"))throw this.processErrorResponse(t)}},{key:\"dump\",value:function(){var e=this.store.getTokens(this.providerID);return{providerID:this.providerID,tokens:e,config:this.config}}},{key:\"_getRequestScopes\",value:function(e){var t,n=[];if(this.config.has(\"scopes.request\")){var r=this.config.getValue(\"scopes.request\");for(t=0;t<r.length;t++)n.push(r[t])}if(e&&e.scopes&&e.scopes.request)for(t=0;t<e.scopes.request.length;t++)n.push(e.scopes.request[t]);return a.default.uniqueList(n)}},{key:\"_getRequiredScopes\",value:function(e){var t,n=[];if(this.config.has(\"scopes.require\")){var r=this.config.getValue(\"scopes.require\");for(t=0;t<r.length;t++)n.push(r[t])}if(e&&e.scopes&&e.scopes.require)for(t=0;t<e.scopes.require.length;t++)n.push(e.scopes.require[t]);return a.default.uniqueList(n)}},{key:\"getToken\",value:function(e){var t=this;return e=e||{},new Promise(function(n,r){var o=t._getRequiredScopes(e),i=t.store.getToken(t.providerID,o);if(i)return n(i);if(e.hasOwnProperty(\"allowredir\")&&!e.allowredir)throw new Error(\"Cannot obtain a token, when not allowed to redirect...\");n(t._authorize(e))})}},{key:\"checkToken\",value:function(e){var t=this._getRequiredScopes(e);return this.store.getToken(this.providerID,t)}},{key:\"_authorize\",value:function(e){var t,n,r,o=this;return Promise.resolve().then(function(){var u,c=o.config.getValue(\"authorization\",null,!0),s=o.config.getValue(\"client_id\",null,!0);if(e.hasOwnProperty(\"allowia\")||o.config.has(\"allowia\"))throw new Error('The allowia option was removed in JSO 4.1.0. Instead use {request: {prompt: \"none\"}}');if(a.default.log(\"About to send an authorization request to this endpoint\",c),a.default.log(\"Options\",e),t={},o.config.has(\"request\")){var f=o.config.getValue(\"request\");t=(0,i.default)(t,f)}if(e.hasOwnProperty(\"request\")&&(t=(0,i.default)(t,e.request)),t.response_type=e.response_type||o.config.getValue(\"response_type\",\"id_token token\"),t.state=a.default.uuid(),o.config.has(\"redirect_uri\")&&(t.redirect_uri=o.config.getValue(\"redirect_uri\",\"\")),e.redirect_uri&&(t.redirect_uri=e.redirect_uri),t.client_id=s,u=(r=o._getRequestScopes(e)).includes(\"openid\"),r.length>0&&(t.scope=a.default.scopeList(r)),a.default.log(\"Running in mode: \"+(u?\"OpenID Connect mode\":\"OAuth mode\")),u&&!t.hasOwnProperty(\"redirect_uri\"))throw new Error(\"An OpenID Request requires a redirect_uri to be set. Please add to configuration. A redirect_uri is not required for plain OAuth\");u&&(t.nonce=a.default.uuid()),a.default.log(\"Debug Authentication request object\",JSON.stringify(t,void 0,2)),n=a.default.encodeURL(c,t),window.location.hash&&(t.restoreHash=window.location.hash),t.providerID=o.providerID,r&&(t.scopes=r),a.default.log(\"Saving state [\"+t.state+\"]\"),a.default.log(JSON.parse(JSON.stringify(t)));var l=o.Loader;return e.hasOwnProperty(\"loader\")&&(l=e.loader),a.default.log(\"Looking for loader\",e,l),o.store.saveState(t.state,t),o.gotoAuthorizeURL(n,l).then(function(e){if(!0!==e)return o.callback(e)})})}},{key:\"gotoAuthorizeURL\",value:function(e,t){return new Promise(function(n,r){if(null!==t&&\"function\"==typeof t){var o=new t(e);if(!(o instanceof c.default))throw new Error(\"JSO selected Loader is not an instance of BasicLoader.\");n(o.execute())}else r(new Error(\"Cannot redirect to authorization endpoint because of missing redirect handler\"))})}},{key:\"wipeTokens\",value:function(){this.store.wipeTokens(this.providerID)}}]),t}();t.JSO=w,t.BasicLoader=c.default,t.HTTPRedirect=s.default,t.Popup=l.default,t.IFramePassive=f.default,t.Fetcher=p.default,t.FetcherJQuery=h.default}])});\n//\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.kpas = (function() {\n    return {\n        showInfo: function(groups) {\n            if(!groups.length) {\n                $(\"#kpas-lti-warning\").show();\n                $(\"#kpas-lti-info\").hide();\n                $(\".kpas-lti-warning\").show();\n                $(\".kpas-lti-info\").hide();\n                return;\n            }  \n      \n            $(\"#kpas-lti-warning\").hide();\n            $(\"#kpas-lti-info\").show();\n            $(\".kpas-lti-warning\").hide();\n            $(\".kpas-lti-info\").show();\n        },\n        getJsonData : function(url, progressId, name, callback) {\n            $(progressId).html(\"Laster statistikk for \" + name + \"<span class='loading-gif'></span>\");\n            d3.json(url)\n            .on(\"progress\", function() { \n                console.log(\"progress\", d3.event.loaded); })\n            .on(\"load\", function(json) { \n                $(progressId).html(\"\");\n                console.log(\"success!\"); callback(json) })\n            .on(\"error\", function(error) { \n                progressId.innerHTML = error\n                console.log(\"failure!\", error); })\n            .get();\n        },\n        createDiagram: function(graphicId, isTeacherOrAdmin, courseId, groupsInfo) {\n            if(courseId === undefined) {\n                return null;\n            }\n            if($(\"#\"+graphicId).length == 0) {\n                return;\n            }\n\n            var iframeSrc = \"https://kompetanseudirno.azureedge.net/udirdesign/kpas/kpas.html?version=Goalsevarri_3_2_prod&courseId=\" + courseId;\n            if (isTeacherOrAdmin) {\n                iframeSrc+=\"&show=\" + graphicId;\n            } else if((groupsInfo.municipalityId === undefined) || (groupsInfo.countyId === undefined)) {\n                    return null;\n            } else if(graphicId == \"kommune-statistikk\") {\n                    iframeSrc += \"&municipalityId=\" +  groupsInfo.municipalityId;\n            } else if(graphicId == \"fylke-statistikk\") {\n                    iframeSrc += \"&countyId=\" +  groupsInfo.countyId;\n            } else {\n                return null;\n            }\n\n            var html = \"<iframe id='kpas' src='\" + iframeSrc + \"' height='600' width='100%'></iframe>\";\n            $(\"#\"+graphicId).html(html);\n            return null;\n        }\n    }\n})();\n\n\nvar _paq = window._paq = window._paq || [];\n/* tracker methods like \"setCustomDimension\" should be called before \"trackPageView\" */\n_paq.push([\"setCookieDomain\", \"*.kompetanse.udir.no\"]);\n_paq.push([\"setDomains\", [\"*.kompetanse.udir.no\",\"*.bibsys.instructure.com\",\"*.bibsys.test.instructure.com\"]]);\n_paq.push([\"enableCrossDomainLinking\"]);\n_paq.push(['trackPageView']);\n_paq.push(['enableLinkTracking']);\n(function() {\n    var u=\"//statistik.digilaer.no/\";\n    _paq.push(['setTrackerUrl', u+'matomo.php']);\n    _paq.push(['setSiteId', '3']);\n    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);\n})();\nthis.mmooc = this.mmooc || {};\nthis.mmooc.messageHandler = (function() {\n    var findDomForWindow = function(sourceWindow) {\n        const iframes = document.getElementsByTagName('IFRAME');\n        for (let i = 0; i < iframes.length; i += 1) {\n          if (iframes[i].contentWindow === sourceWindow) {\n            return iframes[i];\n          }\n        }\n        return null;\n    }\n\n    return {\n        init: function() {\n            window.addEventListener('message', function(e) {\n                const error = error => console.error('error calling api', error);\n                try {\n                    if(e.origin.includes(\"vimeo\")) {\n                        if((e.data.method == undefined) && (e.data.event == undefined)) {\n                            var message = JSON.parse(e.data);\n                            if(message.event == \"ready\") {\n                                mmooc.uob.setVimeoPlayerReady();\n                            }\n                        }\n                    } else {\n                        var message = JSON.parse(e.data);\n                        if(message.subject == \"kpas-lti.connect\") {\n                            const connectedMsg = {\n                                subject: 'kpas-lti.ltiparentready'\n                            }\n                            var sendMsg = JSON.stringify(connectedMsg);\n                            e.source.postMessage(sendMsg, e.origin);\n                        } else if(message.subject == \"kpas-lti.getusergroups\") {\n                            mmooc.api.getUserGroups(function(groups) {\n                                const usergroupsmsg = {\n                                    subject: 'kpas-lti.usergroups',\n                                    groups: groups\n                                }\n                                var sendMsg = JSON.stringify(usergroupsmsg);\n                                e.source.postMessage(sendMsg, e.origin);\n                            }, error);\n                        } else if(message.subject == \"kpas-lti.update\") {\n                            mmooc.util.updateInformationPane();\n\n                            var courseId = mmooc.api.getCurrentCourseId();\n\n                            mmooc.api.getUserGroupsForCourse(courseId, function(groups) {\n                                mmooc.kpas.showInfo(groups);\n                            }, error);\n                        } else if(message.subject == \"kpas-lti.getBgColor\") {\n                            var dom = findDomForWindow(e.source);\n                            if(dom) {\n                                var elem = dom.parentElement;\n                                var bgColor = window.getComputedStyle(elem, null).getPropertyValue(\"background-color\");            \n                                const bgColorMessage = {\n                                    subject: 'kpas-lti.ltibgcolor',\n                                    bgColor: bgColor\n                                }\n                                var sendMsg = JSON.stringify(bgColorMessage);\n                                e.source.postMessage(sendMsg, e.origin);\n                            }\n                        } else if(message.subject == \"kpas-lti.3pcookiesupported\") {\n                        } else if(message.subject == \"kpas-lti.3pcookienotsupported\") {\n                            var kpasCheckElement = $(\"#kpas-lti-cookie-check\");\n                            kpasCheckElement.html(\"En automatisk sjekk har funnet at \\\n                            du har slått av informasjonskapsler fra tredjepartsnettsteder. \\\n                            Du vil ikke kunne velge hvilken rolle eller hvilke grupper du skal delta i.\\\n                            <p>Kontakt din IT-avdeling eller les om hvordan du\\\n                            <a class='alert-link' target='_blank' href='https://nettvett.no/slik-administrer-du-informasjonskapsler/'>\\\n                            aktiverer informasjonskapsler fra tredjeparter.</a>\");\n                            kpasCheckElement.show();\n                            console.error(\"Din nettleser støtter IKKE cookies fra tredjeparter. Rolle og gruppeverktøyet krever cookies fra tredjepart.\");\n                        }\n                    }\n                } catch(err) {\n                    console.log.call(console, 'KPAS LTI: skip message:' +err);\n                }\n            }, false);\n        }\n    }\n})();\n\n'use strict';\n\n// Utility class to keep utility functions out of global scope\nclass MultilangUtils {\n    static get LANGUAGES() {\n        return [\n            { code: 'nb', name: \"Norsk\" },\n            { code: 'se', name: \"Sápmi\" },\n        ];\n    }\n\n    static get COOKIE_NAME() {\n        return 'lang';\n    }\n\n    static languagesExcept(language) {\n        return MultilangUtils.LANGUAGES.filter(lang => lang.code !== language);\n    }\n\n    static languagesMap() {\n        return MultilangUtils.LANGUAGES.reduce((obj, lang) => {\n            obj[lang.code] = lang;\n            return obj;\n        }, {});\n    }\n\n    static getParsedTooltipText(tooltipText) {\n        return mmooc.menu.tooltipRegexpPattern.exec(tooltipText);\n    }\n\n    static makeSpansForTooltip(attrSelector) {\n        var node = document.querySelector(attrSelector);\n        var tooltip = node && node.getAttribute(\"data-html-tooltip-title\");\n        if(tooltip) {\n            var tooltipParsedResult = MultilangUtils.getParsedTooltipText(tooltip);\n            if(tooltipParsedResult && tooltipParsedResult[1] && tooltipParsedResult[2]) {\n                const spanned = MultilangUtils.getSpannedText(tooltipParsedResult[2]);\n                if (spanned !== null) {\n                    var newTooltipText = mmooc.menu.createNewTooltipText(tooltip, tooltipParsedResult[1], spanned);\n                    node.setAttribute(\"data-html-tooltip-title\", newTooltipText);\n                }\n            }\n        }\n    }\n\n    static makeSpansForSelectors(selectors) {\n        selectors.map(selector => document.querySelectorAll(selector))\n            .flatMap(nodeList => Array.from(nodeList))\n            .forEach(node => {\n                const spanned = MultilangUtils.makeSpansOf(node);\n                if (spanned !== null) {\n                    node.innerHTML = spanned;\n                }\n            });\n    }\n\n    static getSpannedText(textContent) {\n        //Split the elements content with '|', then check each segment for language code and make <span>-elements.\n        const splitArray = textContent.split(\"|\");\n        let newContent = '';\n        for (let i = 0; i < splitArray.length; i++) {\n            let match = /^\\s*(\\w\\w)\\s*:(.*)/.exec(splitArray[i]); //match language codes formed with two letters and a colon (no:, en: etc)\n            if (match) {\n                newContent += `<span class='language' lang='${match[1]}'>${match[2]}</span>`;\n            } else {\n                newContent += splitArray[i];\n            }\n        }\n\n        return newContent; //HTML-string with span-tags\n        \n    }\n\n    static makeSpansOf(element) {\n        // If there are child nodes that are not text nodes, abort. It should already be translated\n        if (!Array.from(element.childNodes).every(childNode => childNode.nodeType === 3)) {\n            return null;\n        }\n        return MultilangUtils.getSpannedText(element.textContent);\n    }\n\n    static getLanguageParameter() {\n        const params = new URLSearchParams(location.search);\n        return params.get(this.COOKIE_NAME);\n    }\n\n    static setLanguageParameter(languageCode) {\n        if (!this.isValidLanguage(languageCode)) {\n            return;\n        }\n\n        const params = new URLSearchParams(location.search);\n        params.set(this.COOKIE_NAME, languageCode);\n        window.history.replaceState({}, '', `${location.pathname}?${params}`);\n    }\n\n    static getLanguageCookie() {\n        return document.cookie.replace(/(?:(?:^|.*;\\s*)courselanguage\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n    }\n\n    static setLanguageCookie(languageCode) {\n        if (!this.isValidLanguage(languageCode)) {\n            return;\n        }\n\n        document.cookie = `courselanguage=${languageCode}; SameSite=Strict; path=/`;\n    }\n\n    static getLanguageCode() {\n        const langCode = MultilangUtils.getLanguageParameter();\n        const langCookie = MultilangUtils.getLanguageCookie();\n        if (langCode) {\n            return langCode;\n        } else if (langCookie) {\n            return langCookie;\n        }\n        else {\n            return 'nb';\n        }\n    }\n    static getPreferredLanguage() {\n        if(!mmooc.util.isMultilangCourse) {\n            return mmooc.api.getLocale();\n        }\n        if(MultilangUtils.getLanguageCode == \"nb\") {\n            return mmooc.api.getLocale();\n        }\n        return MultilangUtils.getLanguageCode();\n    }\n\n    static setActiveLanguage(activeLang) {\n        if (!this.isValidLanguage(activeLang)) {\n            return;\n        }\n\n        MultilangUtils.setLanguageCookie(activeLang);\n        MultilangUtils.setLanguageParameter(activeLang);\n        const styleElement = document.getElementById('language-style');\n        styleElement.innerHTML = MultilangUtils.createCss(activeLang);\n    }\n\n    static isValidLanguage(languageCode) {\n        return this.LANGUAGES.some(lang => lang.code === languageCode);\n    }\n    \n    static createCss(activeLang) {\n        return MultilangUtils.LANGUAGES.map(l => {\n            var displayValue = \"none\";\n            if(activeLang == \"all\") {\n                displayValue = \"unset\";\n            } else {\n                displayValue = activeLang.toLowerCase() === l.code ? 'unset' : 'none';\n            }\n            return `.language:lang(${l.code}) {display:${displayValue};}`\n        }).join(\" \");\n    }\n\n    static applyColorCodingInEditor() {\n        function doApply() {\n            const iframe = document.getElementById('wiki_page_body_ifr');\n            if (iframe !== null) {\n                const doc = iframe.contentWindow.document;\n                const editorCss = doc.createElement('style');\n                editorCss.innerHTML = `\n                                    .language:lang(se) {\n                                    background-color: LIGHTCYAN;\n                                    }\n                                    .language:lang(nb) {\n                                    background-color: MISTYROSE;\n                                    }`;\n                doc.head.appendChild(editorCss);\n            } else {\n                setTimeout(MultilangUtils.applyColorCodingInEditor, 500);\n            }\n        }\n        doApply();\n    }\n    static initializeCss(language) {\n        const styleElement = document.createElement('style');\n        styleElement.id = 'language-style';\n\n        styleElement.innerHTML = MultilangUtils.createCss(language);\n        document.head.appendChild(styleElement);\n    }\n\n    static makeSpansOnPage() {\n        const selectors = [\n            '.translate',\n            'div.tooltiptext',\n            '.show-content.user_content h1.page-title',\n            'a.mmooc-module-name',\n            '.discussion-title',\n            \n        ];\n\n        if (location.pathname.endsWith('/modules')) {\n            selectors.push(\n                'a.title',\n                'span.name',\n                'span.title',\n            );\n        }\n\n        MultilangUtils.makeSpansForSelectors(selectors);\n    }\n}\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.multilanguage = (function () {\n    return {\n        perform: () => {\n            if (!this.mmooc.util.isMultilangCourse(mmooc.util.course)) {\n                return;\n            }\n            //KURSP-293-RCE-mister-farge-for-redigering\n            //Apply color to editor moved to separate route in main.js\n            //This perform function will only be called by content that is not edited.\n            MultilangUtils.makeSpansOnPage();\n        },\n        performPrevNextTooltip: () => {\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--previous');\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--next');\n        },\n            \n        performNextTooltip: () => {\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--next');\n        },\n        performPrevTooltip: () => {\n            MultilangUtils.makeSpansForTooltip('.module-sequence-footer-button--previous');\n        },\n        //KURSP-293-RCE-mister-farge-for-redigering\n        //Pages in edit mode should also have css inserted.\n        initializeCss: () => {\n            MultilangUtils.initializeCss(\"all\");\n        }\n    }\n})();\nthis.mmooc = this.mmooc || {};\r\n\r\nthis.mmooc.nrk = (function() {\r\n  return {\r\n    init: function() {\r\n      mmooc.util.mmoocLoadScript(\r\n        'https://www.nrk.no/serum/latest/js/video_embed.js'\r\n      );\r\n    }\r\n  };\r\n})();\r\n\n\nwindow.addEventListener('message', receiveMessage, false);\nfunction receiveMessage(evt) {\n  return; //Unused code?  \n  obj = JSON.parse(evt.data);\n  if (obj.Sender != 'pfdkautoresize') {\n    return;\n  }\n  var PfDKiframes = document.getElementsByTagName('iframe');\n  for (var i = 0; i < PfDKiframes.length; i++) {\n    var iFrame = PfDKiframes[i];\n    if (iFrame.contentWindow === evt.source) {\n      iFrame.height = obj.Height;\n    }\n  }\n}\n\nthis.mmooc = this.mmooc || {};\nthis.mmooc.privacyPolicy = (function() {\n    var currentPrivacyPolicyVersion = \"\";\n    var displayPrivacyPolicyDialog = function() {\n        html = mmooc.util.renderTemplateWithData('privacyPolicyChanged', {\n            privacyPolicyLink:mmooc.settings.privacyPolicyLink\n        });\n        var privacyPolicyBoxPosition = document.getElementById('wrapper');\n        if(!privacyPolicyBoxPosition) {\n            privacyPolicyBoxPosition = document.getElementById('f1_container');\n        }\n        privacyPolicyBoxPosition.insertAdjacentHTML('afterend', html);\n        $('#application').before(`<div class=\"overlay\"></div>`);            \n\n        document.getElementById(\"kompetansePortalPrivacyPolicy\").onclick = function() {\n            var privacyPolicyCheckbox = document.getElementById('kompetansePortalPrivacyPolicy');\n            if (privacyPolicyCheckbox.checked) {\n                document.getElementById('kompetansePortalPrivacyPolicyButton').disabled = !privacyPolicyCheckbox.checked;\n            }\n        };\n        document.getElementById(\"kompetansePortalPrivacyPolicyButton\").onclick = function() {\n            mmooc.api.saveUserPrivacyPolicyVersion(currentPrivacyPolicyVersion, function(data) {\n                console.log(\"Privacy policy accepted saved.\");\n                $('.privacyPolicyBox, .overlay').remove(); \n            });\n        };\n    }\n    return {\n        init: function() {\n            if(!mmooc.util.isAuthenticated()) {\n                return;\n            }\n            var error = function(error) {\n                displayPrivacyPolicyDialog();\n            };\n            var url = \"https://kpas-lti.azurewebsites.net/api\" + \"/kpasinfo\";\n            $.getJSON(url, function(kpasinfo) {\n                currentPrivacyPolicyVersion = kpasinfo.result.privacyPolicyVersion;\n                mmooc.api.loadUserPrivacyPolicyVersion(function(userData) {\n                    if(!userData.data || !userData.data.privacyPolicyVersion || (userData.data.privacyPolicyVersion != currentPrivacyPolicyVersion)) {\n                        displayPrivacyPolicyDialog();\n                    }\n                }, error);\n            });\n        }\n    }\n})();\n\n// ==========================================================================================\r\n// This code was copied and adapted on January 27th 2015 from:\r\n// https://s3.amazonaws.com/SSL_Assets/bham/uob/uob7.js\r\n// The functionality in the file is documented here:\r\n// https://birmingham.instructure.com/courses/3915/pages/faq-jquery-in-canvas\r\n// ==========================================================================================\r\n// UOB7.JS\r\n//\r\n// Generic top-level script for University of Birmingham's Canvas implementation. This\r\n// script, which requires jQuery and the jQuery.UI, carries out the following tasks:\r\n//\r\n// \t\tAdds FindIt@Bham link to Help Corner\r\n// \t\tHides \"Report a Problem\" Zendesk option from all but sub-account admins\r\n// \t\tEnables accordions\r\n// \t\tEnables tabs\r\n// \t\tEnables reveal buttons\r\n// \t\tEnables regexp reveals\r\n//\t\tEnables boxes\r\n//\t\tHides forgot-password link on login page\r\n//\t\tAdds Google viewer previews to compatible file links\r\n//\t\tAdd strap line for Canvas Gallery\r\n//\r\n// Most code is implemented within a $(document).load() to ensure that jQuery and the\r\n// jQuery UI are both available, especially in Internet Explorer.\r\n//\r\n//\r\n// ==========================================================================================\r\n\r\nthis.mmooc = this.mmooc || {};\r\nthis.mmooc.uob = (function() {\r\n  // -----------------------------------------------------------------------------------\r\n  // Declare veriables that are used for multiple tasks.\r\n  // -----------------------------------------------------------------------------------\r\n  var i;\r\n  var vimeoPlayerReady = false;\r\n  var vimeoTranscriptInitialized = false;\r\n  var uobInititalized = false;\r\n  var strSetNum = 0;\r\n  // --------------------------------------------------------------------------------\r\n  // uobAddComponents\r\n  //\r\n  // This function will enable the following UoB components:\r\n  // \t\taccordions\r\n  // \t\ttabs\r\n  // \t\treveal buttons\r\n  // \t\tregexp reveals\r\n  //\t\tboxes (header, box, tip, info, warning, question)\r\n  //\t\tpreviews\r\n  // --------------------------------------------------------------------------------\r\n\r\n  function uobAddComponents() {\r\n    onElementRendered(\r\n      '#content .user_content.enhanced,#content .show-content.enhanced',\r\n      function($content) {\r\n        // Tooltip\r\n        var re = /\\[(.*?)\\]\\((.*?)\\)/g;\r\n\r\n        //20180828ETH Bare bytt ut innholdet i første user content. I diskusjoner er det\r\n        //en user content for hvert innlegg, og mange av innleggene blir lastet inn etter\r\n        //at koden vår har kjørt. Dersom vi skal støtte dette må vi ha en måte å vite når\r\n        //alle innleggene er lastet inn på. Da kan man kjøre $content.each iterasjon.\r\n\r\n\r\n        $tooltipElements = $content.first().filter(function() {\r\n          return this.innerHTML.match(re);\r\n        });\r\n        \r\n        $tooltipElements.each(function (i, el) {\r\n            $(this).html($(this).html().replace(\r\n                re,\r\n                '<span class=\"tooltip tooltip-underline\">$1<span class=\"tooltiptext\">$2</span></span>'\r\n            ))\r\n        });\r\n\r\n        // ================================================================================\r\n        // Show non-uob-component tables\r\n        //\r\n        // Show standard tables that are not UoB controls i.e. tables that do not include\r\n        // the string \"[uob-\" in the first cell.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        var $tables = $content\r\n          .find('table:hidden')\r\n          .not(\"td:first(:contains('[uob-'))\");\r\n        $tables.show();\r\n\r\n        // ================================================================================\r\n        // Accordian (Part 1/2)\r\n        //\r\n        // Convert up to 10 uob-accordion tables to format required for accordions.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        for (i = 0; i < 10; i++) {\r\n          // Locate the next uob-accordion table.\r\n          $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-accordion])')\r\n            .last();\r\n\r\n          // Break loop if no more accordions are to be displayed.\r\n          if ($table.length != 1) break;\r\n\r\n          // Convert table into HTML for an accordian.\r\n          $table.before(\"<div class='uob-accordions'></div>\");\r\n\r\n          $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n            if ((_idx + 1) % 2) {\r\n              // Add heading 4 for accordion bar.\r\n              $table.prev().append('<button class=\"uob-accordion\"><i class=\"uob-arrow-down\"></i></button>');\r\n              $table\r\n                .prev()\r\n                .children()\r\n                .last()\r\n                .append(\r\n                  $(_item)\r\n                    .text()\r\n                    .trim()\r\n                );\r\n            }\r\n\r\n            if (_idx % 2) {\r\n              // Add div for accordion content.\r\n              $table.prev().append('<div class=\"uob-accordion-panel\"></div>');\r\n              $table\r\n                .prev()\r\n                .children()\r\n                .last()\r\n                .append($(_item).contents());\r\n            }\r\n          });\r\n\r\n          // Remove original table from the DOM\r\n          $table.remove();\r\n        }\r\n\r\n        // ================================================================================\r\n        // Tabs (Part 1/2)\r\n        //\r\n        // Convert up to 10 uob-tabs tables to format required for tabs.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        strSetNum = 0;\r\n\r\n        for (i = 0; i < 10; i++) {\r\n          // Locate the next uob-tabs table.\r\n          $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-tabs])')\r\n            .last();\r\n\r\n          // Break loop if no more tabs are to be displayed.\r\n          if ($table.length != 1) break;\r\n\r\n          // Convert table into a set of tabs.\r\n          $table.before(\"<div class='uob-tabs'><ul></ul></div>\");\r\n          strSetNum++;\r\n\r\n          $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n            var strAnchor = 'set' + strSetNum + 'tab' + (_idx - (_idx % 2)) / 2;\r\n\r\n            if ((_idx + 1) % 2) {\r\n              // Add list item for the tab label.\r\n              var strHTML =\r\n                '<li><a href=\"#' +\r\n                strAnchor +\r\n                '\">' +\r\n                $(_item)\r\n                  .text()\r\n                  .trim() +\r\n                '</a></li>';\r\n              $table\r\n                .prev()\r\n                .find('ul')\r\n                .first()\r\n                .append(strHTML);\r\n            }\r\n\r\n            if (_idx % 2) {\r\n              // Add div for the tab content.\r\n              $table.prev().append('<div id=\"' + strAnchor + '\"></div>');\r\n              $('#' + strAnchor).append($(_item).contents());\r\n            }\r\n          });\r\n\r\n          // Remove original table from the DOM\r\n          $table.remove();\r\n        }\r\n\r\n        // ================================================================================\r\n        // Reveal (Part 1/2)\r\n        //\r\n        // Convert up to 10 uob-reveal tables to format required for reveals.\r\n        // ................................................................................\r\n\r\n        strSetNum = 0;\r\n        do {\r\n          // Locate the next uob-reveal table\r\n          var $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-reveal])')\r\n            .last();\r\n\r\n          // Break loop if no more reveal tables are to be converted.\r\n          var tableFound = $table.length;\r\n          if (tableFound) {\r\n\r\n            // Convert table into a reveal\r\n            strSetNum++;\r\n\r\n            $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n              var strAnchor =\r\n                'set' + strSetNum + 'reveal' + (_idx - (_idx % 2)) / 2;\r\n\r\n              if ((_idx + 1) % 2) {\r\n                // Add new reveal button immediately before table\r\n                $table.before(\r\n                  '<p><a href=\"#' +\r\n                    strAnchor +\r\n                    '\" class=\"uob-reveal-button\"></a></p>'\r\n                );\r\n                $table\r\n                  .prev()\r\n                  .children()\r\n                  .append(\r\n                    $(_item)\r\n                      .text()\r\n                      .trim()\r\n                  );\r\n              }\r\n\r\n              if (_idx % 2) {\r\n                // Add new reveal content immediately before table\r\n                $table.before(\r\n                  '<div id=\"' + strAnchor + '\" class=\"uob-reveal-content\"></div>'\r\n                );\r\n                $table.prev().append($(_item).contents());\r\n              }\r\n            });\r\n\r\n            // Remove original table\r\n            $table.remove();\r\n          }\r\n        } while(tableFound)\r\n        // ================================================================================\r\n        // RegExp (Part 1/1)\r\n        //\r\n        // Convert up to 10 uob-regexp tables to format required for regexps.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        strSetNum = 0;\r\n\r\n        for (i = 0; i < 10; i++) {\r\n          // Locate the next uob-regexp table\r\n          var $table = $content\r\n            .find('table')\r\n            .has('table > tbody > tr > td:contains([uob-regexp])')\r\n            .last();\r\n\r\n          // Break loop if no more regexp tables are to be converted.\r\n          if ($table.length != 1) break;\r\n\r\n          // Convert table into a regexps\r\n          strSetNum++;\r\n\r\n          // Generate HTML for input and button/anchor controls, and add to the DOM.\r\n          var strAnchor = 'RE' + strSetNum;\r\n\r\n          var strHTML =\r\n            '<p><input id=\"input' +\r\n            strAnchor +\r\n            '\" class=\"uob-regexp-input\" type=\"text\" size=\"40\" />&nbsp;<a href=\"#' +\r\n            strAnchor +\r\n            '\" id=\"button' +\r\n            strAnchor +\r\n            '\" class=\"uob-regexp-button\">Check Answer</a></p>';\r\n          strHTML += \"<div id='content\" + strAnchor + \"'></div>\";\r\n          $table.before(strHTML);\r\n\r\n          // Store regular expressions in button and create DIVs to store the contents.\r\n          $table.find('tbody:first > tr:gt(0) > td').each(function(_idx, _item) {\r\n            var strValue = $(_item).html();\r\n            var strIndex = (_idx - (_idx % 2)) / 2;\r\n\r\n            if ((_idx + 1) % 2) {\r\n              // set RegExp\r\n              strValue = $(_item)\r\n                .text()\r\n                .trim();\r\n              $('#button' + strAnchor).attr('regexp' + strIndex, strValue);\r\n            }\r\n\r\n            if (_idx % 2) {\r\n              // set Content\r\n              //$(\"#data\" + strAnchor).attr(\"content\" + strIndex, strValue);\r\n              strHTML =\r\n                '<div id=\"data' +\r\n                strAnchor +\r\n                'ID' +\r\n                strIndex +\r\n                '\" class=\"uob-regexp-content\"></div>';\r\n              $('#content' + strAnchor).append(strHTML);\r\n              $('#data' + strAnchor + 'ID' + strIndex).append(\r\n                $(_item).contents()\r\n              );\r\n            }\r\n          });\r\n\r\n          // Store IDs of input and button to button and input respectively.\r\n          $('#button' + strAnchor).attr('regexpInput', 'input' + strAnchor);\r\n          $('#input' + strAnchor).attr('regexpButton', 'button' + strAnchor);\r\n\r\n          // Store default selection in button.\r\n          $('#button' + strAnchor).attr('regexpData', 'data' + strAnchor + 'ID0');\r\n          $('#button' + strAnchor).attr(\r\n            'regexpDataRoot',\r\n            'data' + strAnchor + 'ID'\r\n          );\r\n\r\n          // Remove original table\r\n          $table.remove();\r\n        }\r\n\r\n        // ================================================================================\r\n        // Accordian (Part 2/2)\r\n        //\r\n        // Accordions will be contained within elements with a uob-accordion class and\r\n        // headings will be restricted to h4 tags.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Initialise accordions\r\n        /*\r\n        var $accordion = $content.find('.uob-accordion');\r\n\r\n        if ($accordion.length) {\r\n          $accordion.accordion({\r\n            heightStyle: 'content',\r\n            header: '> h4',\r\n            collapsible: true,\r\n            active: false,\r\n            beforeActivate: function(event, ui) {\r\n              ui.oldPanel.find('.hide_youtube_embed_link').click();\r\n            }\r\n          });\r\n        }\r\n        */\r\n        \r\n        var acc = document.getElementsByClassName(\"uob-accordion\");\r\n        var i;\r\n\r\n        for (i = 0; i < acc.length; i++) {\r\n          acc[i].addEventListener(\"click\", function() {\r\n            this.classList.toggle(\"active\");\r\n            this.firstElementChild.classList.toggle(\"active\");\r\n            var panel = this.nextElementSibling;\r\n            panel.classList.toggle(\"active\");\r\n            if (panel.style.maxHeight){\r\n              panel.style.maxHeight = null;\r\n            } else {\r\n              panel.style.maxHeight = panel.scrollHeight + \"px\";\r\n            } \r\n          });\r\n        }\r\n        // ================================================================================\r\n        // Tabs (Part 2/2)\r\n        //\r\n        // Tabs will be contained within elements with a uob-tabs class.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Initialise tabs\r\n        var $tabs = $content.find('.uob-tabs');\r\n\r\n        if ($tabs.length > 0) {\r\n          $tabs.tabs({\r\n            active: 0,\r\n            collapsible: false,\r\n            heightStyle: 'content',\r\n            beforeActivate: function(event, ui) {\r\n              ui.oldPanel.find('.hide_youtube_embed_link').click();\r\n            },\r\n            activate: function(event, ui) {\r\n              console.log(\"Tab activate\");\r\n              // Let h5p iframes know we're ready!\r\n              var iframes = document.getElementsByTagName('iframe');\r\n              var ready = {\r\n                context: 'h5p',\r\n                action: 'ready'\r\n              };\r\n              for (var i = 0; i < iframes.length; i++) {\r\n                if (iframes[i].src.indexOf('h5p') !== -1) {\r\n                  iframes[i].contentWindow.postMessage(ready, '*');\r\n                }\r\n              }\r\n            },\r\n            beforeLoad: function(event, ui) {\r\n              console.log(\"Tab beforeLoad\");\r\n            },\r\n            create: function(event, ui) {\r\n              console.log(\"Tab create\");\r\n            },\r\n            load: function(event, ui) {\r\n              console.log(\"Tab load\");\r\n            }\r\n          });\r\n        }\r\n\r\n        // ================================================================================\r\n        // Reveal (Part 2/2)\r\n        //\r\n        // The uob-reveal-button and uob-reveal-content classes are required for reveals.\r\n        // ................................................................................\r\n\r\n        // Initialise reveal contents.\r\n        var $revealBody = $content.find('.uob-reveal');\r\n\r\n        if ($revealBody.length) {\r\n          for (i = 0; i < $revealBody.length; i++) {\r\n            var strSelector = $revealBody[i].href;\r\n            var iHashPos = strSelector.lastIndexOf('#');\r\n\r\n            if (iHashPos >= 0) {\r\n              $(strSelector.slice(iHashPos + 1)).css('display', 'none');\r\n            }\r\n          }\r\n        }\r\n\r\n        // Initialise reveal buttons.\r\n        var $revealButton = $content.find('.uob-reveal-button');\r\n\r\n        if ($revealButton.length) {\r\n          $revealButton\r\n            .button({ icons: { secondary: 'ui-icon-triangle-1-e' } })\r\n            .click(function(event) {\r\n              var $button = $(this);\r\n              var body = $button.attr('href');\r\n              var options;\r\n\r\n              if ($(body).css('display') != 'none') {\r\n                $(body).slideUp(400);\r\n                $(body)\r\n                  .find('.hide_youtube_embed_link')\r\n                  .click();\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-e' } };\r\n              } else {\r\n                $(body).slideDown(400);\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-s' } };\r\n              }\r\n\r\n              $button.button('option', options);\r\n              return false;\r\n            });\r\n        }\r\n\r\n        // ================================================================================\r\n        // RegExp (Part 2/2)\r\n        //\r\n        // The uob-regexp-input, uob-regexp-button, uob-regexp-content classes are required\r\n        // for regexp.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Initialise regexp inputs.\r\n        var $regexpInput = $content.find('.uob-regexp-input');\r\n\r\n        if ($regexpInput.length) {\r\n          $regexpInput.focus(function(event) {\r\n            var $input = $(this);\r\n            var $button = $('#' + $input.attr('regexpButton'));\r\n\r\n            var strData = $button.attr('regexpData');\r\n            var strDataRoot = $button.attr('regexpDataRoot');\r\n\r\n            if (strData != '') {\r\n              var $data = $('#' + strData);\r\n              var options;\r\n\r\n              // Hide current display if visible\r\n              if ($data.css('display') != 'none') {\r\n                $data.slideUp(400);\r\n                $data.find('.hide_youtube_embed_link').click();\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-e' } };\r\n                $button.button('option', options);\r\n                $button.attr('regexpData', '');\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        // Initialise regexp buttons.\r\n        var $regexpButton = $content.find('.uob-regexp-button');\r\n\r\n        if ($regexpButton.length) {\r\n          $regexpButton\r\n            .button({ icons: { secondary: 'ui-icon-triangle-1-e' } })\r\n            .click(function(event) {\r\n              var $button = $(this);\r\n              var $input = $('#' + $button.attr('regexpInput'));\r\n\r\n              var strData = $button.attr('regexpData');\r\n              var strDataRoot = $button.attr('regexpDataRoot');\r\n              if (strData == '') strData = strDataRoot + '0';\r\n              var $data = $('#' + strData);\r\n              var options;\r\n\r\n              // Hide current display if visible\r\n              if ($data.css('display') != 'none') {\r\n                $data.slideUp(400);\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-e' } };\r\n                $button.button('option', options);\r\n                $button.attr('regexpData', '');\r\n              } else {\r\n                // Locate content to be displayed\r\n                var strInput = $input.val();\r\n\r\n                // Loop through regexp looking for a match and identify content.\r\n                for (i = 0; i < 100; i++) {\r\n                  var strRegExp = $button.attr('regexp' + i);\r\n\r\n                  if (strRegExp == undefined || strRegExp.length == 0) break;\r\n\r\n                  var re = new RegExp('^' + strRegExp.trim() + '$');\r\n\r\n                  if (strRegExp == 'default' || re.test(strInput)) {\r\n                    $button.attr('regexpData', '' + strDataRoot + i);\r\n                    $data = $('#' + strDataRoot + i);\r\n                    break;\r\n                  }\r\n                }\r\n\r\n                $data.slideDown(400);\r\n                options = { icons: { secondary: 'ui-icon-triangle-1-s' } };\r\n                $button.button('option', options);\r\n                return false;\r\n              }\r\n            });\r\n        }\r\n\r\n        // ================================================================================\r\n        // Rating\r\n        //\r\n        // A rating will be constructed using radio buttons.\r\n        // See http://www.fyneworks.com/jquery/star-rating/\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Convert uob-rating table to format required for ratings.\r\n        var $ratingTable = $content\r\n          .find('table')\r\n          .has('table > tbody > tr > td:contains([uob-rating])');\r\n\r\n        if ($ratingTable.length) {\r\n          // Cut table from the DOM\r\n          $ratingTable.remove();\r\n\r\n          // Determine is user is more than a student.\r\n          var isTeacher = false;\r\n\r\n          hasAnyRole('teacher', 'admin', function() {\r\n            isTeacher = true;\r\n          });\r\n\r\n          // Add rating control to DOM\r\n          var strParams = '?page_loc=' + encodeURIComponent(location.pathname);\r\n          strParams += '&page_title=' + encodeURIComponent(document.title);\r\n          strParams += '&user_id=' + ENV.current_user_id;\r\n          strParams +=\r\n            '&user_name=' + encodeURIComponent(ENV.current_user.display_name);\r\n          var strRating =\r\n            '<iframe src=\"https://www.vampire.bham.ac.uk/canvas/rating.aspx' +\r\n            strParams +\r\n            '\" width=\"100%\" height=\"32\"></iframe>';\r\n          strRating = \"<div id='uob-rating-container-x'>\" + strRating + '</div>';\r\n          $content.append(strRating);\r\n        }\r\n\r\n        // ================================================================================\r\n        // Boxes\r\n        //\r\n        // Create boxes\r\n        // --------------------------------------------------------------------------------\r\n\r\n        aBoxTags = [\r\n          'uob-tip',\r\n          'pfdk-tips',\r\n          'uob-read',\r\n          'pfdk-les',\r\n          'uob-info',\r\n          'pfdk-info',\r\n          'uob-warning',\r\n          'pfdk-advarsel',\r\n          'uob-header',\r\n          'uob-question',\r\n          'pfdk-spsm',\r\n          'uob-quote',\r\n          'pfdk-sitat',\r\n          'uob-box',\r\n          'pfdk-boks',\r\n          'pfdk-info',\r\n          'pfdk-maal',\r\n          'pfdk-important',\r\n          'pfdk-viktig',\r\n          'pfdk-tid',\r\n          'pfdk-verktoy',\r\n          'udir-skoleleder',\r\n          'udir-kommentar',\r\n          'udir-eksempel'\r\n        ];\r\n\r\n        do {\r\n          var found = false;\r\n          var strTag = \"\";\r\n          var $table = $content\r\n            .find(\"table\")\r\n            .filter(function(index) {\r\n              var str = $(this).find(\"tr:eq(0) > td\").text();\r\n              var patt = /\\[(.*)\\]/i;\r\n              var result = str.match(patt);\r\n              \r\n              if(!found && result && result[1] && (aBoxTags.indexOf(result[1]) > -1)) {\r\n                strTag = result[1];\r\n                found = true;\r\n                return true;\r\n              } \r\n              return false;\r\n            });\r\n\r\n          if (found) {\r\n            // Add new container immediately before table\r\n            if (strTag == 'uob-header')\r\n              $table.before('<h2 class=\"' + strTag + '\"></h2>');\r\n            else if (strTag == 'uob-quote')\r\n              $table.before(\r\n                '<div class=\"' + strTag + '\"><div class=\"uob-quote99\" /></div>'\r\n              );\r\n            else $table.before('<div class=\"' + strTag + '\"></div>');\r\n\r\n            // Move content from table to container\r\n            $table.prev().append($table.find('tr:eq(1) > td:eq(0)').contents());\r\n\r\n            // Remove original table\r\n            $table.remove();\r\n          }\r\n        } while(found);\r\n\r\n        // ================================================================================\r\n        // Previews\r\n        //\r\n        // This code will append preview buttons immediately after each file link in the\r\n        // content of a page. File links are identified by the instructure_file_link class.\r\n        // When clicked the first time, the preview button will call a function to complete\r\n        // the DOM changes, which are not possible before the DOM manipulation carried out\r\n        // within Canvas is complete. The new HTML for the preview button will be similar\r\n        // to the following:\r\n        //\r\n        // <a href=\"javascript:uobShowPreviewDocument(0)\" title=\"Preview example.pdf\" id=\"uobPreview0\">\r\n        //     <img src=\"/images/preview.png\" alt=\"Preview example.pdf\">\r\n        // </a>\r\n        // --------------------------------------------------------------------------------\r\n\r\n        $content\r\n          .find('.instructure_file_link_holder.link_holder')\r\n          .has('a')\r\n          .each(function(_idx, _item) {\r\n            // Initialise varibles\r\n            var $item = $(_item);\r\n            var $anchor = $(_item)\r\n              .find('a')\r\n              .filter(':first');\r\n            var strHref = $anchor.attr('href') || ''; // if href is not found, set strHref to an empty string.\r\n            var iScribd =\r\n              $(_item).find('.instructure_scribd_file_holder').length || 0;\r\n\r\n            if (iScribd > 0) {\r\n              strHref = '';\r\n            }\r\n\r\n            if (strHref.length > 0) {\r\n              // Obtain ID of the file (index is 4 or 6 respectivelly for non-draft and draft modes)\r\n              var file_id = strHref.split('/')[\r\n                strHref.indexOf('/courses') == 0 ? 4 : 6\r\n              ];\r\n\r\n              // Use Canvas API to obtain information about the file being linked.\r\n              $.get('/api/v1/files/' + file_id, function(_d) {\r\n                // Check that the file type is compatible with the Google viewer.\r\n                if ($.isPreviewable(_d['content-type'], 'google') === 1) {\r\n                  // Initialise variables\r\n                  var displayName = _d['display_name'];\r\n\r\n                  // Create anchor element for the link. Note, _idx is used to make each\r\n                  // link unique. The file_id cannot be used in case when the same file\r\n                  // link appears more than once on a page.\r\n                  var $a = $(document.createElement('a'))\r\n                    .attr(\r\n                      'href',\r\n                      'javascript:uobShowPreviewDocument(' + _idx + ')'\r\n                    )\r\n                    .attr('title', 'Preview ' + displayName)\r\n                    .attr('id', 'uobPreview' + _idx)\r\n                    .data('href2', strHref);\r\n\r\n                  // Create preview icon for the link\r\n                  var $img = $(document.createElement('img'))\r\n                    .attr('src', '/images/preview.png')\r\n                    .attr('alt', 'Preview ' + displayName);\r\n\r\n                  // Combine the preview icon with the anchor and add them to the DOM.\r\n                  $a.append($img);\r\n                  $anchor.after($a);\r\n                  //$(_item).append($a);\r\n                }\r\n              });\r\n            }\r\n          });\r\n\r\n        // ================================================================================\r\n        // Refresh after publish/unpublish\r\n        //\r\n        // Add dummy callback function to detect when the page is published or unpublished.\r\n        // The callback function will constantly check for the div and refresh the UoB\r\n        // components if the div is missing.\r\n        // --------------------------------------------------------------------------------\r\n\r\n        // Create dummy div and add it to the DOM\r\n        var $div = $(document.createElement('div')).attr(\r\n          'id',\r\n          'uob-components-loaded'\r\n        );\r\n        $content.append($div);\r\n\r\n        // Set callback to test for missing div, as occurs when pages are published/unpublished.\r\n        onElementMissing('#uob-components-loaded', function($identity) {\r\n          uobAddComponents();\r\n        });\r\n\r\n        // ================================================================================\r\n        // --------------------------------------------------------------------------------\r\n\r\n        //KURSP-279 Multilanguage must be run when content is ready\r\n        try {\r\n          // Call multilanguage.perform() last to catch all relevant DOM content\r\n          mmooc.multilanguage.perform();\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n\r\n        if(vimeoPlayerReady && !vimeoTranscriptInitialized) {\r\n          vimeoTranscriptInitialized = true;\r\n          mmooc.vimeo.init();\r\n        }\r\n        uobInititalized = true;\r\n      }\r\n    );\r\n  }\r\n\r\n  // --------------------------------------------------------------------------------\r\n  // uobShowPreviewDocument\r\n  //\r\n  // This function will amend a preview link so that when it is clicked, it will\r\n  // display documents using the Google viewer. This function will only be called\r\n  // once for each preview link, the first time it is clicked. When amended, the link\r\n  // is moved into the SPAN element with a \"link_holder\" class which should\r\n  // immediately precede the link. The preview link is given a new href attribute,\r\n  // the \"scribd_file_preview_link\" class and the click event will be triggered.\r\n  // --------------------------------------------------------------------------------\r\n\r\n  function uobShowPreviewDocument(iFileID) {\r\n    // Initialise object variables to simplify the code. $target is the preview link\r\n    // and $holder is the preceding or parent SPAN element (if it exists).\r\n    var $target = $('#uobPreview' + iFileID);\r\n    var $holder = $target.prev('span.link_holder');\r\n\r\n    if ($holder.length == 0) {\r\n      $holder = $target.parent('span.link_holder');\r\n    }\r\n\r\n    // Check that preceding element is a SPAN with the \"link_holder\" class.\r\n    if ($holder.length) {\r\n      // Move the anchor element into the preceeding span element\r\n      $holder.append($target);\r\n\r\n      // Replace href value, add the \"scribd_file_preview_link\" class and click.\r\n      $target\r\n        .attr('href', $target.data('href2'))\r\n        .addClass('scribd_file_preview_link')\r\n        .click();\r\n    }\r\n  }\r\n\r\n  // --------------------------------------------------------------------------------\r\n  // Instructure/rpflorence functions\r\n  //\r\n  // (see http://youtu.be/ag6mxnBMTnQ and https://gist.github.com/rpflorence/5817898)\r\n  // Functions slightly amended and onElementMissing function added.\r\n  // --------------------------------------------------------------------------------\r\n\r\n  function onPage(regex, fn) {\r\n    if (location.pathname.match(regex)) fn();\r\n  }\r\n\r\n  function hasAnyRole(/* role1, role2..., cb */) {\r\n    var roles = [].slice.call(arguments, 0);\r\n    var cb = roles.pop();\r\n\r\n    if (typeof ENV != 'object') return cb(false);\r\n    if (typeof ENV.current_user_roles != 'object') return cb(false);\r\n    if (ENV.current_user_roles == null) return cb(false);\r\n\r\n    for (var i = 0; i < roles.length; i++) {\r\n      if (ENV.current_user_roles.indexOf(roles[i]) !== -1) return cb(true);\r\n    }\r\n\r\n    return cb(false);\r\n  }\r\n\r\n  function isUser(id, cb) {\r\n    cb(ENV.current_user_id == id);\r\n  }\r\n\r\n  function onElementRendered(selector, cb, _attempts) {\r\n    var el = $(selector);\r\n    _attempts = ++_attempts || 1;\r\n    if (el.length) return cb(el);\r\n    if (_attempts >= 60) return;\r\n\r\n    setTimeout(function() {\r\n      onElementRendered(selector, cb, _attempts);\r\n    }, 200);\r\n  }\r\n\r\n  function onElementMissing(selector, cb) {\r\n    var el = $(selector);\r\n    if (!el.length) return cb(el);\r\n\r\n    setTimeout(function() {\r\n      onElementMissing(selector, cb);\r\n    }, 700);\r\n  }\r\n\r\n  function getQueryVariable(variable) {\r\n    var query = window.location.search.substring(1);\r\n    var vars = query.split('&');\r\n\r\n    for (var i = 0; i < vars.length; i++) {\r\n      var pair = vars[i].split('=');\r\n      if (pair[0] == variable) {\r\n        return pair[1];\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  return {\r\n    init: function() {\r\n      // -----------------------------------------------------------------------------------\r\n      // Add UoB enhancements to rich content displayed in courses.\r\n      // -----------------------------------------------------------------------------------\r\n      onPage(/\\/(courses|groups)\\/\\d+/, function() {\r\n        uobAddComponents();\r\n      });\r\n    },\r\n    setVimeoPlayerReady: function() {\r\n      vimeoPlayerReady = true;\r\n      if(uobInititalized && !vimeoTranscriptInitialized) {\r\n        mmooc.vimeo.init();\r\n        vimeoTranscriptInitialized = true;\r\n      }\r\n    }\r\n  };\r\n})();\nthis.mmooc=this.mmooc||{};\n\n//https://webapps.stackexchange.com/questions/85517/how-can-i-download-subtitles-for-a-vimeo-video\nthis.mmooc.vimeo = function() {\n\tvar hrefPrefix = \"https://kpas-lti.azurewebsites.net/api/vimeo/\";\n\tvar transcriptContainer = {};\n\tvar initialized = false;\n    var noOfVimeoVideos = 0;\n\n    var noOfInits = 0;\n\tfunction transcript(vimeoIframeId, vimeoVideoId)\n\t{\n\t\tvar playbackRate = 1.0;\n\t\tvar transcriptId = \"transcript\" + vimeoIframeId;\n\t\tvar transcriptLoadingId = transcriptId + \"loading\";\n\t\tvar transcriptParentId = transcriptId + \"parent\";\n\t\tvar videoId = vimeoVideoId;\n\t\tvar iframeId = vimeoIframeId;\n\t\tvar transcriptButtonId = \"vimeoTranscriptButtonId\" + vimeoIframeId;\n\t\tvar transcriptContentId = \"vimeoTranscriptContentId\" + vimeoIframeId;\n\t\tvar player = null;\n\t\tvar transcriptParentDiv = null;\n\n\t\tvar href = hrefPrefix + videoId;\n        //Array of captions in video\n\t\tvar captionsLoaded = false;\n\n\t\t//Timeout for next caption\n\t\tvar captionTimeout = null;\n\t\t\n\t\tvar captionsArr = [];\n\t\tvar captions = null;\n\n\t\t//Keep track of which captions we are showing\n\t\tvar currentCaptionIndex = 0;\n\t\tvar nextCaptionIndex = 0;\n\n\t\tthis.initializePlayer = function() {\n\t\t\tvar transcript = this;\n\t\t\tvar iframe = document.getElementById(iframeId);\n\t\t\tplayer = new Vimeo.Player(iframe);\n\t\t\tplayer.on('play', function() {\n\t\t\t\ttranscript.playerPlaying();\n\t\t\t});\n\t\t\tplayer.on('pause', function() {\n\t\t\t\ttranscript.playerNotPlaying();\n\t\t\t});\n\t\t\tplayer.getVideoTitle().then(function(title) {\n\t\t\t});\n\t\t\tplayer.on('cuechange', function(d) {\n\t\t\t});\n\t\t\tplayer.on('cuepoint', function(d) {\n\t\t\t})\n\t\t\tplayer.on('texttrackchange', function(d) {\n\t\t\t})\n\t\t\tplayer.on('playbackratechange', function(d) {\n\t\t\t\ttranscript.setPlaybackRate(d.playbackRate);\n\t\t\t})\n\t\t}\n\t\tvar findCaptionIndexFromTimestamp = function(timeStamp) {\n\t\t\tvar start = 0;\n\t\t\tvar duration = 0;\n\t\t\tfor (var i = 0, il = captions.length; i < il; i++) {\n\t\t\t  start = Number(getStartTimeFromCaption(i));\n\t\t\t  duration = Number(getDurationFromCaption(i));\n\t  \n\t\t\t  //Return the first caption if the timeStamp is smaller than the first caption start time.\n\t\t\t  if (timeStamp < start) {\n\t\t\t\tbreak;\n\t\t\t  }\n\t  \n\t\t\t  //Check if the timestamp is in the interval of this caption.\n\t\t\t  if (timeStamp >= start && timeStamp < start + duration) {\n\t\t\t\tbreak;\n\t\t\t  }\n\t\t\t}\n\t\t\treturn i;\n\t\t  };\n\n\t\tvar clearCurrentHighlighting = function()\n\t\t{\n\t\t\tvar timeStampId = getTimeIdFromTimestampIndex(currentCaptionIndex);\n\t\t\t$(\"#\"+timeStampId).removeClass(\"vimeoCaptionActive\");\n\t\t}\n\n\t\tvar highlightNextCaption = function ()\n\t\t{\n\t\t\tvar timestampId = getTimeIdFromTimestampIndex(nextCaptionIndex);\n\t\t\t$(\"#\"+timestampId).addClass(\"vimeoCaptionActive\");\n\t\t\tvar target = document.getElementById(timestampId);\n\t\t\tvar targetParent = document.getElementById(transcriptContentId);\n\n\t\t\ttargetParent.scrollTop = target.offsetTop - (targetParent.offsetTop + targetParent.offsetHeight / 2);\n\t\t\t\n\t\t}\n\t\t//Calculate timeout for when next subtitle should be displayed\n\t\tvar calculateTimeout = function(currentTime) {\n\t\t\tvar startTimeCurrentCaption = Number(getStartTimeFromCaption(currentCaptionIndex));\n\t\t\tvar startTimeNextCaption = Number(getStartTimeFromCaption(nextCaptionIndex));\n\t\t\tvar durationCurrentCaption = Number(getDurationFromCaption(currentCaptionIndex));\n\t\t\tvar timeoutValue = 0;\n\n\t\t\t//The normal case\n\t\t\tif(startTimeNextCaption >= currentTime) {\n\t\t\t\ttimeoutValue = startTimeNextCaption - currentTime;\n\t\t\t}\n\t\t\treturn timeoutValue;\n\t\t  };\n\t  \n\t\t  this.setCaptionTimeout = function(timeoutValue) {\n\t\t\tif (timeoutValue < 0) {\n\t\t\t  return;\n\t\t\t}\n\t  \n\t\t\tclearTimeout(captionTimeout);\n\t  \n\t\t\tvar transcript = this;\n\t\t\tvar adjustedTimeoutValue = timeoutValue / transcript.getPlaybackRate(); \n\t  \n\t\t\tcaptionTimeout = setTimeout(function() {\n\t\t\t  transcript.highlightCaptionAndPrepareForNext();\n\t\t\t}, adjustedTimeoutValue * 1000);\n\t\t  };\n\t  \n\t\tvar getStartTimeFromCaption = function(i)\n\t\t{\n\t\t\tif(i >= captions.length)\n\t\t\t{\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn captions[i].getAttribute('start');\n\t\t}\n\t\tvar getDurationFromCaption = function(i) \n\t\t{\n\t\t\tif(i >= captions.length)\n\t\t\t{\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn captions[i].getAttribute('dur');\n\t\t}\n\t\tvar getTimeIdFromTimestampIndex = function(i)\n\t\t{\n\t\t\tvar strTimestamp = \"_\" + i;\n\t\t\treturn \"t\" + transcriptContentId + strTimestamp;\n\t\t}\n\n\n\t\t//////////////////\n\t\t//Public functions\n\t\t/////////////////\n\t\t//This function highlights the next caption in the list and\n\t\t//sets a timeout for the next one after that.\n\t\t//It must be public as it is called from a timer.\n\t\tthis.highlightCaptionAndPrepareForNext = function() {\n\t\t\tclearCurrentHighlighting();\n\t\t\thighlightNextCaption();\n\t\t\tcurrentCaptionIndex = nextCaptionIndex;\n\t\t\tnextCaptionIndex++;\n\n\t\t\tvar transcript = this;\n\n\t\t\tplayer.getCurrentTime().then(function(currentTime) {\n\t\t\t\tvar timeoutValue = calculateTimeout(currentTime);\n\t\t\t\tif (nextCaptionIndex < captions.length) {\n\t\t\t\t\ttranscript.setCaptionTimeout(timeoutValue);\n\t\t\t\t}\n\t\t\t}).catch(function(error) {\n                console.log(\"highlightCaptionAndPrepareForNext:Could not get current time from vimeo in player playing:\" + error);\n            });;\n\t\t};\n\t\tthis.setCurrentTime = function (seekToTime)\n\t\t{\n            player.setCurrentTime(seekToTime).then(function(seconds) {\n            }).catch(function(error) {\n                switch (error.name) {\n                case 'RangeError':\n                    console.log(\"The time is less than 0 or greater than the video's duration.\");\n                    break;\n            \n                default:\n                    console.log(\"Some other error occurred.\");\n                    break;\n                }\n            });\n        }\n\n        this.play = function() {\n\t\t\tvar transcript = this;\n\t\t\tplayer.getPaused().then(function(paused) {\n\t\t\t\tif(!paused) {\n\t\t\t\t\ttranscript.playerPlaying();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.play().then(function() {\n\t\t\t\t\t}).catch(function(error) {\n\t\t\t\t\t\tswitch (error.name) {\n\t\t\t\t\t\t\tcase 'PasswordError':\n\t\t\t\t\t\t\t\tconsole.log(\"The video is password protected.\")\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase 'PrivacyError':\n\t\t\t\t\t\t\t\t// The video is private\n\t\t\t\t\t\t\t\tconsole.log(\"The video is private.\")\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tconsole.log(\"Some error occured.\")\n\t\t\t\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n        }\n\n\t\tthis.highlightCaptionFromTimestamp = function(timeStamp) {\n\t\t\tclearCurrentHighlighting();\n\t\t\tnextCaptionIndex = findCaptionIndexFromTimestamp(timeStamp);\n\t\t\tcurrentCaptionIndex = nextCaptionIndex;\n\t  \n\t\t\tvar startTime = Number(getStartTimeFromCaption(currentCaptionIndex));\n\t  \n\t\t\tvar timeoutValue = -1;\n\t\t\tif (timeStamp < startTime) {\n\t\t\t  timeoutValue = startTime - timeStamp;\n\t\t\t} else {\n\t\t\t  highlightNextCaption();\n\t\t\t  timeoutValue = calculateTimeout(timeStamp);\n\t\t\t}\n\t\t\tthis.setCaptionTimeout(timeoutValue);\n\t\t};\n\t\tthis.removeLeadingAndTrailingDash = function(s) {\n\t\t\tif(s[0] == \"-\") {\n\t\t\t\ts = s.slice(1, s.length);\n\t\t\t}\n\t\t\ts = s.replace(/ +$/, '');\n\t\t\tif(s[s.length-1] == \"-\") {\n\t\t\t\ts = s.slice(0, -1);\n\t\t\t}\n\t\t\ts += \" \";\n\t\t\treturn s;\n\t\t};\n\t\tthis.updateTranscriptText = function(p, languageCode) {\n\t\t\tcaptions = captionsArr[languageCode];\n\t\t\tvar srt_output = '<p>';\n\t\t\tvar noOfSentencesInParagraph = 0;\n\t\t\tvar captionText = \"\";\n\t\t\tfor (var i = 0, il = captions.length; i < il; i++) {\n\t\t\t\tstart =+ getStartTimeFromCaption(i);\n\n\t\t\t\tcaptionText = captions[i].textContent.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\t\t\t\tcaptionText = this.removeLeadingAndTrailingDash(captionText);\n\t\t\t\tvar timestampId = getTimeIdFromTimestampIndex(i);\n\t\t\t\tsrt_output += \"<span class='btnVimeoSeek' data-seek='\" + start + \"' id='\" + timestampId + \"'>\" + captionText + \"</span> \";\n\t\t\t\tnoOfSentencesInParagraph++;\n\t\t\t\tif((noOfSentencesInParagraph > 10) && captionText.includes(\".\")) {\n\t\t\t\t\tsrt_output += \"</p><p>\";\n\t\t\t\t\tnoOfSentencesInParagraph = 0;\n\t\t\t\t}\n\t\t\t};\n\t\t\tsrt_output += \"</p>\";\n\n\t\t\tp.innerHTML = srt_output;\n\t\t}\n\t\tthis.displayErrorMessage = function(oTranscriptArea, msg) {\n\t\t\toTranscriptArea.transcriptContentArea.innerHTML = \"<p>\" + msg + \"</p>\";\n\t\t}\n\t\tthis.createTranscriptArea = function() {\n\t\t\tvar b = document.createElement('a');\n\t\t\tb.setAttribute(\"class\", \"vimeotranscript-reveal-button\");\n\t\t\tb.setAttribute(\"id\", transcriptButtonId);\n\t\t\tb.setAttribute(\"href\", \"#\" + transcriptContentId);\n\t\t\tb.innerHTML = \"Videotranskripsjon\";\n\n\t\t\tvar p = document.createElement('p');\n\t\t\ttranscriptParentDiv.appendChild(p);\n\t\t\tp.appendChild(b);\n\t\t\tconsole.log(\"createTranscriptArea:\" + transcriptParentDiv.parentElement.innerHTML);\n\n\t\t\tvar e = document.createElement('div');\n\t\t\ttranscriptParentDiv.appendChild(e);\n\t\t\te.setAttribute(\"id\", transcriptContentId);\n\t\t\te.setAttribute(\"class\", \"transcript\");\n\t\t\te.setAttribute(\"style\", \"display: none;\");\n\n\t\t\tvar br = document.createElement('br');\n\t\t\ttranscriptParentDiv.appendChild(br);\n\n\t\t\tvar transcript = this;\n\t\t\t$('#' + transcriptButtonId)\n\t\t\t.button({ icons: { secondary: 'ui-icon-triangle-1-e' } })\n\t\t\t.click(function(event) {\n\t\t\t\tvar $button = $(this);\n\n\t\t\t\t$(\"#\" + transcript.getTranscriptSelectId()).toggle();\n\t\t\t\tvar body = \"#\"+transcriptContentId;\n\t\t\t\tif ($(body).css('display') != 'none') {\n\t\t\t\t\t$(body).slideUp(400);\n\t\t\t\t\t$(body).removeClass(\"uob-box\");\n\t\t\t\t\toptions = { icons: { secondary: 'ui-icon-triangle-1-e' } };\n\t\t\t\t} else {\n\t\t\t\t\t$(body).slideDown(400);\t\t\t\t\n\t\t\t\t\t$(body).addClass(\"uob-box\");\n\t\t\t\t\toptions = { icons: { secondary: 'ui-icon-triangle-1-s' } };\n\t\t\t\t}\t\n\t\t\t\t$button.button('option', options);\n\t\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t\n\t\t\treturn {transcriptArea:p, transcriptContentArea: e};\n\t\t}\t\t  \n\t\tthis.createLanguageMenu = function(oTranscriptArea, selectedLanguage) {\n\t\t\tvar e = document.createElement('span');\n\t\t\toTranscriptArea.transcriptArea.appendChild(e);\n\t\t\tvar transcript = this;\n\t\t\tplayer.getTextTracks().then(function(tracks) {\n\t\t\t\tvar transcriptSelectId = transcript.getTranscriptSelectId();\n\t\t\t\tvar s = document.createElement('select');\n\t\t\t\te.appendChild(s);\n\t\t\t\ts.setAttribute(\"id\", transcriptSelectId);\n\t\t\t\ts.setAttribute(\"class\", \"vimeoSelectLanguage\");\n\t\t\t\ts.setAttribute(\"style\", \"display: none;\");\n\t\n\t\t\t\tvar html = mmooc.util.renderTemplateWithData('transcriptMenu', {\n\t\t\t\t\ttranscriptSelectId: transcriptSelectId,\n\t\t\t\t\tlanguageTracks: tracks,\n\t\t\t\t\tselectedLanguage: selectedLanguage\n\t\t\t\t});\n\t\t\t\ts.innerHTML = html;\n\t\t\t\tfunction show(){\n\t\t\t\t  transcript.updateTranscriptText(oTranscriptArea.transcriptContentArea, s.value);\n\t\t\t\t}\n\t\t\t\ts.onchange=show;\n\t\t\t});\n\t\t};\n\t\tthis.autoPositionTranscriptParent = function() {\n\t\t\tvar iframe = document.getElementById(iframeId);\n\n\t\t\tvar nextElementSibling = iframe.nextElementSibling;\n\t\t\tvar insertAfterSibling = iframe;\n\n\t\t\tvar iframeParent = iframe.parentElement;\n\t\t\tvar iframeParentStyle = iframeParent.getAttribute(\"style\");\n\t\t\t//Responsive vimeo videos has a parent element with a style that contains this:\n\t\t\tif(iframeParentStyle && (iframeParentStyle.indexOf(\"56.25%\") > 0)) {\n\t\t\t\tinsertAfterSibling = iframeParent;\n\t\t\t\tnextElementSibling = iframeParent.nextElementSibling;\n\t\t\t}\n\n\t\t\t//If there is an element after the iframe, we insert the transcript before that one.\n\t\t\tif(nextElementSibling) {\n\t\t\t\t//Some vimeo videos has a link to the video. In that case we put the transcript\n\t\t\t\t//below the link.\n\t\t\t\tvar firstElementChild = nextElementSibling.firstElementChild;\n\t\t\t\tif(firstElementChild) {\n\t\t\t\t\tvar href = firstElementChild.getAttribute(\"href\");\n\t\t\t\t\tif(href) {\n\t\t\t\t\t\tvar siblingVideoId = mmooc.vimeo.getVimeoVideoIdFromUrl(href);\n\t\t\t\t\t\tif(siblingVideoId == videoId) {\n\t\t\t\t\t\t\tinsertAfterSibling = nextElementSibling;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tinsertAfterSibling.parentNode.insertBefore(transcriptParentDiv, insertAfterSibling.nextSibling);\n\t\t\t} //If the iframe is the last element on the page, we add the transcript at the bottom.\n\t\t\telse {\n\t\t\t\tinsertAfterSibling.parentElement.appendChild(transcriptParentDiv);\n\t\t\t}\n\t\t};\n\t\tthis.insertTranscriptParent = function() {\n\t\t\ttranscriptParentDiv = document.createElement('div');\n\t\t\ttranscriptParentDiv.setAttribute(\"class\", \"transcriptParent\");\n\t\t\ttranscriptParentDiv.setAttribute(\"id\", transcriptParentId);\n\t\t\tvar e = document.createElement('div');\n\t\t\ttranscriptParentDiv.appendChild(e);\n\t\t\te.setAttribute(\"id\", transcriptLoadingId);\n\t\t\te.setAttribute(\"class\", \"loading-gif\");\n\t\t\tthis.autoPositionTranscriptParent();\n\t\t};\n\t\tthis.transcriptLoaded = function(transcriptXml) {\n\t\t\tvar transcript = this;\n\t\t\tvar e = document.getElementById(transcriptLoadingId);\n\t\t\te.setAttribute(\"style\", \"display: none;\");\n\n\t\t\tvar oTranscriptArea = transcript.createTranscriptArea();\n\n\t\t\tvar error = transcriptXml.getElementsByTagName('error');\n\t\t\tif(error.length) {\n\t\t\t\tvar errorMessage = error[0];\n\t\t\t\ttranscript.displayErrorMessage(oTranscriptArea, errorMessage.textContent);\n\t\t\t} else {\n\t\t\t\ttranscript.initializePlayer();\n\n\t\t\t\tvar preferredLanguage = MultilangUtils.getPreferredLanguage();\n\t\t\t\tlanguages = transcriptXml.getElementsByTagName('language'); \n\t\t\t\tvar selectedLanguageCode = \"\";\n\t\t\t\tvar nbLanguageAvailable = false;\n\t\t\t\tfor (var languageNo = 0, languageTotal = languages.length; languageNo < languageTotal; languageNo++) {\n\t\t\t\t\tvar language = languages[languageNo];\n\t\t\t\t\tvar languageCode = language.getAttribute(\"lang\");\n\t\t\t\t\tif(languageCode == \"nb\") {\n\t\t\t\t\t\tnbLanguageAvailable = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(languageCode == preferredLanguage) {\n\t\t\t\t\t\tselectedLanguageCode = languageCode;\n\t\t\t\t\t}\n\t\t\t\t\tif(selectedLanguageCode == \"\") {\n\t\t\t\t\t\tselectedLanguageCode = languageCode; //Default to first language available.\n\t\t\t\t\t}\n\t\t\t\t\tcaptionsArr[languageCode] = language.getElementsByTagName('text');\n\t\t\t\t}\n\t\t\t\tif(selectedLanguageCode == \"\" && nbLanguageAvailable) {\n\t\t\t\t\tselectedLanguageCode = \"nb\";\n\t\t\t\t}\n\t\t\t\tcaptionsLoaded = true;\n\n\t\t\t\ttranscript.createLanguageMenu(oTranscriptArea, selectedLanguageCode);\n\t\t\t\ttranscript.updateTranscriptText(oTranscriptArea.transcriptContentArea, selectedLanguageCode);\n\t\t\t\tplayer.getPaused().then(function(paused) {\n\t\t\t\t\tif(!paused) {\n\t\t\t\t\t\ttranscript.playerPlaying();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.getTranscriptId = function()\n\t\t{\n\t\t\treturn transcriptId;\n\t\t}\n\t\tthis.getTranscriptParentId = function()\n\t\t{\n\t\t\treturn transcriptParentDiv;\n\t\t}\n\t\tthis.getTranscriptContentId = function()\n\t\t{\n\t\t\treturn transcriptContentId;\n\t\t}\n\t\tthis.getTranscriptSelectId = function() \n\t\t{\n\t\t\treturn transcriptContentId + \"-select\";\n\t\t}\n\t\tthis.getIFrameId = function() \n\t\t{\n\t\t\treturn iframeId;\n\t\t}\n\t\tthis.getVideoId = function()\n\t\t{\n\t\t\treturn videoId;\n\t\t}\n\t\tthis.getPlaybackRate = function() {\n\t\t\treturn playbackRate;\n\t\t}\n\t\tthis.setPlaybackRate = function(newPlaybackRate) {\n\t\t\tplaybackRate = newPlaybackRate;\n\t\t}\n\t\tthis.getPlayer = function()\n\t\t{\n\t\t\treturn player;\n\t\t}\n\t\t\n        this.getTranscript = function()\n\t\t{\n\t\t\tvar oTranscript = this;\n\t\t\t$.ajax({\n\t\t\t\turl: href,\n\t\t\t\ttype: 'GET',\n                data: {},\n\t\t\t\tsuccess: function(response) {\n\t\t\t\t\toTranscript.transcriptLoaded(response);\n\t\t\t\t},\n\t\t\t\terror: function(XMLHttpRequest, textStatus, errorThrown) {\n\t\t\t\t\tconsole.log(\"Error during GET\");\n\t\t\t\t}\n\t\t\t});           \n\t\t}\n\t\t\n\t\tthis.playerPlaying = function()\n\t\t{\n\t\t\tif(!captionsLoaded)\n\t\t\t{\n\t\t\t\tconsole.log(\"Captions not loaded.\");\n\t\t\t\treturn;\n\t\t\t}\t\n\t\t\t\n            var player = this.getPlayer();\n            var transcript = this;\n            player.getCurrentTime().then(function(currentTime) {\n    \t\t    transcript.highlightCaptionFromTimestamp(currentTime);\n            }).catch(function(error) {\n                console.log(\"Could not get current time from vimeo in player playing:\" + error);\n            });\n\t\t}\n\t\tthis.playerNotPlaying = function (transcript)\n\t\t{\n\t\t\tif(!captionsLoaded)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\t\n\t\t\tclearTimeout(captionTimeout);\n\t\t}\n\t}\n\n\t//Called when user clicks somewhere in the transcript.\n\t$(function() {\n\t\t$(document).on('click', '.btnVimeoSeek', function() {\n\t\t\tvar seekToTime = $(this).data('seek');\n\t\t\tvar transcript = mmooc.vimeo.getTranscriptFromTranscriptId($(this).parent().parent().attr(\"id\"));\n            try {\n                transcript.setCurrentTime(seekToTime);\n                transcript.play();\n            }\n            catch(e) {\n                console.log(\"Vimeo exception:\" + e);\n            }\n\t\t});\n\t});\n\n\treturn {\n\t\tgetTranscriptFromTranscriptId(transcriptId)\n\t\t{\n\t\t\tfor (const transcript in transcriptContainer) {\n\t\t\t\tvar transcriptCandidateId = transcriptContainer[transcript].getTranscriptContentId();\n\t\t\t\tif(transcriptCandidateId == transcriptId) {\n\t\t\t\t\treturn transcriptContainer[transcript];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t    getNoOfVimeoVideos() {\n            return noOfVimeoVideos;\n        },\n\t\tgetUniqueIframeId(vimeoId) {\n\t\t\tvar vimeoVideoId = \"vimeo\" + vimeoId;\n\t\t\tvar i = 0;\n\t\t\twhile(transcriptContainer[vimeoVideoId]) {\n\t\t\t\ti++;\n\t\t\t\tvimeoVideoId += i;\n\t\t\t}\n\t\t\treturn vimeoVideoId;\n\t\t},\n\n\t    getVimeoVideoIdFromUrl(url) {\n\t\t\tvar id = \"\";\n\t\t\tvar result = url.match(/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/(?:[^\\/]*)\\/videos\\/|album\\/(?:\\d+)\\/video\\/|video\\/|)(\\d+)(?:[a-zA-Z0-9_\\-]+)?/i);\n\t\t\t\t\t\t\n\t\t\tif (result){\n\t\t\t\tid = result[1];\n\t\t\t}\n\t\t\treturn id;\n\t\t},\n\t\tinit : function ()\n\t\t{\n            noOfInits++;\n            if(noOfInits < noOfVimeoVideos)\n            {\n                return;\n            }\n\n\t\t\tif(!initialized)\n\t\t\t{\n\t\t\t\tinitialized = true;\n\t\t\t\tvar iframes = document.getElementsByTagName('iframe');\n\t\t\t\tfor (var i = 0; i < iframes.length; i++) {\n\t\t\t\t\tvar iframe = iframes[i];\n\t\t\t\t\tvar vimeoId = mmooc.vimeo.getVimeoVideoIdFromUrl(iframe.src);\n\t\t\t\t\tif(vimeoId != \"\") {\n\t\t\t\t\t\tvar vimeoIframeId = mmooc.vimeo.getUniqueIframeId(vimeoId);\n\t\t\t\t\t\tiframe.setAttribute(\"id\", vimeoIframeId);\n\n\t\t\t\t\t\tnoOfVimeoVideos++;\n\t\t\t\t\t\tvar oTranscript = new transcript(vimeoIframeId, vimeoId);\n\t\t\t\t\t\toTranscript.insertTranscriptParent();\n\t\t\t\t\t\ttranscriptContainer[vimeoIframeId]= oTranscript;\n\t\t\t\t\t\toTranscript.getTranscript();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const transcript in transcriptContainer) {\n\t\t\t\t\tvar oTranscript = transcriptContainer[transcript];\n\t\t\t\t\toTranscript.initializePlayer();\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\t\n\t}\n}();\n\n\n/*! @vimeo/player v2.15.0 | (c) 2021 Vimeo | MIT License | https://github.com/vimeo/player.js */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):((e=\"undefined\"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function l(e){return/^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(e)}function s(e){var t,n=0<arguments.length&&void 0!==e?e:{},r=n.id,o=n.url,i=r||o;if(!i)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(t=i,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return\"https://vimeo.com/\".concat(i);if(l(i))return i.replace(\"http:\",\"https:\");if(r)throw new TypeError(\"“\".concat(r,\"” is not a valid video id.\"));throw new TypeError(\"“\".concat(i,\"” is not a vimeo.com url.\"))}var t=void 0!==Array.prototype.indexOf,n=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&n))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var o,a,u,c=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function f(){if(void 0===this)throw new TypeError(\"Constructor WeakMap requires 'new'\");if(u(this,\"_id\",\"_WeakMap_\"+h()+\".\"+h()),0<arguments.length)throw new TypeError(\"WeakMap iterable is not supported\")}function d(e,t){if(!v(e)||!a.call(e,\"_id\"))throw new TypeError(t+\" method called on incompatible receiver \"+typeof e)}function h(){return Math.random().toString().substring(2)}function v(e){return Object(e)===e}(o=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:c).WeakMap||(a=Object.prototype.hasOwnProperty,u=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n},o.WeakMap=(u(f.prototype,\"delete\",function(e){if(d(this,\"delete\"),!v(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)}),u(f.prototype,\"get\",function(e){if(d(this,\"get\"),v(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),u(f.prototype,\"has\",function(e){if(d(this,\"has\"),!v(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),u(f.prototype,\"set\",function(e,t){if(d(this,\"set\"),!v(e))throw new TypeError(\"Invalid value used as weak map key\");var n=e[this._id];return n&&n[0]===e?n[1]=t:u(e,this._id,[e,t]),this}),u(f,\"_polyfill\",!0),f));var m,p=(function(e){var t,n,r;r=function(){var t,n,r,o,i,a,e=Object.prototype.toString,u=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function c(e,t){this.fn=e,this.self=t,this.next=void 0}function l(e,t){r.add(e,t),n=n||u(r.drain)}function s(e){var t,n=typeof e;return null==e||\"object\"!=n&&\"function\"!=n||(t=e.then),\"function\"==typeof t&&t}function f(){for(var e=0;e<this.chain.length;e++)!function(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError(\"Promise-chain cycle\")):(o=s(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function d(e){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=s(e))?l(function(){var t=new m(r);try{n.call(e,function(){d.apply(t,arguments)},function(){h.apply(t,arguments)})}catch(e){h.call(t,e)}}):(r.msg=e,r.state=1,0<r.chain.length&&l(f,r))}catch(e){h.call(new m(r),e)}}}function h(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&l(f,t))}function v(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function m(e){this.def=e,this.triggered=!1}function p(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(e){if(\"function\"!=typeof e)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var r=new p(this);this.then=function(e,t){var n={success:\"function\"!=typeof e||e,failure:\"function\"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&l(f,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){d.call(r,e)},function(e){h.call(r,e)})}catch(e){h.call(r,e)}}var g=t({},\"constructor\",y,!(r={add:function(e,t){a=new c(e,t),i?i.next=a:o=a,i=a,a=void 0},drain:function(){var e=o;for(o=i=n=void 0;e;)e.fn.call(e.self),e=e.next}}));return t(y.prototype=g,\"__NPO__\",0,!1),t(y,\"resolve\",function(n){return n&&\"object\"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");e(n)})}),t(y,\"reject\",function(n){return new this(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");t(n)})}),t(y,\"all\",function(t){var a=this;return\"[object Array]\"!=e.call(t)?a.reject(TypeError(\"Not an array\")):0===t.length?a.resolve([]):new a(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");var r=t.length,o=Array(r),i=0;v(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(y,\"race\",function(t){var r=this;return\"[object Array]\"!=e.call(t)?r.reject(TypeError(\"Not an array\")):new r(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");v(r,t,function(e,t){n(t)},e)})}),y},(n=c)[t=\"Promise\"]=n[t]||r(),e.exports&&(e.exports=n[t])}(m={exports:{}}),m.exports),y=new WeakMap;function g(e,t,n){var r=y.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),y.set(e.element,r)}function w(e,t){return(y.get(e.element)||{})[t]||[]}function b(e,t,n){var r=y.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],y.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),y.set(e.element,r),r[t]&&0===r[t].length}var k=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"controls\",\"dnt\",\"height\",\"id\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"texttrack\",\"title\",\"transparent\",\"url\",\"width\"];function E(r,e){var t=1<arguments.length&&void 0!==e?e:{};return k.reduce(function(e,t){var n=r.getAttribute(\"data-vimeo-\".concat(t));return!n&&\"\"!==n||(e[t]=\"\"===n?1:n),e},t)}function T(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");var r=document.createElement(\"div\");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function P(i,e,t){var a=1<arguments.length&&void 0!==e?e:{},u=2<arguments.length?t:void 0;return new Promise(function(t,n){if(!l(i))throw new TypeError(\"“\".concat(i,\"” is not a vimeo.com url.\"));var e=\"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(i));for(var r in a)a.hasOwnProperty(r)&&(e+=\"&\".concat(r,\"=\").concat(encodeURIComponent(a[r])));var o=new(\"XDomainRequest\"in window?XDomainRequest:XMLHttpRequest);o.open(\"GET\",e,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return T(e,u),void n(new Error(\"“\".concat(i,\"” is not embeddable.\")));t(e)}catch(e){n(e)}else n(new Error(\"“\".concat(i,\"” is not embeddable.\")));else n(new Error(\"“\".concat(i,\"” was not found.\")))},o.onerror=function(){var e=o.status?\" (\".concat(o.status,\")\"):\"\";n(new Error(\"There was an error fetching the embed code from Vimeo\".concat(e,\".\")))},o.send()})}function M(e){if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function F(e,t,n){var r,o;e.element.contentWindow&&e.element.contentWindow.postMessage&&(r={method:t},void 0!==n&&(r.value=n),8<=(o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\")))&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin))}function _(n,r){var t,e,o=[];(r=M(r)).event?(\"error\"===r.event&&w(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),b(n,r.data.method,e)}),o=w(n,\"event:\".concat(r.event)),t=r.data):!r.method||(e=function(e,t){var n=w(e,t);if(n.length<1)return!1;var r=n.shift();return b(e,t,r),r}(n,r.method))&&(o.push(e),t=r.value),o.forEach(function(e){try{if(\"function\"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var x,C,j,N=new WeakMap,A=new WeakMap,q={},Player=function(){function Player(u){var e,t,c=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Player),window.jQuery&&u instanceof jQuery&&(1<u.length&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),u=u[0]),\"undefined\"!=typeof document&&\"string\"==typeof u&&(u=document.getElementById(u)),e=u,!Boolean(e&&1===e.nodeType&&\"nodeName\"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError(\"You must pass either a valid element or a valid id.\");if(\"IFRAME\"===u.nodeName||(t=u.querySelector(\"iframe\"))&&(u=t),\"IFRAME\"===u.nodeName&&!l(u.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn’t a Vimeo embed.\");if(N.has(u))return N.get(u);this._window=u.ownerDocument.defaultView,this.element=u,this.origin=\"*\";var r,o=new p(function(i,a){var e;c._onMessage=function(e){if(l(e.origin)&&c.element.contentWindow===e.source){\"*\"===c.origin&&(c.origin=e.origin);var t=M(e.data);if(t&&\"error\"===t.event&&t.data&&\"ready\"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void a(n)}var r=t&&\"ready\"===t.event,o=t&&\"ping\"===t.method;if(r||o)return c.element.setAttribute(\"data-ready\",\"true\"),void i();_(c,t)}},c._window.addEventListener(\"message\",c._onMessage),\"IFRAME\"!==c.element.nodeName&&P(s(e=E(u,n)),e,u).then(function(e){var t,n,r,o=T(e,u);return c.element=o,c._originalElement=u,t=u,n=o,r=y.get(t),y.set(n,r),y.delete(t),N.set(c.element,c),e}).catch(a)});return A.set(this,o),N.set(this.element,this),\"IFRAME\"===this.element.nodeName&&F(this,\"ping\"),q.isEnabled&&(r=function(){return q.exit()},q.on(\"fullscreenchange\",function(){(q.isFullscreen?g:b)(c,\"event:exitFullscreen\",r),c.ready().then(function(){F(c,\"fullscreenchange\",q.isFullscreen)})})),this}var e,t,n;return e=Player,(t=[{key:\"callMethod\",value:function(n,e){var r=this,o=1<arguments.length&&void 0!==e?e:{};return new p(function(e,t){return r.ready().then(function(){g(r,n,{resolve:e,reject:t}),F(r,n,o)}).catch(t)})}},{key:\"get\",value:function(n){var r=this;return new p(function(e,t){return n=i(n,\"get\"),r.ready().then(function(){g(r,n,{resolve:e,reject:t}),F(r,n)}).catch(t)})}},{key:\"set\",value:function(n,r){var o=this;return new p(function(e,t){if(n=i(n,\"set\"),null==r)throw new TypeError(\"There must be a value to set.\");return o.ready().then(function(){g(o,n,{resolve:e,reject:t}),F(o,n,r)}).catch(t)})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===w(this,\"event:\".concat(e)).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),g(this,\"event:\".concat(e),t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");b(this,\"event:\".concat(e),t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=A.get(this)||new p(function(e,t){t(new Error(\"Unknown player. Probably unloaded.\"))});return p.resolve(e)}},{key:\"addCuePoint\",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.callMethod(\"addCuePoint\",{time:e,data:n})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"requestFullscreen\",value:function(){return q.isEnabled?q.request(this.element):this.callMethod(\"requestFullscreen\")}},{key:\"exitFullscreen\",value:function(){return q.isEnabled?q.exit():this.callMethod(\"exitFullscreen\")}},{key:\"getFullscreen\",value:function(){return q.isEnabled?p.resolve(q.isFullscreen):this.get(\"fullscreen\")}},{key:\"requestPictureInPicture\",value:function(){return this.callMethod(\"requestPictureInPicture\")}},{key:\"exitPictureInPicture\",value:function(){return this.callMethod(\"exitPictureInPicture\")}},{key:\"getPictureInPicture\",value:function(){return this.get(\"pictureInPicture\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var n=this;return new p(function(e){var t;A.delete(n),N.delete(n.element),n._originalElement&&(N.delete(n._originalElement),n._originalElement.removeAttribute(\"data-vimeo-initialized\")),n.element&&\"IFRAME\"===n.element.nodeName&&n.element.parentNode&&n.element.parentNode.removeChild(n.element),n.element&&\"DIV\"===n.element.nodeName&&n.element.parentNode&&(n.element.removeAttribute(\"data-vimeo-initialized\"),(t=n.element.querySelector(\"iframe\"))&&t.parentNode&&t.parentNode.removeChild(t)),n._window.removeEventListener(\"message\",n._onMessage),e()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getBuffered\",value:function(){return this.get(\"buffered\")}},{key:\"getCameraProps\",value:function(){return this.get(\"cameraProps\")}},{key:\"setCameraProps\",value:function(e){return this.set(\"cameraProps\",e)}},{key:\"getChapters\",value:function(){return this.get(\"chapters\")}},{key:\"getCurrentChapter\",value:function(){return this.get(\"currentChapter\")}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"setMuted\",value:function(e){return this.set(\"muted\",e)}},{key:\"getMuted\",value:function(){return this.get(\"muted\")}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getPlayed\",value:function(){return this.get(\"played\")}},{key:\"getQualities\",value:function(){return this.get(\"qualities\")}},{key:\"getQuality\",value:function(){return this.get(\"quality\")}},{key:\"setQuality\",value:function(e){return this.set(\"quality\",e)}},{key:\"getSeekable\",value:function(){return this.get(\"seekable\")}},{key:\"getSeeking\",value:function(){return this.get(\"seeking\")}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(x=function(){for(var e,t=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],n=0,r=t.length,o={};n<r;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),C={fullscreenchange:x.fullscreenchange,fullscreenerror:x.fullscreenerror},j={request:function(o){return new Promise(function(e,t){function n(){j.off(\"fullscreenchange\",n),e()}j.on(\"fullscreenchange\",n);var r=(o=o||document.documentElement)[x.requestFullscreen]();r instanceof Promise&&r.then(n).catch(t)})},exit:function(){return new Promise(function(t,e){var n,r;j.isFullscreen?(n=function e(){j.off(\"fullscreenchange\",e),t()},j.on(\"fullscreenchange\",n),(r=document[x.exitFullscreen]())instanceof Promise&&r.then(n).catch(e)):t()})},on:function(e,t){var n=C[e];n&&document.addEventListener(n,t)},off:function(e,t){var n=C[e];n&&document.removeEventListener(n,t)}},Object.defineProperties(j,{isFullscreen:{get:function(){return Boolean(document[x.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[x.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[x.fullscreenEnabled])}}}),q=j,function(e){function n(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \".concat(e))}var t=0<arguments.length&&void 0!==e?e:document;[].slice.call(t.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\")).forEach(function(t){try{if(null!==t.getAttribute(\"data-vimeo-defer\"))return;var e=E(t);P(s(e),e,t).then(function(e){return T(e,t)}).catch(n)}catch(e){n(e)}})}(),function(e){var r=0<arguments.length&&void 0!==e?e:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener(\"message\",function(e){if(l(e.origin)&&e.data&&\"spacechange\"===e.data.event)for(var t=r.querySelectorAll(\"iframe\"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom=\"\".concat(e.data.data[0].bottom,\"px\");break}}))}()),Player});\nthis.mmooc = this.mmooc || {};\n\n//https://medium.com/@pointbmusic/youtube-api-checklist-c195e9abaff1\nthis.mmooc.youtube = (function() {\n  var hrefPrefix = 'https://video.google.com/timedtext?v=';\n  var transcriptIdPrefix = 'videoTranscript';\n  var transcriptArr = [];\n  var initialized = false;\n\n  function transcript(transcriptId, language, name) {\n    var transcriptId = transcriptId;\n    var videoId = transcriptId.split(transcriptIdPrefix)[1];\n\n    var href = hrefPrefix + videoId;\n    if (language != '') {\n      href = href + '&lang=' + language;\n    }\n    if (name != '') {\n      href = href + '&name=' + name;\n    }\n\n    //Array of captions in video\n    var captionsLoaded = false;\n\n    //Timeout for next caption\n    var captionTimeout = null;\n\n    var captions = null;\n\n    //Keep track of which captions we are showing\n    var currentCaptionIndex = 0;\n    var nextCaptionIndex = 0;\n\n    this.player = new YT.Player(videoId, {\n      videoId: videoId,\n      events: {\n        onReady: onPlayerReady,\n        onStateChange: onPlayerStateChange\n      }\n    });\n\n    var findCaptionIndexFromTimestamp = function(timeStamp) {\n      var start = 0;\n      var duration = 0;\n      for (var i = 0, il = captions.length; i < il; i++) {\n        start = Number(getStartTimeFromCaption(i));\n        duration = Number(getDurationFromCaption(i));\n\n        //Return the first caption if the timeStamp is smaller than the first caption start time.\n        if (timeStamp < start) {\n          break;\n        }\n\n        //Check if the timestamp is in the interval of this caption.\n        if (timeStamp >= start && timeStamp < start + duration) {\n          break;\n        }\n      }\n      return i;\n    };\n\n    var clearCurrentHighlighting = function() {\n      var timeStampId = getTimeIdFromTimestampIndex(currentCaptionIndex);\n      $('#' + timeStampId).css('background-color', '');\n    };\n\n    var highlightNextCaption = function() {\n      var timestampId = getTimeIdFromTimestampIndex(nextCaptionIndex);\n      $('#' + timestampId).css('background-color', 'yellow');\n    };\n\n    var calculateTimeout = function(currentTime) {\n      var startTime = Number(getStartTimeFromCaption(currentCaptionIndex));\n      var duration = Number(getDurationFromCaption(currentCaptionIndex));\n      var timeoutValue = startTime - currentTime + duration;\n      return timeoutValue;\n    };\n\n    this.setCaptionTimeout = function(timeoutValue) {\n      if (timeoutValue < 0) {\n        return;\n      }\n\n      clearTimeout(captionTimeout);\n\n      var transcript = this;\n\n      captionTimeout = setTimeout(function() {\n        transcript.highlightCaptionAndPrepareForNext();\n      }, timeoutValue * 1000);\n    };\n\n    var getStartTimeFromCaption = function(i) {\n      if (i >= captions.length) {\n        return -1;\n      }\n      return captions[i].getAttribute('start');\n    };\n    var getDurationFromCaption = function(i) {\n      if (i >= captions.length) {\n        return -1;\n      }\n      return captions[i].getAttribute('dur');\n    };\n    var getTimeIdFromTimestampIndex = function(i) {\n      var strTimestamp = '' + i;\n      return 't' + strTimestamp;\n    };\n\n    //////////////////\n    //Public functions\n    /////////////////\n\n    //This function highlights the next caption in the list and\n    //sets a timeout for the next one after that.\n    //It must be public as it is called from a timer.\n    this.highlightCaptionAndPrepareForNext = function() {\n      clearCurrentHighlighting();\n      highlightNextCaption();\n      currentCaptionIndex = nextCaptionIndex;\n      nextCaptionIndex++;\n\n      var currentTime = this.player.getCurrentTime();\n      var timeoutValue = calculateTimeout(currentTime);\n\n      if (nextCaptionIndex <= captions.length) {\n        this.setCaptionTimeout(timeoutValue);\n      }\n    };\n\n    //Called if the user has dragged the slider to somewhere in the video.\n    this.highlightCaptionFromTimestamp = function(timeStamp) {\n      clearCurrentHighlighting();\n      nextCaptionIndex = findCaptionIndexFromTimestamp(timeStamp);\n      currentCaptionIndex = nextCaptionIndex;\n\n      var startTime = Number(getStartTimeFromCaption(currentCaptionIndex));\n\n      var timeoutValue = -1;\n      if (timeStamp < startTime) {\n        timeoutValue = startTime - currentTime;\n      } else {\n        highlightNextCaption();\n        timeoutValue = calculateTimeout(currentTime);\n      }\n      this.setCaptionTimeout(timeoutValue);\n    };\n\n    this.transcriptLoaded = function(transcript) {\n      var start = 0;\n      captions = transcript.getElementsByTagName('text');\n      var srt_output =\n        \"<div class='btnSeek' id='btnSeek' data-seek='0'>0:00</div>\";\n\n      for (var i = 0, il = captions.length; i < il; i++) {\n        start = +getStartTimeFromCaption(i);\n\n        captionText = captions[i].textContent\n          .replace(/</g, '&lt;')\n          .replace(/>/g, '&gt;');\n        var timestampId = getTimeIdFromTimestampIndex(i);\n        srt_output +=\n          \"<span class='btnSeek' data-seek='\" +\n          start +\n          \"' id='\" +\n          timestampId +\n          \"'>\" +\n          captionText +\n          '</span> ';\n      }\n\n      $('#videoTranscript' + videoId).append(srt_output);\n      captionsLoaded = true;\n    };\n\n    this.getTranscriptId = function() {\n      return transcriptId;\n    };\n    this.getVideoId = function() {\n      return videoId;\n    };\n\n    this.getTranscript = function() {\n      var oTranscript = this;\n      $.ajax({\n        url: href,\n        type: 'GET',\n        data: {},\n        success: function(response) {\n          oTranscript.transcriptLoaded(response);\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during GET');\n        }\n      });\n    };\n\n    this.playerPlaying = function() {\n      if (!captionsLoaded) {\n        return;\n      }\n\n      currentTime = this.player.getCurrentTime();\n      this.highlightCaptionFromTimestamp(currentTime);\n    };\n    this.playerNotPlaying = function(transcript) {\n      if (!captionsLoaded) {\n        return;\n      }\n      clearTimeout(captionTimeout);\n    };\n  }\n\n  //Called when user clicks somewhere in the transcript.\n  $(function() {\n    $(document).on('click', '.btnSeek', function() {\n      var seekToTime = $(this).data('seek');\n      var transcript = mmooc.youtube.getTranscriptFromTranscriptId(\n        $(this)\n          .parent()\n          .attr('id')\n      );\n      transcript.player.seekTo(seekToTime, true);\n      transcript.player.playVideo();\n    });\n  });\n\n  //These functions must be global as YouTube API will call them.\n  var previousOnYouTubePlayerAPIReady = window.onYouTubePlayerAPIReady;\n  window.onYouTubePlayerAPIReady = function() {\n    if (previousOnYouTubePlayerAPIReady) {\n      previousOnYouTubePlayerAPIReady();\n    }\n    mmooc.youtube.APIReady();\n  };\n\n  // The API will call this function when the video player is ready.\n  // It can be used to auto start the video f.ex.\n  window.onPlayerReady = function(event) {};\n\n  // The API calls this function when the player's state changes.\n  //    The function indicates that when playing a video (state=1),\n  //    the player should play for six seconds and then stop.\n  window.onPlayerStateChange = function(event) {\n    console.log('onPlayerStateChange ' + event.data);\n    var transcript = this.mmooc.youtube.getTranscriptFromVideoId(\n      event.target.getIframe().id\n    );\n    if (event.data == YT.PlayerState.PLAYING) {\n      transcript.playerPlaying();\n    } else {\n      transcript.playerNotPlaying();\n    }\n  };\n\n  return {\n    getTranscriptFromTranscriptId: function(transcriptId) {\n      for (index = 0; index < transcriptArr.length; ++index) {\n        if (transcriptArr[index].getTranscriptId() == transcriptId) {\n          return transcriptArr[index];\n        }\n      }\n      return null;\n    },\n    getTranscriptFromVideoId: function(videoId) {\n      for (index = 0; index < transcriptArr.length; ++index) {\n        if (transcriptArr[index].getVideoId() == videoId) {\n          return transcriptArr[index];\n        }\n      }\n      return null;\n    },\n\n    APIReady: function() {\n      if (!initialized) {\n        $('.mmocVideoTranscript').each(function(i) {\n          var language = $(this).data('language');\n          var name = $(this).data('name');\n          var oTranscript = new transcript(this.id, language, name);\n          oTranscript.getTranscript();\n          transcriptArr.push(oTranscript);\n        });\n        initialized = true;\n      }\n    },\n    init: function() {\n      this.APIReady();\n    }\n  };\n})();\n//Everything is ready, load the youtube iframe_api\n$.getScript('https://www.youtube.com/iframe_api');\n\nthis[\"mmooc\"] = this[\"mmooc\"] || {};\nthis[\"mmooc\"][\"templates\"] = this[\"mmooc\"][\"templates\"] || {};\n\nthis[\"mmooc\"][\"templates\"][\"actionbutton\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-action-button\\\">\\n    <a href=\\\"#\\\" id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"btn btn-done\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"activitystream\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <li class=\\\"\"\n    + escapeExpression((helper = helpers.checkReadStateFor || (depth0 && depth0.checkReadStateFor),options={hash:{},data:data},helper ? helper.call(depth0, depth0, options) : helperMissing.call(depth0, \"checkReadStateFor\", depth0, options)))\n    + \"\\\">\\n        <a href=\\\"\"\n    + escapeExpression((helper = helpers.findRightUrlFor || (depth0 && depth0.findRightUrlFor),options={hash:{},data:data},helper ? helper.call(depth0, depth0, options) : helperMissing.call(depth0, \"findRightUrlFor\", depth0, options)))\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n            <br>\\n            <span class=\\\"mmooc-notification-type\\\">\"\n    + escapeExpression((helper = helpers.localize || (depth0 && depth0.localize),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"localize\", (depth0 && depth0.type), options)))\n    + \"</span>\\n            <br>\\n            <span class=\\\"notification-pubdate\\\">\";\n  if (helper = helpers.created_at) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.created_at); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        </a>\\n    </li>\\n    \";\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.last), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"\\n    <a href=\\\"#\\\" id=\\\"mmooc-notifications-showall\\\">Vis alle</a>\\n    \";\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \"\\n    <li>Ingen varsler</li>\\n    \";\n  }\n\n  buffer += \"<ul id=\\\"mmooc-notifications\\\">\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.activities), {hash:{},inverse:self.program(4, program4, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</ul>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"allcoursescontainer\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, self=this, functionType=\"function\", escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n      <button id=\\\"mmooc-all-courses-btn\\\" class=\\\"btn\\\">Til mine kompetansepakker</button>\\n    \";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"\\n    <div class=\\\"uob-warning\\\">Det ser ut som du bruker en mobil enhet. Vi jobber med saken, men innholdet på kompetanse.udir.no \\n      er ikke optimalisert for mobile enheter enda. \\n      Vi anbefaler derfor at du bruker en PC i stedet. Dersom du allikevel velger å jobbe videre med din mobile enhet må du være oppmerksom på  \\n      at visningen av innholdet i noen tilfeller kan være av dårlig kvalitet.\\n    </div>\\n    \";\n  }\n\nfunction program5(depth0,data) {\n  \n  \n  return \"\\n      Her finner du en oversikt over alle tilgjengelige kompetansepakker som du kan melde deg på. \\n    \";\n  }\n\nfunction program7(depth0,data) {\n  \n  \n  return \"\\n      Tjenesten er laget for ansatte i skole og barnehage. Den er gratis og du kan logge på med Feide eller \\n      opprette en <span class=\\\"tooltip tooltip-underline\\\">egen bruker<span class=\\\"tooltiptext\\\">Første gang du skal logge på med egen bruker må du registrere deg i en av kompetansepakkene nedenfor. Deretter kan du logge inn med knappen oppe til høyre.</span></span>. \\n    \";\n  }\n\n  buffer += \"<div class=\\\"mmooc-all-courses\\\">\\n    <!-- TODO: use translation feature -->\\n    <div class=\\\"mmooc-all-courses-header\\\">\\n    <h1>Velkommen til Utdanningsdirektoratets kompetanseportal</h1>\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isAuthenticated), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isMobileOrTablet), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isAuthenticated), {hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"    \\n    <!--If the amount of courses is large, the filter select box and corresponding javascript code in enroll.js should be enabled\\n    <select id='filter'></select>\\n    -->\\n<!--    <h3>Alle tilgjengelige \";\n  if (helper = helpers.courseLabel) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseLabel); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>-->\\n    <br><br>\\n    <div class=\\\"mmooc-all-courses-list\\\"></div>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"allcourseslist\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <div class=\\\"mmooc-tag mmooc-tag-teal\\\">\\n                            <label>\";\n  if (helper = helpers.coursesAmountText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.coursesAmountText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                        </div>\\n                    \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <div class=\\\"mmooc-tag mmooc-tag-green\\\">\\n                            <label>\";\n  if (helper = helpers.YouAreRegisteredToXCoursesText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.YouAreRegisteredToXCoursesText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                        </div>\\n                    \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                    <span class=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-name=\\\"course\\\">\\n                        <button id=\\\"mmooc-tab-head-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tab-head mmooc-tab-head-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" index=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.program(8, program8, data),fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                            \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                        </button>\\n                    </span>\\n                    \";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  \n  return \"\\n                                <svg width=\\\"16\\\" height=\\\"16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M-4-4h24v24H-4z\\\"/><path d=\\\"M8 0c4.416 0 8 3.584 8 8s-3.584 8-8 8-8-3.584-8-8 3.584-8 8-8zM6.4 12l6.43-6.43-1.127-1.137L6.4 9.736 3.528 6.872 2.4 8l4 4z\\\" fill=\\\"#00AC18\\\" fill-rule=\\\"nonzero\\\"/></g></svg>\\n                            \";\n  }\n\nfunction program8(depth0,data) {\n  \n  \n  return \"\\n                                <svg width=\\\"16\\\" height=\\\"16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M-4-4h24v24H-4z\\\"/><path d=\\\"M8 0c4.416 0 8 3.584 8 8s-3.584 8-8 8-8-3.584-8-8 3.584-8 8-8z\\\" stroke-opaicty=\\\"0.0\\\" fill-opacity=\\\"0.0\\\" fill-rule=\\\"nonzero\\\"/></g></svg>\\n                            \";\n  }\n\nfunction program10(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    <div id=\\\"mmooc-tab-content-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tab-content mmooc-tab-content-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n                        <p class=\\\"mmooc-tab-content-description\\\">\";\n  if (helper = helpers.public_description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.public_description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n                        \";\n  options={hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data}\n  if (helper = helpers.ifUnmaintained) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifUnmaintained); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifUnmaintained) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        \";\n  options={hash:{},inverse:self.program(15, program15, data),fn:self.program(13, program13, data),data:data}\n  if (helper = helpers.ifRoleBased) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifRoleBased); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifRoleBased) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.program(15, program15, data),fn:self.program(13, program13, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        <div class=\\\"mmooc-button-ctr\\\">\\n                            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.program(19, program19, data),fn:self.programWithDepth(17, program17, data, depth0, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        </div>\\n                    </div>\\n                    \";\n  return buffer;\n  }\nfunction program11(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                            <p class=\\\"mmooc-tab-content-alert\\\"><b>NB! Denne kompetansepakken ble sist vedlikeholdt i \";\n  if (helper = helpers.courseAlert) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseAlert); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</b></p>\\n                        \";\n  return buffer;\n  }\n\nfunction program13(depth0,data) {\n  \n  \n  return \"\\n                            <p class=\\\"mmooc-tab-content-alert\\\">\\n                                <span class=\\\"tooltip\\\">\\n                                    <span class=\\\"mmooc-tag mmooc-tag-course-type-collective\\\">\\n                                        <label>kollektiv</label>\\n                                    </span>\\n                                    <span class=\\\"tooltiptext\\\">Kollektive kompetansepakker inneholder blant annet lederstøtte og innhold der man skal samarbeide med andre.</span>\\n                                </span>\\n                            </p>\\n                        \";\n  }\n\nfunction program15(depth0,data) {\n  \n  \n  return \"\\n                            <p class=\\\"mmooc-tab-content-alert\\\">\\n                                <span class=\\\"tooltip\\\">\\n                                    <span class=\\\"mmooc-tag mmooc-tag-course-type-individual\\\">\\n                                        <label>individuell</label>\\n                                    </span>\\n                                    <span class=\\\"tooltiptext\\\">Individuelle e-læringskurs egner seg godt til å ta på egenhånd.</span>\\n                                </span>\\n                            </p>\\n                        \";\n  }\n\nfunction program17(depth0,data,depth1,depth2) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                                <a aria-label=\\\"enroll\\\" class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/courses/\"\n    + escapeExpression(((stack1 = (depth1 && depth1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth2 && depth2.goToCourse)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n                            \";\n  return buffer;\n  }\n\nfunction program19(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                                <button id=\\\"\";\n  if (helper = helpers.self_enrollment_code) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.self_enrollment_code); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-header__register-button mmooc-button mmooc-button-secondary\\\">Meld deg på</button>\\n                            \";\n  return buffer;\n  }\n\nfunction program21(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                <span class=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-name=\\\"course\\\">\\n                <button id=\\\"mmooc-tabs-mobile-header-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tabs-mobile-header\\\" index=\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \">\\n                    \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.noop,fn:self.program(22, program22, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </button>\\n                </span>\\n                <article id=\\\"mmooc-tabs-mobile-content-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-tabs-mobile-content\\\">\\n                    <p>\";\n  if (helper = helpers.public_description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.public_description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n                    <p class=\\\"mmooc-tab-content-description\\\">\";\n  if (helper = helpers.public_description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.public_description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n                    \";\n  options={hash:{},inverse:self.noop,fn:self.program(24, program24, data),data:data}\n  if (helper = helpers.ifUnmaintained) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifUnmaintained); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifUnmaintained) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(24, program24, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    \";\n  options={hash:{},inverse:self.program(28, program28, data),fn:self.program(26, program26, data),data:data}\n  if (helper = helpers.ifRoleBased) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifRoleBased); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifRoleBased) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.program(28, program28, data),fn:self.program(26, program26, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    <div class=\\\"mmooc-button-ctr\\\">\\n                        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.enrolled), {hash:{},inverse:self.program(32, program32, data),fn:self.programWithDepth(30, program30, data, depth0, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </div>\\n                </article>\\n                \";\n  return buffer;\n  }\nfunction program22(depth0,data) {\n  \n  \n  return \"\\n                        <svg width=\\\"16\\\" height=\\\"16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M-4-4h24v24H-4z\\\"/><path d=\\\"M8 0c4.416 0 8 3.584 8 8s-3.584 8-8 8-8-3.584-8-8 3.584-8 8-8zM6.4 12l6.43-6.43-1.127-1.137L6.4 9.736 3.528 6.872 2.4 8l4 4z\\\" fill=\\\"#00AC18\\\" fill-rule=\\\"nonzero\\\"/></g></svg>\\n                    \";\n  }\n\nfunction program24(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <p class=\\\"mmooc-tab-content-alert\\\"><b>NB! Denne kompetansepakken ble sist vedlikeholdt i \";\n  if (helper = helpers.courseAlert) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseAlert); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</b></p>\\n                    \";\n  return buffer;\n  }\n\nfunction program26(depth0,data) {\n  \n  \n  return \"\\n                        <p class=\\\"mmooc-tab-content-alert\\\">\\n                            <span class=\\\"tooltip\\\">\\n                                <span class=\\\"mmooc-tag mmooc-tag-course-type-collective\\\">\\n                                    <label>kollektiv</label>\\n                                </span>\\n                                <span class=\\\"tooltiptext\\\">Kollektive kompetansepakker inneholder blant annet lederstøtte og innhold der man skal samarbeide med andre.</span>\\n                            </span>\\n                        </p>\\n                    \";\n  }\n\nfunction program28(depth0,data) {\n  \n  \n  return \"\\n                        <p class=\\\"mmooc-tab-content-alert\\\">\\n                            <span class=\\\"tooltip\\\">\\n                                <span class=\\\"mmooc-tag mmooc-tag-course-type-individual\\\">\\n                                    <label>individuell</label>\\n                                </span>\\n                                <span class=\\\"tooltiptext\\\">Individuelle e-læringskurs egner seg godt til å ta på egenhånd.</span>\\n                            </span>\\n                        </p>\\n                    \";\n  }\n\nfunction program30(depth0,data,depth1,depth2) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                            <a class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/courses/\"\n    + escapeExpression(((stack1 = (depth1 && depth1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth2 && depth2.goToCourse)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n                        \";\n  return buffer;\n  }\n\nfunction program32(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                            <button id=\\\"\";\n  if (helper = helpers.self_enrollment_code) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.self_enrollment_code); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-header__register-button mmooc-button mmooc-button-secondary\\\">Meld deg på</button>\\n                        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-enroll-category\\\">\\n    <section class=\\\"mmooc-accordion\\\">\\n        <button id=\\\"mmooc-accordion-header-\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-accordion-header\\\" index=\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" data-title=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n            <div class=\\\"mmooc-accordion-header-main\\\" index=\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \">\\n                <div>\\n                    <h2>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n                </div> \\n                <div>\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.coursesAmount), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    <!-- TODO: variable with a number of courses the user is subscribed to shall be placed here\\n                        also, it should be visible only on the 'logged in screen' -->\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.coursesEnrolledAmount), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n            </div>\\n            <div class=\\\"mmooc-accordion-label-closed\\\">\\n                <label class=\\\"mmooc-accordion-header-label\\\">\";\n  if (helper = helpers.openCoursesGroupText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.openCoursesGroupText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                <svg width=\\\"16\\\" height=\\\"9\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                        <path d=\\\"M-8-12h32v32H-8z\\\" />\\n                        <path fill-opacity=\\\".5\\\" fill=\\\"#373737\\\" d=\\\"M1.887 0L8 5.565 14.113 0 16 1.717 8 9 0 1.717z\\\" />\\n                    </g>\\n                </svg>\\n            </div>\\n            <div class=\\\"mmooc-accordion-label-open\\\">\\n                <label class=\\\"mmooc-accordion-header-label\\\">\";\n  if (helper = helpers.closeCoursesGroupText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.closeCoursesGroupText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</label>\\n                <svg width=\\\"16\\\" height=\\\"9\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                    <g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n                        <path d=\\\"M-8 21h32v-32H-8z\\\" />\\n                        <path fill=\\\"#24A1B3\\\" d=\\\"M1.887 9L8 3.435 14.113 9 16 7.283 8 0 0 7.283z\\\" />\\n                    </g>\\n                </svg>\\n            </div>\\n        </button>\\n        <article id=\\\"mmooc-accordion-content-\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-accordion-content\\\">\\n\\n            <div class=\\\"mmooc-tabs\\\">\\n                <div class=\\\"mmooc-tab-heads\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n                <div class=\\\"mmooc-tab-content-ctr\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.programWithDepth(10, program10, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                </div>\\n            </div>\\n\\n            <section class=\\\"mmooc-tabs-mobile\\\">\\n                \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.programWithDepth(21, program21, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            </section>\\n        </article>\\n    </section>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentPageWithPeerReviewRightSide\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" late\";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \" (for sen)\";\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n\t\t\t<ul class=\\\"mmooc-assignment-files\\\">\\n\t\t\t\t\";\n  stack1 = helpers.each.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.attachments), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t</ul>\\n\t\t\t\";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n\t\t\t\t<li>\\n\t\t\t\t\t<a href=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"file-big\\\">\";\n  if (helper = helpers.display_name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.display_name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n\t\t\t\t</li>\\n\t\t\t\t\";\n  return buffer;\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n\t\t\t<a href=\\\"\"\n    + escapeExpression((helper = helpers.getPathFromUrl || (depth0 && depth0.getPathFromUrl),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.preview_url), options) : helperMissing.call(depth0, \"getPathFromUrl\", ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.preview_url), options)))\n    + \"\\\">Vis detaljer om innlevering &raquo;</a>\\n\t\t\t\";\n  return buffer;\n  }\n\nfunction program10(depth0,data) {\n  \n  \n  return \"\\n\t\t\t<p>Du må gjøre hverandre-vurderingen(e) nedenfor før du kan se detaljer om din oppgave.</p>\\n\t\t\t\";\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \"\\n\t\t\t<li>Ingen innleveringer tildelt</li>\\n\t\t\t\";\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n\t\t\t<li>\\n\t\t\t\t<a class=\\\"\"\n    + escapeExpression((helper = helpers.getPeerReviewWorkflowIconClass || (depth0 && depth0.getPeerReviewWorkflowIconClass),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.workflow_state), options) : helperMissing.call(depth0, \"getPeerReviewWorkflowIconClass\", (depth0 && depth0.workflow_state), options)))\n    + \"\\\" href=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assessor)),stack1 == null || stack1 === false ? stack1 : stack1.mmooc_url)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assessor)),stack1 == null || stack1 === false ? stack1 : stack1.display_name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n\t\t\t</li>\\n\t\t\t\";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-assignment-rightside\\\">\\n\t<div class=\\\"mmooc-assignment-responses\\\">\\n\t\t<h3>Besvarelser</h3>\\n\t\t<div class=\\\"mmooc-assignment-responses-contents\\\">\\n\t\t\t<p class=\\\"mmooc-assignment-delivery-date\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">Levert \"\n    + escapeExpression((helper = helpers.norwegianDateAndTime || (depth0 && depth0.norwegianDateAndTime),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options) : helperMissing.call(depth0, \"norwegianDateAndTime\", ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options)));\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</p>\\n\t\t\t\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.attachments), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t</div>\\n\t\t<div class=\\\"mmooc-assignment-details\\\">\\n\t\t\t\";\n  stack1 = (helper = helpers.ifAllPeerReviewsAreComplete || (depth0 && depth0.ifAllPeerReviewsAreComplete),options={hash:{},inverse:self.program(10, program10, data),fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.peerReview), options) : helperMissing.call(depth0, \"ifAllPeerReviewsAreComplete\", (depth0 && depth0.peerReview), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t</div>\\n\t</div>\\n\t<div class=\\\"mmooc-peer-reviews\\\">\\n\t\t<h3>Hverandrevurdering tildelt deg</h3>\\n\t\t<ul class=\\\"unstyled_list\\\">\\n\t\t\t\";\n  stack1 = helpers.unless.call(depth0, ((stack1 = (depth0 && depth0.peerReview)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.peerReview), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t</ul>\\n\t</div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentPageWithPeerReviewSaveRubricButton\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<button type=\\\"button\\\" id=\\\"mmooc_save_rubric_button\\\" class=\\\"save_rubric_button btn btn-small\\\">Lagre kommentar</button>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentPageWithPeerReviewWarning\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"mmooc-peer-review-warning\\\">\\n\t<p class=\\\"mmooc-warning\\\">\\n\t\tDenne oppgaven er ikke ferdig før du har fylt ut vurderingsskjemaet til hver tildelte hverandrevurdering\\n\t</p>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"assignmentSubmission\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" late\";\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \" (for sen)\";\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n\t\t\t\t\t\t<span class=\\\"mmooc-assignment-delivered-by\\\"> av \"\n    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.user)),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</span>\\n\t\t\t\t\t\t\";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReviewFinished), {hash:{},inverse:self.program(10, program10, data),fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  \n  return \"\\n\t\t<div class=\\\"mmooc-peer-review-success\\\">\\n\t\t\t<p class=\\\"mmooc-success singleLine\\\">\\n\t\t\t\tDu har fullført hverandrevurderingen.\\n\t\t\t</p>\\n\t\t</div>\\n\t\t\";\n  }\n\nfunction program10(depth0,data) {\n  \n  \n  return \"\\n\t\t<div class=\\\"mmooc-peer-review-warning\\\">\\n\t\t\t<p class=\\\"mmooc-warning singleLine\\\">\\n\t\t\t\tDenne oppgaven er ikke ferdig før du har fylt ut vurderingsskjemaet.\\n\t\t\t</p>\\n\t\t</div>\\n\t\t\";\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<h3>Din vurdering</h3>\\n\t\t\t\t\";\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isTeacherViewingStudentsSubmission), {hash:{},inverse:self.program(17, program17, data),fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program15(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<h3>Vurdering av besvarelse</h3>\\n\t\t\t\t\";\n  }\n\nfunction program17(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<h3>Vurdering av din besvarelse</h3>\\n\t\t\t\t\";\n  }\n\nfunction program19(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n\t\t\t\t<p class=\\\"assessment\\\">Karakter: \"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.grade)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assignment)),stack1 == null || stack1 === false ? stack1 : stack1.points_possible)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</p>\\n\t\t\t\t\";\n  return buffer;\n  }\n\nfunction program21(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isPeerReviewFinished), {hash:{},inverse:self.noop,fn:self.program(22, program22, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t\t<a href=\\\"#\\\" class=\\\"open-assessment-dialog-button\\\">Vurderingsskjema</a>\\n\t\t\t\t\";\n  return buffer;\n  }\nfunction program22(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<p class=\\\"assessment-warning\\\">Du har ikke vurdert denne oppgaven.</p>\\n\t\t\t\t\";\n  }\n\nfunction program24(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n\t\t\t\t<p class=\\\"assessment-text\\\">\"\n    + escapeExpression((helper = helpers.getSubmissionAssessmentText || (depth0 && depth0.getSubmissionAssessmentText),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.peerReview), options) : helperMissing.call(depth0, \"getSubmissionAssessmentText\", (depth0 && depth0.peerReview), options)))\n    + \"</p>\\n\t\t\t\t\";\n  stack1 = (helper = helpers.ifAtLeastOnePeerReviewIsComplete || (depth0 && depth0.ifAtLeastOnePeerReviewIsComplete),options={hash:{},inverse:self.program(27, program27, data),fn:self.program(25, program25, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.peerReview), options) : helperMissing.call(depth0, \"ifAtLeastOnePeerReviewIsComplete\", (depth0 && depth0.peerReview), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program25(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<a href=\\\"#\\\" class=\\\"open-assessment-dialog-button\\\">Vis vurdering</a>\\n\t\t\t\t\";\n  }\n\nfunction program27(depth0,data) {\n  \n  \n  return \"\\n\t\t\t\t<br/> \";\n  }\n\nfunction program29(depth0,data) {\n  \n  \n  return \" isPeerReviewPage\";\n  }\n\nfunction program31(depth0,data) {\n  \n  \n  return \" isSubmissionDetaisPage\";\n  }\n\nfunction program33(depth0,data) {\n  \n  \n  return \" withGradesText\";\n  }\n\nfunction program35(depth0,data) {\n  \n  \n  return \" withNoGradesText\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-assignment-submission\\\">\\n\t<div class=\\\"mmooc-assignment-submission-leftside\\\">\\n\t\t<div class=\\\"mmooc-assignment-submission-metadata\\\">\\n\t\t\t<h2 class=\\\"mmooc-assignment-submission-header\\\">\";\n  if (helper = helpers.submissionTitle) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.submissionTitle); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n\t\t\t<ul class=\\\"mmooc-assignment-submission-metadata-list\\\">\\n\t\t\t\t<li>\\n\t\t\t\t\t<span class=\\\"title\\\">Oppgave:</span>\\n\t\t\t\t\t<span class=\\\"value\\\">\\n\t\t\t\t\t\t<a href=\\\"/courses/\"\n    + escapeExpression(((stack1 = ((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.course)),stack1 == null || stack1 === false ? stack1 : stack1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/assignments/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.assignment_id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.assignment)),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n\t\t\t\t\t</span>\\n\t\t\t\t</li>\\n\t\t\t\t<li>\\n\t\t\t\t\t<span class=\\\"title\\\">Innlevert:</span>\\n\t\t\t\t\t<span class=\\\"value\\\">\\n\t\t\t\t\t\t<span class=\\\"mmooc-assignment-delivery-date\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\"\n    + escapeExpression((helper = helpers.norwegianDateAndTime || (depth0 && depth0.norwegianDateAndTime),options={hash:{},data:data},helper ? helper.call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options) : helperMissing.call(depth0, \"norwegianDateAndTime\", ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.submitted_at), options)));\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.late), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</span>\\n\t\t\t\t\t\t\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isTeacherViewingStudentsSubmission), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t\t\t</span>\\n\t\t\t\t</li>\\n\t\t\t</ul>\\n\t\t</div>\\n\t\t\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t</div>\\n\t<div class=\\\"mmooc-assignment-submission-rightside\\\">\\n\t\t<div class=\\\"mmooc-assignment-submission-assessment\\\">\\n\t\t\t<div class=\\\"mmooc-assignment-submission-assessment-header\\\">\\n\t\t\t\t\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.program(14, program14, data),fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t</div>\\n\t\t\t<div class=\\\"mmooc-assignment-submission-assessment-contents\\\">\\n\t\t\t\t\";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.grade), {hash:{},inverse:self.noop,fn:self.program(19, program19, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.program(24, program24, data),fn:self.program(21, program21, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>\\n</div>\\n\\n<div class=\\\"mmooc-assignment-submission-answers\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isPeerReview), {hash:{},inverse:self.program(31, program31, data),fn:self.program(29, program29, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.submission)),stack1 == null || stack1 === false ? stack1 : stack1.grade), {hash:{},inverse:self.program(35, program35, data),fn:self.program(33, program33, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n\t<h3>Besvarelser</h3>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"backbutton\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-back-button\\\">\\n    <a href=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courselist\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", self=this, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        <div id=\\\"course_\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-size-1of3\\\">\\n            <div class=\\\"mmooc-course-list-item\\\">\\n                <div class=\\\"mmooc-course-list-heading\\\">\\n                    <h2 \";\n  stack1 = (helper = helpers.ifHasRole || (depth0 && depth0.ifHasRole),options={hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.enrollments), \"ObserverEnrollment\", options) : helperMissing.call(depth0, \"ifHasRole\", (depth0 && depth0.enrollments), \"ObserverEnrollment\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\\n                        <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.id), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.id), options)))\n    + \"\\\">\\n                            \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \";\n  stack1 = (helper = helpers.ifHasRole || (depth0 && depth0.ifHasRole),options={hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.enrollments), \"ObserverEnrollment\", options) : helperMissing.call(depth0, \"ifHasRole\", (depth0 && depth0.enrollments), \"ObserverEnrollment\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        </a>\\n                    </h2>\\n                </div>\\n\\n                <div class=\\\"mmooc-course-list-description\\\">\\n                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.syllabus_body), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n                \";\n  if (helper = helpers.debug) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.debug); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n\\n                <div class=\\\"mmooc-course-list-progress\\\">\\n                    \";\n  stack1 = (helper = helpers.ifHasRole || (depth0 && depth0.ifHasRole),options={hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.enrollments), \"StudentEnrollment\", options) : helperMissing.call(depth0, \"ifHasRole\", (depth0 && depth0.enrollments), \"StudentEnrollment\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n            </div>\\n        </div>\\n        \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \" class=\\\"tooltip\\\" \";\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \" - Observatør\\n                            <div class=\\\"tooltiptext\\\">\\n                                Som observatør kan du se innholdet i emner der du ikke er registrert som student.\\n                            </div>\\n                            \";\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" \";\n  if (helper = helpers.syllabus_body) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.syllabus_body); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.course_progress), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.requirement_count), {hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    <div class=\\\"mmooc-progress-bar\";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                        <div class=\\\"mmooc-progress-bar-inner\\\" style=\\\"width:\"\n    + escapeExpression((helper = helpers.percentage || (depth0 && depth0.percentage),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options) : helperMissing.call(depth0, \"percentage\", (depth0 && depth0.requirement_completed_count), (depth0 && depth0.requirement_count), options)))\n    + \"%\\\">\\n                        </div>\\n                    </div>\\n                    \";\n  return buffer;\n  }\nfunction program11(depth0,data) {\n  \n  \n  return \" mmooc-progress-bar-done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-course-list\\\">\\n    <h2 class=\\\"mmooc-course-category-title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n    <!--If the amount of courses is large, the filter select box and corresponding javascript code in courselist.js should be enabled\\n    <select id=\\\"filter\\\"></select>\\n-->\\n    <div class=\\\"mmooc-row\\\">\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courselistcontainer\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-course-list-container\\\">\\r\\n  <h1>Mine \";\n  if (helper = helpers.courseLabel) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseLabel); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\r\\n  <a class='btn btn-more-courses' href='/search/all_courses\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"'>Se alle tilgjengelige \";\n  if (helper = helpers.courseLabel) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.courseLabel); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\r\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"coursemenu\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" class=\\\"no-tabs\\\" \";\n  if (helper = helpers.subtitle) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.subtitle); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.courseIsMultilanguage), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n            <div id=\\\"mmooc-course-language-container\\\" >\\n                <span id=\\\"mmooc-course-language-text\\\">Språk / Giella</span>\\n                <span id=\\\"mmooc-course-current-language\\\">\\n                    <svg class=\\\"mmooc-language-select-globe\\\" width=\\\"22\\\" height=\\\"22\\\" fill=\\\"none\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 22 22\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                        <g stroke=\\\"#656161\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\">\\n                            <path d=\\\"m11 21c5.5228 0 10-4.4772 10-10s-4.4772-10-10-10-10 4.4772-10 10 4.4772 10 10 10z\\\"/>\\n                            <path d=\\\"m1 11h20\\\"/>\\n                            <path d=\\\"m11 1c2.5013 2.7384 3.9228 6.292 4 10-0.0772 3.708-1.4987 7.2616-4 10-2.5013-2.7384-3.9228-6.292-4-10 0.0772-3.708 1.4987-7.2616 4-10z\\\"/>\\n                        </g>\\n                    </svg>\\n                    <span id=\\\"mmooc-course-language-selected\\\">\";\n  if (helper = helpers.selectedLanguage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.selectedLanguage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                </span>\\n                <div id=\\\"mmooc-course-language-dropdown\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.otherLanguages), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </div>\\n            </div>\\n            \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                        <button class=\\\"mmooc-course-language-button\\\" value=\\\"\"\n    + escapeExpression(((stack1 = (depth0 && depth0.code)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\"\n    + escapeExpression(((stack1 = (depth0 && depth0.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</button>\\n                    \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <span class=\\\"h1-sub-heading\\\">\";\n  if (helper = helpers.subtitle) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.subtitle); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  return buffer;\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <ul class=\\\"mmooc-course-tabs\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.menuItems), {hash:{},inverse:self.noop,fn:self.programWithDepth(10, program10, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n        \";\n  return buffer;\n  }\nfunction program10(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.toolList)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.programWithDepth(16, program16, data, depth1),fn:self.programWithDepth(11, program11, data, depth1),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program11(depth0,data,depth2) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li class=\\\"mmooc-course-tab \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.url), (depth2 && depth2.selectedMenuItem), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.url), (depth2 && depth2.selectedMenuItem), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" id=\\\"mmooc-menu-item-verktoy\\\">\\n                <a href=\\\"#\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                    <i class=\\\"icon-mini-arrow-down\\\"></i>\\n                </a>\\n                <div class=\\\"mmooc-course-tab-menu-item-drop\\\" id=\\\"mmooc-verktoy-list\\\">\\n                    <ul class=\\\"mmooc-course-tab-menu-item-list\\\">\\n                        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.toolList), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </ul>\\n                </div>\\n            </li>\\n            \";\n  return buffer;\n  }\nfunction program12(depth0,data) {\n  \n  \n  return \"selected\";\n  }\n\nfunction program14(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        <li class=\\\"mmooc-course-tab-menu-item-list-item\\\">\\n                            <a href=\\\"\";\n  if (helper = helpers.href) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.href); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n                        </li>\\n                        \";\n  return buffer;\n  }\n\nfunction program16(depth0,data,depth2) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li class=\\\"mmooc-course-tab \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.title), (depth2 && depth2.selectedMenuItem), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.title), (depth2 && depth2.selectedMenuItem), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                <a href=\\\"\";\n  if (helper = helpers.url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n            </li>\\n            \";\n  return buffer;\n  }\n\n  buffer += \"<div id=\\\"mmooc-course-tabs-container\\\" \";\n  stack1 = helpers.unless.call(depth0, ((stack1 = (depth0 && depth0.menuItems)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \">\\n    <div id=\\\"mmooc-course-tabs-container-inner\\\">\\n        <div id=\\\"mmooc-course-title-header\\\">\\n            <h1>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h1>\\n            \";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.languageOptions), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </div>\\n\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.subtitle), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.menuItems)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courseprogress\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" mmooc-progress-bar-done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-course-progress\\\">\\n    <div>\\n        <div class=\\\"mmooc-course-progress-label\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n        <div class=\\\"mmooc-course-progress-bar\\\">\\n            <div class=\\\"mmooc-progress-bar\";\n  stack1 = (helper = helpers.ifAllModulesCompleted || (depth0 && depth0.ifAllModulesCompleted),options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"ifAllModulesCompleted\", (depth0 && depth0.modules), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                <div class=\\\"mmooc-progress-bar-inner\\\" style=\\\"width:\"\n    + escapeExpression((helper = helpers.percentageForModules || (depth0 && depth0.percentageForModules),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"percentageForModules\", (depth0 && depth0.modules), options)))\n    + \"%\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"courseprogressforstudent\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" mmooc-progress-bar-done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-course-progress\\\">\\n    <div>\\n        <div class=\\\"mmooc-course-progress-label\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n        <div class=\\\"mmooc-course-progress-bar\\\">\\n            <div class=\\\"mmooc-progress-bar\";\n  stack1 = (helper = helpers.ifAllStudentModulesCompleted || (depth0 && depth0.ifAllStudentModulesCompleted),options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"ifAllStudentModulesCompleted\", (depth0 && depth0.modules), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                <div class=\\\"mmooc-progress-bar-inner\\\" style=\\\"width:\"\n    + escapeExpression((helper = helpers.percentageForStudentModules || (depth0 && depth0.percentageForStudentModules),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.modules), options) : helperMissing.call(depth0, \"percentageForStudentModules\", (depth0 && depth0.modules), options)))\n    + \"%\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"dataporten\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"I denne kompetansepakken benytter vi oss av grupper fra dataporten. For å se\\n hvilke du kan melde deg inn i, må du logge deg på dataporten.<div>\\n <button class=\\\"button\\\" id=\\\"dataportenPopupLogin\\\">Login dataporten</button>\\n </div>\\n\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"dataportenGroups\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n    <b>medlem</b>\\n\";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <button id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Meld deg inn</button>\\n\";\n  return buffer;\n  }\n\n  buffer += \"<div>\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.dataportenGroup)),stack1 == null || stack1 === false ? stack1 : stack1.displayName)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.member), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"enrollprivacypolicy\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<a target=\\\"_blank\\\" href=\\\"\";\n  if (helper = helpers.privacypolicylink) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.privacypolicylink); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"external\\\" rel=\\\"noreferrer\\\">\\n  <span>personvernvilkårene</span>\\n  <span class=\\\"ui-icon ui-icon-extlink ui-icon-inline\\\" title=\\\"Lenker til en ekstern side.\\\"></span>\\n</a>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"footer-license\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"Lisensnivå: Illustrasjoner og filmer utviklet i regi av prosjektet:\\n<a href=\\\"http://creativecommons.org/licenses/by-nc-nd/4.0/\\\"\\n    class=\\\"external_link\\\" target=\\\"_blank\\\" rel=\\\"license\\\">\\n    <span>CC BY-NC-ND 4.0</span>\\n</a>\\nAnnet innhold utviklet i regi av prosjektet:\\n<a href=\\\"http://creativecommons.org/licenses/by-nc-sa/4.0\\\" class=\\\"external_link\\\"\\n    target=\\\"_blank\\\" rel=\\\"license\\\">\\n    <span>CC BY-NC-SA 4.0</span>\\n</a>\\n<br>\\n\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"footer\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n             <a  target=\\\"_blank\\\" class=\\\"external_link\\\"  href=\\\"https://\";\n  if (helper = helpers.homeOrganization) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.homeOrganization); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.homeOrganization) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.homeOrganization); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n            \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n            | <a  target=\\\"_blank\\\" class=\\\"external_link\\\" href=\\\"\";\n  if (helper = helpers.privacyPolicyLink) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.privacyPolicyLink); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Personvernvilkår</a>\\n            \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n             | Kontakt oss: <a  target=\\\"_blank\\\" class=\\\"external_link\\\"  href=\\\"mailto:\";\n  if (helper = helpers.contactPoint) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.contactPoint); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.contactPoint) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.contactPoint); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n            \";\n  return buffer;\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n             | <a  target=\\\"_blank\\\" class=\\\"external_link\\\"  href=\\\"\";\n  if (helper = helpers.about) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.about); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Om denne plattformen</a>\\n            \";\n  return buffer;\n  }\n\n  buffer += \"<footer role=\\\"contentinfo\\\" id=\\\"mmooc-footer\\\" class=\\\"ic-app-footer\\\">\\n    <div class=\\\"mmooc-license\\\">\\n        <p id=\\\"mmoocLicense\\\" class=\\\"public-license-text\\\"></p>\\n        <p class=\\\"public-license-text\\\">\\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.homeOrganization), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.privacyPolicyLink), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.contactPoint), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.about), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            </div>\\n        </p>\\n    </div>\\n</footer>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"groupdiscussionGetHelpFromTeacher\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"getTeachersHelpContainer\\\">\\n    <div class=\\\"tooltip_below\\\">\\n        <button type=\\\"button\\\" id=\\\"mmooc-get-teachers-help\\\" class=\\\"btn btn-primary getTeachersHelp\\\">Tilkall veileder</button>\\n        <div class=\\\"tooltiptext\\\">\\n            \";\n  if (helper = helpers.hoverOverText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.hoverOverText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n        </div>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"groupdiscussionheader\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"mmooc-group-header\\\">\\n    <div id=\\\"mmooc-group-members\\\">\\n        <div class=\\\"mmooc-back-button\\\">\\n            <a href=\\\"/groups/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.group)),stack1 == null || stack1 === false ? stack1 : stack1.id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/discussion_topics\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.group)),stack1 == null || stack1 === false ? stack1 : stack1.name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</a>\\n        </div>\\n    </div>\\n    <div id=\\\"mmooc-group-links\\\">\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"groupheader\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n            <div class=\\\"mmooc-group-member\\\">\\n                <div class=\\\"mmooc-group-member-avatar\\\" style=\\\"background-image: url('\";\n  if (helper = helpers.avatar_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.avatar_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"')\\\"></div>\\n                <div class=\\\"mmooc-group-member-link\\\">\\n                    <a href=\\\"/about/\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n                </div>\\n            </div>\\n            \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-back-button\\\">\\n    <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.courseId), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.courseId), options)))\n    + \"/groups\\\">Tilbake til gruppeliste</a>\\n</div>\\n<div id=\\\"mmooc-group-header\\\">\\n    <div id=\\\"mmooc-group-members\\\">\\n        <p>\\n            <b>Gruppemedlemmer</b>\\n        </p>\\n        <div class=\\\"mmooc-group-members-list\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.members), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </div>\\n    </div>\\n    <div id=\\\"mmooc-group-links\\\">\\n        <p>\\n            <a target=\\\"_new\\\" href=\\\"https://connect.uninett.no/uit-videorom-matematikkmooc-\";\n  if (helper = helpers.groupId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.groupId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"external\\\">\\n                <b>Videorom for gruppa</b>\\n                <span class=\\\"ui-icon ui-icon-extlink ui-icon-inline\\\" title=\\\"Lenker til en ekstern side.\\\"></span>\\n            </a>\\n        </p>\\n    </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"informationpane\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, self=this, functionType=\"function\", escapeExpression=this.escapeExpression;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n    <div id=\\\"masquerade_bar\\\" class=\\\"ic-alert-masquerade-student-view_2\\\">\\n      <div class=\\\"ic-alert-masquerade-student-view-module ic-alert-masquerade-student-view-module--header_2\\\">\\n        <div class=\\\"ic-image-text-combo_\\\">\\n          <div class=\\\"ic-image-text-combo__text_notificationtouser\\\">\\n  \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.feedback), {hash:{},inverse:self.program(6, program6, data),fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  \n  return \"\\n      <div id=\\\"masquerade_bar\\\" class=\\\"ic-alert-masquerade-student-view_2\\\">\\n        <div class=\\\"ic-alert-masquerade-student-view-module ic-alert-masquerade-student-view-module--header_2\\\">\\n          <div class=\\\"ic-image-text-combo_\\\">\\n            <div class=\\\"ic-image-text-combo__text_notificationtouser\\\">\\n    \";\n  }\n\nfunction program6(depth0,data) {\n  \n  \n  return \"\\n       <div id=\\\"masquerade_bar\\\" class=\\\"ic-alert-masquerade-student-view\\\">\\n        <div class=\\\"ic-alert-masquerade-student-view-module ic-alert-masquerade-student-view-module--header\\\">\\n          <div class=\\\"ic-image-text-combo\\\">\\n            <i class=\\\"icon-student-view\\\"></i>\\n            <div class=\\\"ic-image-text-combo__text\\\">\\n    \";\n  }\n\nfunction program8(depth0,data) {\n  \n  \n  return \"\\n    Du er meldt inn i et fylke og/eller en kommune som har fått nytt kommunenummer.\\n    <span class=\\\"tooltip tooltip-underline\\\"> Les mer.<span style=\\\"font-weight:normal;color:black\\\"\\n        class=\\\"tooltiptext\\\">\\n\\n        <p>\\n          Velg tilhørighet på nytt\\n          i \\\"Rolle og grupper\\\"-fanen.\\n        </p>\\n        <p>\\n          Vær oppmerksom på at dersom du ønsker å ta vare på diskusjonsinnleggene fra gamle grupper, må disse\\n          kopieres til et tekstdokument,\\n          før du velger ny tilhørighet.\\n        </p>\\n    </span></span>\\n    <br />\\n  \";\n  }\n\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    \";\n  if (helper = helpers.alertMsg) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.alertMsg); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n  \";\n  return buffer;\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \"\\n    Du er inne i dette emnet som observatør. Du vil ikke kunne levere inn oppgaver, bidra i diskusjoner\\n    eller se\\n    hva andre har bidratt med.\\n    <br />\\n  \";\n  }\n\nfunction program14(depth0,data) {\n  \n  \n  return \"\\n    PfDK-MOOC er opprinnelig en lukket videreutdanning for lærere. Dette er den åpne versjonen. Du ser alt\\n    det\\n    faglige innhold, men kan ikke levere oppgaver, diskutere i forum eller få veiledning.\\n    Ønsker du mer informasjon om videreutdanningen, se\\n    <a class=\\\"icon-link\\\" style=\\\"color:white\\\" href=\\\"https://www.hvl.no/studier/studieprogram/pfdk/\\\"\\n      target=\\\"_blank\\\">hvl.no</a>\\n    eller\\n    <a class=\\\"icon-link\\\" style=\\\"color:white\\\"\\n      href=\\\"(https://www.usn.no/studier/finn-studier/larer-lektor-og-pedagogikk/videreutdanning-i-profesjonsfaglig-digital-kompetanse-for-larere/\\\"\\n      target=\\\"_blank\\\">usn.no</a>\\n    <br />\\n  \";\n  }\n\nfunction program16(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    NB! Denne kompetansepakken ble sist vedlikeholdt \";\n  if (helper = helpers.unmaintainedSince) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.unmaintainedSince); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n  \";\n  return buffer;\n  }\n\nfunction program18(depth0,data) {\n  \n  \n  return \"\\n    <a style=\\\"color: rgb(0, 0, 0);\\\"> Vil du være med på </a>\\n    <span class=\\\"tooltip tooltip-underline\\\"><a style=\\\"color: black;\\\">brukertesting?</a>\\n    <spanstyle=\\\"font-weight:normal;color:black\\\" class=\\\"tooltiptext\\\">\\n        <p>\\n            Utdanningsdirektoratet trenger dine tilbakemeldinger på hvordan du opplever kompetansepakkene. Kan du hjelpe oss? Vi trenger innsikt i hvordan du/dere bruker pakken, hva dere opplever som styrker og hva dere kunne ønske var annerledes. Samt tilbakemelding på ny funksjonalitet. \\n        </p>\\n        <p>Din tilbakemelding kan gjøre oss bedre! \\n        </p>\\n      </span></span>\\n    <button class=\\\"button_notificationtouser button_nottouser\\\" onclick=\\\"window.location.href='https://forms.office.com/Pages/ResponsePage.aspx?id=04XRjKY6lEWDPaBY2rtbbYlKoW2pvuFMksRihjhWMl9URFNDM0ZBNk1QT0Y4NTVHSktQVUtOSVlaTS4u'\\\">Meld deg på!</button>\\n    <br />\\n  \";\n  }\n\nfunction program20(depth0,data) {\n  \n  \n  return \"\\n    <a style=\\\"color: rgb(0, 0, 0);\\\"> Har du 3 – 5 minutter til en brukerundersøkelse om innholdet i pakken?  </a>\\n      </span></span>\\n    <button class=\\\"button_notificationtouser button_nottouser\\\" onclick=\\\"window.location.href='https://bibsys.instructure.com/courses/311/modules/items/32671'\\\">Gi oss din tilbakemelding</button>\\n    <br />\\n  \";\n  }\n\n  buffer += \"\\n<div id=\\\"fixed_bottom\\\">\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.notificationtouser), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.expiredCommunity), {hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.alertMsg), {hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.observer), {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.pfdk), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.unmaintainedSince), {hash:{},inverse:self.noop,fn:self.program(16, program16, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.notificationtouser), {hash:{},inverse:self.noop,fn:self.program(18, program18, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n  \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.feedback), {hash:{},inverse:self.noop,fn:self.program(20, program20, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"loginInfo\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"uob-info\\\">For å logge inn her må du være påmeldt minst en kompetansepakke. Se <a href=\\\"https://kompetanse.udir.no\\\">forsiden til kompetanse.udir.no</a>.</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"loginPopup\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"login-box\\\">\\n  <div class=\\\"login-box__upper\\\">\\n    <p class=\\\"login-box__text\\\">\";\n  if (helper = helpers.logInText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n    <div class=\\\"login-box__close\\\"></div>\\n  </div>\\n  <div class=\\\"login-box__lower\\\">\\n    <a aria-label=\\\"enroll\\\"  class=\\\"mmooc-button mmooc-button-primary\\\" href=\\\"/courses?login=1&design=udir\\\">&nbsp;\\n    </a>\\n    <a class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/login/canvas?normalLogin=1&design=udir\\\">\\n      \";\n  if (helper = helpers.logInCanvasText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInCanvasText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </a>\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"moduleitems\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<div class=\\\"header translate\\\">\\n    \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n</div>\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <nav aria-label=\\\"content\\\" role=\\\"navigation\\\">\\n        <ul class=\\\"mmooc-module-items\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n    </nav>\\n\";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \\n                \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.indent), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(23, program23, data),fn:self.program(5, program5, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                        </ul>\\n                        <ul class=\\\"mmooc-module-items \\n                                            \";\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.program(8, program8, data),fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                            \\\" />\\n                            <li class=\\\"mmooc-module-item-reveal\\\">\\n                                <a class=\\\"mmooc-reveal-trigger\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(13, program13, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" href=\\\"#mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                    <span class=\\\"mmooc-module-items-icons-page \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.done), {hash:{},inverse:self.noop,fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                                        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.program(19, program19, data),fn:self.program(17, program17, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                            </i>\\n                                    </span>\\n                                    <span class=\\\"mmooc-module-item-title mmooc-module-item-header-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                                </a>\\n                            </li>\\n                        </ul>\\n                        <ul \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(21, program21, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" id=\\\"mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items\\\">\\n                    \";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-first\\n                                            \";\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.last), {hash:{},inverse:self.program(11, program11, data),fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                            \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-last\\n                                            \";\n  }\n\nfunction program11(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header\\n                                                \";\n  }\n\nfunction program13(depth0,data) {\n  \n  \n  return \" id=\\\"mmooc-module-item-active-header\\\" \";\n  }\n\nfunction program15(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program17(depth0,data) {\n  \n  \n  return \"\\n                                        <i class=\\\"icon-mini-arrow-down\\\">\\n                                            \";\n  }\n\nfunction program19(depth0,data) {\n  \n  \n  return \"\\n                                            <i class=\\\"icon-mini-arrow-right\\\">\\n                                                \";\n  }\n\nfunction program21(depth0,data) {\n  \n  \n  return \"style=\\\"display:none\\\" \";\n  }\n\nfunction program23(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                        <li class=\\\"mmooc-module-item mmooc-module-item-icon\\\">\\n                            <a class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrent), {hash:{},inverse:self.noop,fn:self.program(24, program24, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                <span class=\\\"mmooc-module-item-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                                <span class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(26, program26, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                    <i class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\">\\n                                    </i>\\n                                </span>\\n                            </a>\\n                        </li>\\n                    \";\n  return buffer;\n  }\nfunction program24(depth0,data) {\n  \n  \n  return \"active\";\n  }\n\nfunction program26(depth0,data) {\n  \n  \n  return \" done\";\n  }\n\n  buffer += \"<div class=\\\"mmooc-module-items-back-to-course-button mmooc-back-button\\\">\\n    <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.courseId), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.courseId), options)))\n    + \"\\\">\";\n  if (helper = helpers.backToCoursePage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.backToCoursePage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\\n\\n\";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.module), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"moduleitemsprincipal\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n<div class=\\\"header translate\\\">\\n    \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n</div>\\n\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n    <nav aria-label=\\\"content\\\" role=\\\"navigation\\\">\\n        <ul class=\\\"mmooc-module-items\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n    </nav>\\n\";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \" \\n                \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(22, program22, data),fn:self.program(4, program4, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n            \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                    </ul>\\n                    <ul class=\\\"mmooc-module-items \\n                                        \";\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.program(7, program7, data),fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        \\\" />\\n                        <li class=\\\"mmooc-module-item-reveal\\\">\\n                            <a class=\\\"mmooc-reveal-trigger\\\" \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" href=\\\"#mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                <span class=\\\"mmooc-module-items-icons-page \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.done), {hash:{},inverse:self.noop,fn:self.program(14, program14, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n                                    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.program(18, program18, data),fn:self.program(16, program16, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        </i>\\n                                </span>\\n                                <span class=\\\"mmooc-module-item-title mmooc-module-item-header-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                            </a>\\n                        </li>\\n                    </ul>\\n                    <ul \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.isCurrentHeader), {hash:{},inverse:self.noop,fn:self.program(20, program20, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" id=\\\"mmooc-reveal-\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items\\\">\\n                \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-first\\n                                        \";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  stack1 = helpers['if'].call(depth0, (data == null || data === false ? data : data.last), {hash:{},inverse:self.program(10, program10, data),fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header-last\\n                                        \";\n  }\n\nfunction program10(depth0,data) {\n  \n  \n  return \" mmooc-module-items-header\\n                                            \";\n  }\n\nfunction program12(depth0,data) {\n  \n  \n  return \" id=\\\"mmooc-module-item-active-header\\\" \";\n  }\n\nfunction program14(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program16(depth0,data) {\n  \n  \n  return \"\\n                                    <i class=\\\"icon-mini-arrow-down\\\">\\n                                        \";\n  }\n\nfunction program18(depth0,data) {\n  \n  \n  return \"\\n                                        <i class=\\\"icon-mini-arrow-right\\\">\\n                                            \";\n  }\n\nfunction program20(depth0,data) {\n  \n  \n  return \"style=\\\"display:none\\\" \";\n  }\n\nfunction program22(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                    <li class=\\\"mmooc-module-item mmooc-module-item-icon\\\">\\n                        <a class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isCurrent), {hash:{},inverse:self.noop,fn:self.program(23, program23, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                            <span class=\\\"mmooc-module-item-title translate\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                            <span class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(25, program25, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                <i class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\">\\n                                    \";\n  options={hash:{},inverse:self.noop,fn:self.program(27, program27, data),data:data}\n  if (helper = helpers.ifIsIndented) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifIsIndented); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifIsIndented) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(27, program27, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                </i>\\n                            </span>\\n                        </a>\\n                    </li>\\n                \";\n  return buffer;\n  }\nfunction program23(depth0,data) {\n  \n  \n  return \"active\";\n  }\n\nfunction program25(depth0,data) {\n  \n  \n  return \" done\";\n  }\n\nfunction program27(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                                        <div class=\\\"mmooc-icon-principal-tag\\n                                            \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.program(30, program30, data),fn:self.program(28, program28, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                        \\\">\\n                                            <div class=\\\"mmooc-icon-principal-symbol\\\"></div>\\n                                        </div> \\n                                    \";\n  return buffer;\n  }\nfunction program28(depth0,data) {\n  \n  \n  return \" \\n                                                done\\n                                            \";\n  }\n\nfunction program30(depth0,data) {\n  \n  \n  return \"\\n                                                not_done\\n                                            \";\n  }\n\n  buffer += \"<div class=\\\"mmooc-module-items-back-to-course-button mmooc-back-button\\\">\\n    <a href=\\\"\"\n    + escapeExpression((helper = helpers.urlForCourseId || (depth0 && depth0.urlForCourseId),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.courseId), options) : helperMissing.call(depth0, \"urlForCourseId\", (depth0 && depth0.courseId), options)))\n    + \"\\\">\";\n  if (helper = helpers.backToCoursePage) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.backToCoursePage); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n</div>\\n\\n\";\n  stack1 = helpers['with'].call(depth0, (depth0 && depth0.module), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"modules\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <div class=\\\"mmooc-module\\\">\\n        <h2 class=\\\"light\\\">\\n            <a class=\\\"mmooc-module-name\\\" href=\\\"\"\n    + escapeExpression((helper = helpers.urlForFirstNoneCompleteItem || (depth0 && depth0.urlForFirstNoneCompleteItem),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.items), options) : helperMissing.call(depth0, \"urlForFirstNoneCompleteItem\", (depth0 && depth0.items), options)))\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n        </h2>\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n            <ul class=\\\"mmooc-module-items-icons\\\">\\n                \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n            </ul>\\n        \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \\n                    \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.indent), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                        \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(8, program8, data),fn:self.program(5, program5, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                    \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \\n                            \";\n  stack1 = helpers.unless.call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \\n                        \";\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  \n  return \" \\n                            \";\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                            <li class=\\\"mmooc-module-item-icon\\\">\\n                                <div class=\\\"tooltip\\\">\\n                                    <a aria-label=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \\n                                                \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                        <i aria-hidden=\\\"true\\\" class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\"></i>\\n                                        \";\n  stack1 = (helper = helpers.ifItemTypeDiscussion || (depth0 && depth0.ifItemTypeDiscussion),options={hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"ifItemTypeDiscussion\", (depth0 && depth0.type), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                    </a>\\n                                    <div class=\\\"tooltiptext\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n                                </div>\\n                            </li>\\n                        \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program11(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                                        <div class=\\\"discussion-unread-tag discussion-id-\"\n    + escapeExpression(((stack1 = (depth0 && depth0.content_id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\"></div>\\n                                        \";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"mmooc-modules\\\">\\n    <h2 class=\\\"h3\\\">\";\n  if (helper = helpers.coursemodules) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.coursemodules); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.modules), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"modulesprincipal\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n    <div class=\\\"mmooc-module\\\">\\n        <h2 class=\\\"light\\\">\\n            <a class=\\\"mmooc-module-name\\\" href=\\\"\"\n    + escapeExpression((helper = helpers.urlForFirstNoneCompletePrincipalItem || (depth0 && depth0.urlForFirstNoneCompletePrincipalItem),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.items), options) : helperMissing.call(depth0, \"urlForFirstNoneCompletePrincipalItem\", (depth0 && depth0.items), options)))\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</a>\\n        </h2>\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </div>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <ul class=\\\"mmooc-module-items-icons\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n        \";\n  return buffer;\n  }\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \" \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.program(7, program7, data),fn:self.program(4, program4, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), \"SubHeader\", options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.type), \"SubHeader\", options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \" \";\n  stack1 = helpers.unless.call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  \n  return \" \";\n  }\n\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n            <li class=\\\"mmooc-module-item-icon\\\">\\n                <div class=\\\"tooltip\\\">\\n                    <a aria-label=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-module-items-icons-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \\n                                 \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" href=\\\"\";\n  if (helper = helpers.html_url) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.html_url); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                        <i aria-hidden=\\\"true\\\" class=\\\"icon-\"\n    + escapeExpression((helper = helpers.mapItemType || (depth0 && depth0.mapItemType),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"mapItemType\", (depth0 && depth0.type), options)))\n    + escapeExpression((helper = helpers.overrideIconClassByTitle || (depth0 && depth0.overrideIconClassByTitle),options={hash:{},data:data},helper ? helper.call(depth0, (depth0 && depth0.title), options) : helperMissing.call(depth0, \"overrideIconClassByTitle\", (depth0 && depth0.title), options)))\n    + \"\\\"></i>\\n                        \";\n  stack1 = (helper = helpers.ifItemTypeDiscussion || (depth0 && depth0.ifItemTypeDiscussion),options={hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.type), options) : helperMissing.call(depth0, \"ifItemTypeDiscussion\", (depth0 && depth0.type), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        \";\n  options={hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data}\n  if (helper = helpers.ifIsIndented) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.ifIsIndented); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.ifIsIndented) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(12, program12, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"                    \\n                    </a>\\n                    <div class=\\\"tooltiptext\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n                </div>\\n            </li>\\n            \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  \n  return \"done\";\n  }\n\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                        <div class=\\\"discussion-unread-tag discussion-id-\"\n    + escapeExpression(((stack1 = (depth0 && depth0.content_id)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\"></div>\\n                        \";\n  return buffer;\n  }\n\nfunction program12(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                            <div class=\\\"mmooc-icon-principal-tag\\n                                \";\n  stack1 = (helper = helpers.ifItemIsCompleted || (depth0 && depth0.ifItemIsCompleted),options={hash:{},inverse:self.program(15, program15, data),fn:self.program(13, program13, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.completion_requirement), options) : helperMissing.call(depth0, \"ifItemIsCompleted\", (depth0 && depth0.completion_requirement), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                            \\\">\\n                                <div class=\\\"mmooc-icon-principal-symbol\\\"></div>\\n                            </div> \\n                        \";\n  return buffer;\n  }\nfunction program13(depth0,data) {\n  \n  \n  return \"\\n                                    done\\n                                \";\n  }\n\nfunction program15(depth0,data) {\n  \n  \n  return \"\\n                                    not_done\\n                                \";\n  }\n\n  buffer += \"<div class=\\\"mmooc-modules\\\">\\n    <h2 class=\\\"h3\\\">\";\n  if (helper = helpers.coursemodules) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.coursemodules); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.modules), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"navigateToPreviousPage\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<nav class=\\\"mmooc-module-items-back-to-course-button mmooc-back-button\\\">\\n    <span href=\\\"#\\\" onclick=\\\"mmooc.util.goBack()\\\">\\n        \";\n  if (helper = helpers.linkText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.linkText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </span>\\n</nav>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"noLoggedInHeader\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-header\\\">\\n  <button class=\\\"mmooc-header__login-button\\\">\";\n  if (helper = helpers.logInText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</button>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"noLoggedInHeaderMobile\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<button class=\\\"mmooc-header__login-button\\\">\";\n  if (helper = helpers.logInText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.logInText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</button>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"notifications\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<a href=\\\"/profile/communication?design=udir\\\" class=\\\"edit_settings_link btn button-sidebar-wide\\\">\\n  <i class=\\\"icon-edit\\\"></i> Rediger varslingsinnstillinger</a>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/account-picker\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n      <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<div>\\n  <form>\\n    <select name=\\\"account\\\">\\n      <option value=\\\"\\\">Choose the account...</option>\\n      \";\n  options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}\n  if (helper = helpers.accounts) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.accounts); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.accounts) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </select>\\n  </form>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/assign-process\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <tr id=\\\"mmpf-assign-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n      <td>\";\n  if (helper = helpers.group_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.group_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td>\";\n  if (helper = helpers.user_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.user_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td class=\\\"status waiting\\\">Waiting</td>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<table>\\n  <thead>\\n    <tr>\\n      <th>Group ID</th>\\n      <th>Student ID</th>\\n      <th>Status</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.assigns), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </tbody>\\n  <table>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/assign\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<form>\\n  <dl>\\n    <dt>\\n      <label for=\\\"csv\\\">Upload CSV file</label>\\n    </dt>\\n    <dd>\\n      <input type=\\\"file\\\" name=\\\"csv\\\">\\n    </dd>\\n  </dl>\\n  <input type=\\\"submit\\\" />\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>group_id [Integer]\\n        <dd>The group ID\\n          <dt>user_id [String]\\n            <dd>The FEIDE user ID\\n    </dl>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/course-groups\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\">No courses defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a course</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select id=\\\"mmpf-course-select\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <select name=\\\"category\\\" onchange=\\\"$('.step-3').css('display', 'list-item')\\\">\\n          <option value=\\\"\\\">No group sets defined for course</option>\\n        </select>\\n        <li class=\\\"step-3\\\">\\n          <input type=\\\"file\\\" name=\\\"csv\\\" onchange=\\\"$('.step-4').css('display', 'list-item')\\\">\\n          <li class=\\\"step-4\\\">\\n            <input type=\\\"submit\\\" />\\n  </ol>\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>name [String]\\n        <dd>The name of the group\\n          <dt>description [String]\\n            <dd>A description of the group\\n    </dl>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/group-category\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\">No group sets defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a group set</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.categories), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select name=\\\"category\\\" onchange=\\\"$('.step-2').css('display', 'list-item')\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.categories), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <input type=\\\"file\\\" name=\\\"csv\\\" onchange=\\\"$('.step-3').css('display', 'list-item')\\\">\\n        <li class=\\\"step-3\\\">\\n          <input type=\\\"submit\\\" />\\n  </ol>\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>name [String]\\n        <dd>The name of the group\\n          <dt>description [String]\\n            <dd>A description of the group\\n    </dl>\\n</div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/groups-process\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, blockHelperMissing=helpers.blockHelperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <tr id=\\\"mmpf-group-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n      <td>\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td>\";\n  if (helper = helpers.description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td class=\\\"status waiting\\\">Waiting</td>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<table>\\n  <thead>\\n    <tr>\\n      <th>Name</th>\\n      <th>Description</th>\\n      <th>Status</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    \";\n  options={hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}\n  if (helper = helpers.groups) { stack1 = helper.call(depth0, options); }\n  else { helper = (depth0 && depth0.groups); stack1 = typeof helper === functionType ? helper.call(depth0, options) : helper; }\n  if (!helpers.groups) { stack1 = blockHelperMissing.call(depth0, stack1, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data}); }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </tbody>\\n  <table>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/head\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-power-functions\\\">\\n  <h1 class=\\\"xl\\\">Power Functions</h1>\\n  <h2>\";\n  if (helper = helpers.heading) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.heading); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n  <p>\\n    <a href=\\\"/?mmpf\\\">Back</a>\\n  </p>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/headteacher\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mmooc-power-functions\\\">\\r\\n  <h1 class=\\\"xl\\\">Power Functions</h1>\\r\\n  <h2>\";\n  if (helper = helpers.heading) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.heading); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/list-groups\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n<p>No groups found for account</p>\\n\";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n<table>\\n  <tr>\\n    <th>ID</th>\\n    <th>Name</th>\\n    <th>Description</th>\\n  </tr>\\n  \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.groups), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</table>\\n\";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n  <tr>\\n    <td class=\\\"right\\\">\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n    <td>\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n    <td>\";\n  if (helper = helpers.description) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.description); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n  </tr>\\n  \";\n  return buffer;\n  }\n\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.groups), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { return stack1; }\n  else { return ''; }\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/logins-process\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <tr id=\\\"mmpf-logins-\"\n    + escapeExpression(((stack1 = (data == null || data === false ? data : data.index)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\">\\n      <td>\";\n  if (helper = helpers.user_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.user_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td>\";\n  if (helper = helpers.login_id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.login_id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</td>\\n      <td class=\\\"status waiting\\\">Waiting</td>\\n      \";\n  return buffer;\n  }\n\n  buffer += \"<table>\\n  <thead>\\n    <tr>\\n      <th>User ID</th>\\n      <th>Login ID</th>\\n      <th>Status</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.logins), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </tbody>\\n  <table>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/logins\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<form>\\n  <dl>\\n    <dt>\\n      <label for=\\\"csv\\\">Upload CSV file</label>\\n    </dt>\\n    <dd>\\n      <input type=\\\"file\\\" name=\\\"csv\\\">\\n    </dd>\\n  </dl>\\n  <input type=\\\"submit\\\" />\\n</form>\\n\\n<div class=\\\"side-information\\\">\\n  <h3>Decription of CSV format</h3>\\n  <p>First line of the file must be the name of the columns. Column separators are commas. Fields optionally encloused by double\\n    quotes (\\\").\\n    <dl>\\n      <dt>current_id [String]\\n        <dd>The current FEIDE user ID\\n          <dt>new_id [String]\\n            <dd>The new FEIDE user ID\\n    </dl>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/main\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"mmooc-pf-main\\\">\\n\t<h3>Teacher functions</h3>\\n\t<div class=\\\"mmooc-pf-list\\\">\\n\t\t<div id=\\\"mmooc-pf-peer-review-btn\\\" class=\\\"item\\\">Peer review</div>\\n\t\t<div id=\\\"mmooc-pf-student-progress-btn\\\" class=\\\"item\\\">Student progress</div>\\n\t</div>\\n\t<h3>Administrator functions</h3>\\n\t<div class=\\\"mmooc-pf-list\\\">\\n\t\t<div id=\\\"mmooc-pf-list-group-btn\\\" class=\\\"item\\\">List groups</div>\\n\t\t<div id=\\\"mmooc-pf-group-btn\\\" class=\\\"item\\\">Create account groups</div>\\n\t\t<div id=\\\"mmooc-pf-course-group-btn\\\" class=\\\"item\\\">Create course groups</div>\\n\t\t<div id=\\\"mmooc-pf-assign-btn\\\" class=\\\"item\\\">Assign students to groups</div>\\n\t\t<div id=\\\"mmooc-pf-logins-btn\\\" class=\\\"item\\\">Add new logins</div>\\n\t</div>\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/mainteacher\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"mmooc-pf-main\\\">\\r\\n\t<h3>Teacher functions</h3>\\r\\n\t<div class=\\\"mmooc-pf-list\\\">\\r\\n\t\t<div id=\\\"mmooc-pf-peer-review-btn\\\" class=\\\"item\\\">Peer review</div>\\r\\n\t\t<div id=\\\"mmooc-pf-student-progress-btn\\\" class=\\\"item\\\">Student progress</div>\\r\\n\t</div>\\r\\n</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/peer-review\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\" disabled>No courses defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a course</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select id=\\\"mmpf-course-select\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <select id=\\\"mmpf-category-select\\\" name=\\\"category\\\">\\n          <option value=\\\"\\\" disabled>No group sets defined for course</option>\\n        </select>\\n        <li class=\\\"step-3\\\">\\n          <select id=\\\"mmpf-group-select\\\" name=\\\"group\\\" multiple>\\n            <option value=\\\"\\\" disabled>No groups defined for course</option>\\n          </select>\\n          <li class=\\\"step-4\\\">\\n            <select id=\\\"mmpf-assignment-select\\\" name=\\\"assignment\\\">\\n              <option value=\\\"\\\" disabled>No assignments defined for course</option>\\n            </select>\\n  </ol>\\n  <div class=\\\"assignment-info\\\"></div>\\n  <div class=\\\"progress-info\\\"></div>\\n  <div id=\\\"progress\\\">\\n    <div id=\\\"bar\\\"></div>\\n  </div>\\n  <div class=\\\"peer-review-list\\\"></div>\\n  <div class=\\\"peer-review-create\\\"></div>\\n</form>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/student-progress\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n        <option value=\\\"\\\">No courses defined for account</option>\\n        \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <option value=\\\"\\\">Choose a course</option>\\n        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \" \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <option value=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</option>\\n        \";\n  return buffer;\n  }\n\n  buffer += \"<form>\\n  <ol>\\n    <li class=\\\"step-1\\\">\\n      <select id=\\\"mmpf-course-select\\\">\\n        \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.courses), {hash:{},inverse:self.program(3, program3, data),fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n      </select>\\n      <li class=\\\"step-2\\\">\\n        <select id=\\\"mmpf-section-select\\\" name=\\\"section\\\">\\n          <option value=\\\"\\\">No sections defined for course</option>\\n        </select>\\n        <li class=\\\"step-3\\\">\\n          <select id=\\\"mmpf-module-select\\\" name=\\\"module\\\">\\n            <option value=\\\"\\\">No modules defined for course</option>\\n          </select>\\n  </ol>\\n  <div id=\\\"progress\\\">\\n    <div id=\\\"bar\\\"></div>\\n  </div>\\n  <div class=\\\"student-progress-table\\\"></div>\\n</form>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"powerfunctions/tail\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"</div>\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"privacyPolicyChanged\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"kompetansePortalPrivacyPolicyBox\\\" class=\\\"privacyPolicyBox\\\">\\n    <div class=\\\"privacyPolicyBox__upper\\\">\\n    <div class=\\\"privacyPolicyBox__text\\\">\\n        <div class=\\\"privacyPolicyHeading\\\">Endring i personvern- og brukervilkår</div>\\n    </div>\\n    </div>\\n    <div class=\\\"privacyPolicyBox__privacyPolicyInfo\\\">\\n        Vi har oppdatert våre personvern- og brukervilkår og du må godkjenne disse før du kan fortsette å jobbe i kompetanseportalen.\\n    </div>\\n    <div class=\\\"privacyPolicyBox__privacyPolicyCheck\\\">\\n        <input type=\\\"checkbox\\\" id=\\\"kompetansePortalPrivacyPolicy\\\" name=\\\"kompetansePortalPrivacyPolicy\\\" value=\\\"true\\\">\\n        <label for=\\\"kompetansePortalPrivacyPolicy\\\"> Jeg godtar\\n            <a href=\\\"\";\n  if (helper = helpers.privacyPolicyLink) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.privacyPolicyLink); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"external\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopener\\\">\\n                <span>personvern- og brukervilkårene</span>\\n                    <span aria-hidden=\\\"true\\\" class=\\\"ui-icon ui-icon-extlink ui-icon-inline\\\" title=\\\"Lenker til eit ekstern område.\\\"></span>\\n                <span class=\\\"screenreader-only\\\">&nbsp;(Lenker til eit ekstern område.)</span>\\n            </a>      \\n    </label>\\n    </div>            \\n    <div class=\\\"privacyPolicyBox__lower\\\">\\n        <button disabled=\\\"true\\\" id=\\\"kompetansePortalPrivacyPolicyButton\\\" class=\\\"btn btn-primary\\\" type=\\\"submit\\\">Lagre</button>\\n    </div>\\n        <div class=\\\"informationPane\\\">\\n        Dersom du ikke godtar vilkårene kan du be om å få slettet din bruker ved å sende epost til <a href=\\\"mailto:kompetansesupport@udir.no\\\">kompetansesupport@udir.no</a> med \\\"Slett meg\\\" i \\n        tittelfeltet fra epostadressen til brukeren du ønsker å slette.                 \\n\\n        </div>\\n</div>\\n\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"registerPopup\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \"\\n      <div class=\\\"login-box__close\\\"></div>\\n    \";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n      <a aria-label=\\\"enroll\\\"  class=\\\"mmooc-button mmooc-button-primary\\\" href=\\\"/search/all_courses?enroll_code=\";\n  if (helper = helpers.selfRegisterCode) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.selfRegisterCode); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.forwardTo), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">&nbsp;\\n      </a>\\n    \";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"&forwardTo=\";\n  if (helper = helpers.forwardTo) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.forwardTo); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  return buffer;\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"?forwardTo=\";\n  if (helper = helpers.forwardTo) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.forwardTo); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"login-box\\\">\\n  <div class=\\\"login-box__upper\\\">\\n    <p class=\\\"login-box__text\\\">\";\n  if (helper = helpers.RegisterText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.RegisterText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</p>\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.closeOption), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n  </div>\\n  <div class=\\\"login-box__lower\\\">\\n    \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.authenticated), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    <a class=\\\"mmooc-button mmooc-button-secondary\\\" href=\\\"/enroll/\";\n  if (helper = helpers.selfRegisterCode) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.selfRegisterCode); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.forwardTo), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n      \";\n  if (helper = helpers.RegisterWithCanvasText) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.RegisterWithCanvasText); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n    </a>\\n  </div>\\n</div>\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"statistics\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<h2>Statistikk - \";\n  if (helper = helpers.name) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.name); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h2>\\n<div id=\\\"\";\n  if (helper = helpers.graphicId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.graphicId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></div>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"transcriptMenu\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data,depth1) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        <option value=\\\"\"\n    + escapeExpression(((stack1 = (depth0 && depth0.language)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" \\n        \";\n  stack1 = (helper = helpers.ifEquals || (depth0 && depth0.ifEquals),options={hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data},helper ? helper.call(depth0, (depth0 && depth0.language), (depth1 && depth1.selectedLanguage), options) : helperMissing.call(depth0, \"ifEquals\", (depth0 && depth0.language), (depth1 && depth1.selectedLanguage), options));\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        >\"\n    + escapeExpression(((stack1 = (depth0 && depth0.label)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</option>\\n        \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"\\n            selected\\n        \";\n  }\n\n  buffer += \"        \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.languageTracks), {hash:{},inverse:self.noop,fn:self.programWithDepth(1, program1, data, depth0),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"uidp\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"I denne kompetansepakken benytter vi oss av rollestyring fra UIDP. For å se\\n dine roller må du logge deg på UIDP.<div>\\n <button class=\\\"button\\\" id=\\\"uidpPopupLogin\\\">Login UIDP</button>\\n </div>\\n\";\n  });\n\nthis[\"mmooc\"][\"templates\"][\"usermenu\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <li class=\\\"mmooc-menu-item\\\">\\n        <a href=\\\"/conversations\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"mmooc-menu-item-title conversations\\\">\\n            <span id=\\\"mmooc-unread-messages-count\\\"></span>\\n        </a>\\n    </li>\\n    \";\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  \n  return \"\\n        <li class=\\\"mmooc-menu-item\\\" id=\\\"mmooc-menu-item-varsler\\\">\\n            <a href=\\\"#\\\" class=\\\"mmooc-menu-item-title notifications\\\">\\n                <span id=\\\"mmooc-notification-count\\\"></span>\\n            </a>\\n            <div class=\\\"mmooc-menu-item-drop\\\" id=\\\"mmooc-activity-stream\\\">\\n            </div>\\n        </li>\\n    \";\n  }\n\n  buffer += \"<ul id=\\\"user-menu\\\">\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.displayInboxMenu), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.alertMenuItem), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    <li class=\\\"mmooc-menu-item profile-settings\\\" id=\\\"mmooc-menu-item-profile-settings\\\">\\n        <a href=\\\"#\\\" class=\\\"mmooc-menu-item-title\\\">\\n            <div class=\\\"ic-avatar\\\" aria-hidden=\\\"true\\\">\\n                <img src=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.user)),stack1 == null || stack1 === false ? stack1 : stack1.avatar_image_url)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" alt=\\\"\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.user)),stack1 == null || stack1 === false ? stack1 : stack1.display_name)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"\\\" />\\n            </div>\\n            <i class=\\\"icon-mini-arrow-down\\\"></i>\\n        </a>\\n        <div class=\\\"mmooc-menu-item-drop\\\" id=\\\"mmooc-profile-settings\\\">\\n            <ul>\\n                <li>\\n                    <a href=\\\"/profile/settings\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Innstillinger</a>\\n                </li>\\n                <li>\\n                    <a href=\\\"/logout\";\n  if (helper = helpers.queryString) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.queryString); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">Logg ut</a>\\n                </li>\\n            </ul>\\n        </div>\\n    </li>\\n</ul>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"usermerge\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<a href=\\\"/users/\";\n  if (helper = helpers.userId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.userId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"/external_tools/\";\n  if (helper = helpers.userMergeLtiToolId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.userMergeLtiToolId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"?design=udir\\\" class=\\\"edit_settings_link btn button-sidebar-wide\\\">\\n  <i class=\\\"icon-edit\\\"></i>Slå sammen brukere</a>\";\n  return buffer;\n  });\n\nthis[\"mmooc\"][\"templates\"][\"waitIcon\"] = Handlebars.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div id=\\\"fountainG\\\">\\n    <div id=\\\"fountainG_1\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_2\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_3\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_4\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_5\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_6\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_7\\\" class=\\\"fountainG\\\">\\n    </div>\\n    <div id=\\\"fountainG_8\\\" class=\\\"fountainG\\\">\\n    </div>\\n</div>\";\n  });\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.api = (function() {\n  let _urlToTypeMapping = [];\n\n  _urlToTypeMapping['quizzes'] = 'Quiz';\n  _urlToTypeMapping['assignments'] = 'Assignment';\n  _urlToTypeMapping['discussion_topics'] = 'Discussion';\n\n  return {\n    _ajax: typeof $ !== 'undefined' ? $ : {},\n    _env: typeof ENV !== 'undefined' ? ENV : {},\n    _location:\n      typeof document !== 'undefined'\n        ? document.location\n        : { search: '', href: '' },\n    _uriPrefix: '/api/v1',\n    _defaultError(event, jqxhr, settings, thrownError) {\n      console.log(event, jqxhr, settings, thrownError);\n    },\n\n    _sendRequest(method, options = {}) {\n      const error = options.error || this._defaultError;\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n      method(uri, params, callback).fail(error);\n    },\n\n    _get(options) {\n      //this._sendRequest(this._ajax.get, options);\n\n      /*  Fix for returning student_id in response.\n       *   Needed for powerfunction _printStudentProgressForSection to list progress for correct student.\n       */\n\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n      const customError = options.error;\n\n      $.ajax({\n        url: uri,\n        type: 'GET',\n        data: params,\n        success(response) {\n          if ('student_id' in params) {\n            response = response.map(el => {\n              el.student_id = params.student_id;\n              return el;\n            });\n          }\n          if (uri.includes('/groups/') && uri.includes('/users')) {\n            const groupId = uri.split('/groups/');\n            groupId = groupId[1].split('/users');\n            groupId = parseInt(groupId[0]);\n            response = response.map(el => {\n              el.group_id = groupId;\n              return el;\n            });\n          }\n          callback(response);\n        },\n        error(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during GET');\n          if(customError) {\n            customError(XMLHttpRequest.responseText);\n          }\n        }\n      });\n    },\n\n    _post(options) {\n      this._sendRequest(this._ajax.post, options);\n    },\n\n    _put(options) {\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n\n      $.ajax({\n        url: uri,\n        type: 'PUT',\n        data: params,\n        success(response) {\n          callback(response);\n        },\n        error(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during PUT');\n        }\n      });\n    },\n\n    _delete(options) {\n      const uri = this._uriPrefix + options.uri;\n      const params = options.params || {};\n      const callback = options.callback;\n\n      $.ajax({\n        url: uri,\n        type: 'DELETE',\n        data: params,\n        success(response) {\n          callback(response);\n        },\n        error(XMLHttpRequest, textStatus, errorThrown) {\n          console.log('Error during DELETE');\n        }\n      });\n    },\n\n    /*  FIXME for listModulesForCourse()\n     *  This function loads data in a blocking manner no matter how many items and modules are present.\n     *  This could potentially pose problems in the future, as page load time increases rapidly when\n     *  the number of requests are numerous. This function should be updated to use non-blocking loading\n     *  if Canvas is not updated to allow for better data loading through their API.\n     */\n    listModulesForCourse(callback, error, cid) {\n      let href = `/api/v1/courses/${cid}/modules?per_page=100`;\n      $.getJSON(href, modules => {\n        const noOfModules = modules.length;\n        let asyncsDone = 0;\n        modules.forEach((module, index) => {\n          const href = `/api/v1/courses/${cid}/modules/${\n            module.id\n          }/items?per_page=100`;\n          $.getJSON(\n            href,\n            (function(j) {\n              return function(items) {\n                modules[j].items = items;\n                asyncsDone++;\n\n                asyncsDone === noOfModules && callback(modules);\n              };\n            })(index) // calling the function with the current value\n          );\n        });\n      });\n    },\n    getCurrentModuleItemId() {\n      let moduleId;\n      const relativeUrl = location.pathname;\n      const patt = /\\/courses\\/\\d+\\/modules\\/items\\/\\d+$/;\n      const isRelativeUrlMatching = patt.test(relativeUrl);\n      if (isRelativeUrlMatching) {\n        const n = relativeUrl.lastIndexOf('/');\n        moduleId = relativeUrl.substring(n + 1);\n      } else {\n        const paramName = 'module_item_id';\n        const q = '' + this._location.search;\n        if (typeof q === 'undefined' || q.indexOf(paramName) == -1) return null;\n\n        moduleId = q.substring(\n          q.indexOf(paramName) + paramName.length + 1,\n          q.length\n        );\n        if (moduleId.indexOf('&') != -1)\n          moduleId = moduleId.substring(0, moduleId.indexOf('&'));\n      }\n      return parseInt(moduleId, 10);\n    },\n\n    getCurrentTypeAndContentId() {\n      const contentElementRegexp = /\\/courses\\/\\d+\\/\\w+\\/\\d+/;\n      const isContentRegexp = /\\/courses\\/\\d+\\/\\w+\\/\\.*/;\n\n      var type = null;\n      var contentId = null;\n\n      if (isContentRegexp.test('' + this._location.pathname)) {\n        const tmp = this._location.pathname.split('/');\n        if (tmp.length >= 4) {\n          type = _urlToTypeMapping[tmp[3]];\n        }\n      }\n\n      if (contentElementRegexp.test('' + this._location.pathname)) {\n        const tmp = this._location.pathname.split('/');\n        if (tmp.length >= 5) {\n          contentId = parseInt(tmp[4], 10);\n        }\n      }\n\n      return { contentId: contentId, type: type };\n    },\n\n    getAllCourses(callback, error) {\n      this._get({\n        callback: function(courses) {\n          const filteredCourses = courses.filter(\n            mmooc.util.filterSearchAllCourse\n          );\n          callback(filteredCourses);\n        },\n        error: error,\n        uri: '/search/all_courses',\n        params: { per_page: 999 }\n      });\n    },\n\n    getAllPublicCourses: function(callback, error) {\n      this._get({\n        callback: function(courses) {\n          var filteredCourses = courses.filter(\n            mmooc.util.filterSearchAllCourse\n          );\n          callback(filteredCourses);\n        },\n        error: error,\n        // if not authenticated, it displays only courses with Open Enrollment enabled\n        uri: '/search/all_courses?open_enrollment_only=true',\n        params: { per_page: 999 }\n      });\n    },\n\n    getEnrolledCourses: function(callback, error) {\n      // returns empty set if a user is not authenticated\n      if (!mmooc.util.isAuthenticated()) {\n        callback([]);\n        return false;\n      }\n\n      this._get({\n        callback: function(courses) {\n          if(mmooc.settings.filterCourses) { \n            const filteredCourses = courses.filter(mmooc.util.filterCourse);\n            callback(filteredCourses);\n          } else {\n            callback(courses);\n          }\n        },\n        error: error,\n        uri: '/courses',\n        params: {\n          include: ['syllabus_body', 'course_progress'],\n          per_page: '100'\n        }\n      });\n    },\n\n    /* FIXME Regarding include items: This parameter suggests that\n     * Canvas return module items directly in the Module object\n     * JSON, to avoid having to make separate API requests for\n     * each module when enumerating modules and items. Canvas is\n     * free to omit 'items' for any particular module if it deems\n     * them too numerous to return inline. Callers must be\n     * prepared to use the List Module Items API if items are not\n     * returned.\n     */\n    getModulesForCurrentCourse(callback, error) {\n      const courseId = this.getCurrentCourseId();\n      this.listModulesForCourse(callback, error, courseId);\n    },\n\n    getModulesForCourseId(callback, error, courseId) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/modules`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getItemsForModuleId(callback, error, courseId, moduleId, params) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/modules/${moduleId}/items`,\n        params: params\n      });\n    },\n\n    getCurrentCourseId() {\n      const currentUrl = '' + this._location.pathname;\n      return mmooc.utilRoot.getCourseIdFromUrl(currentUrl);\n    },\n    getModuleItemSequence(courseId, moduleItemId, callback, error) {\n      this._get({\n        callback: function(moduleItemSequence) {callback(courseId, moduleItemSequence)},\n        error: error,\n        uri: `/courses/${courseId}/module_item_sequence`,\n        params: { asset_id: moduleItemId, asset_type: \"ModuleItem\" }\n      });\n    },\n\n    getCourse(courseId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}?include[]=self_enrollment_code`,\n        params: {}\n      });\n    },\n    //Note that in newer versions of Canvas, worked on 8.2.2019.\n    //we can use ENV to check this.\n    isGroupDiscussion: function(courseId, contentId, callback) {\n        if (typeof ENV.DISCUSSION.IS_GROUP !== 'undefined') { \n          callback(ENV.DISCUSSION.IS_GROUP);\n        } else {\n          //Fallback for older versions.            \n          this.getDiscussionTopic(courseId, contentId, function(discussion) {\n            callback(discussion.group_category_id ? true : false);\n          });\n        }\n    },\n\n    getCurrentGroupId() {\n      const currentUrl = '' + this._location.pathname;\n      const matches = currentUrl.match(/\\/groups\\/(\\d+)/);\n      if (matches != null) {\n        return parseInt(matches[1], 10);\n      }\n      return null;\n    },\n\n    getGroup(groupId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/groups/${groupId}`,\n        params: {}\n      });\n    },\n\n    getGroupMembers(groupId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/groups/${groupId}/users`,\n        params: { include: ['avatar_url'], per_page: 999 }\n      });\n    },\n\n    getCurrentModuleForItemOrTypeAndContentId(\n      moduleItemId,\n      typeAndContentId,\n      callback,\n      error\n    ) {\n      this.getModulesForCurrentCourse(modules => {\n        let bCurrentItemFound = false;\n        let currentHeaderItem = null;\n        for (let i = 0; i < modules.length; i++) {\n          const module = modules[i];\n          const items = module.items;\n          let noOfItemsBelongingToThisHeaderDone = 0;\n          let noOfItemsBelongingToThisHeader = 0;\n          for (let j = 0; j < items.length; j++) {\n            const item = items[j];\n            //Need to check type and id for quiz and assignment items\n            const isCurrentModuleItem =\n              item.id == moduleItemId ||\n              (typeAndContentId != null &&\n                typeAndContentId.contentId == item.content_id &&\n                typeAndContentId.type == item.type);\n            if (isCurrentModuleItem) {\n              item.isCurrent = true;\n              bCurrentItemFound = true;\n              if (currentHeaderItem) {\n                currentHeaderItem.isCurrentHeader = true;\n              }\n            }\n            //Need to check for subheaders to support collapsible elements in the menu.\n            if (item.type == 'SubHeader') {\n              //Need to know if headeritem icon should be green.\n              if (\n                currentHeaderItem &&\n                noOfItemsBelongingToThisHeader ==\n                  noOfItemsBelongingToThisHeaderDone\n              ) {\n                currentHeaderItem.done = true;\n              }\n              currentHeaderItem = item;\n              noOfItemsBelongingToThisHeaderDone = 0;\n              noOfItemsBelongingToThisHeader = 0;\n            } else {\n              noOfItemsBelongingToThisHeader++;\n            }\n\n            //Keep track of number of items passed.\n            if (item.completion_requirement) {\n              if (item.completion_requirement.completed) {\n                noOfItemsBelongingToThisHeaderDone++;\n              }\n            }\n          }\n          //Have to check if the last header item is passed.\n          if (\n            currentHeaderItem &&\n            noOfItemsBelongingToThisHeader == noOfItemsBelongingToThisHeaderDone\n          ) {\n            currentHeaderItem.passed = true;\n          }\n\n          //Callback and return when we've found the current item.\n          if (bCurrentItemFound) {\n            callback(module);\n            return;\n          }\n        }\n      }, error);\n    },\n\n    //To find which module a group discussion belongs to, we need to\n    //1. Get the group discussion\n    //2. Get the group category\n    //3. Get the root discussion\n    //4. Get the module\n    //A group discussion has a location like this:\n    //https://beta.matematikk.mooc.no/groups/361/discussion_topics/79006\n    getCurrentModuleItemForGroupDiscussion(callback, error) {\n      const regexp = /\\/groups\\/\\d+\\/discussion_topics\\/\\d+/;\n      let tmp;\n      let groupId;\n      let groupTopicId;\n\n      //Extract groupId and groupTopicId\n      if (regexp.test('' + this._location.pathname)) {\n        tmp = this._location.pathname.split('/');\n        if (tmp.length >= 5) {\n          groupTopicId = tmp[4];\n          groupId = tmp[2];\n        }\n      }\n      if (groupTopicId == null) return;\n\n      //https://beta.matematikk.mooc.no/api/v1/groups/361/discussion_topics/79006\n      //Need to keep track of this to access it inside the inline functions below.\n      const _this = this;\n      this.getSpecificGroupDiscussionTopic(\n        groupId,\n        groupTopicId,\n        groupDiscussion => {\n          _this.getUserGroups(groups => {\n            for (let i = 0; i < groups.length; i++) {\n              if (groups[i].id == groupId) {\n                const moduleItemId = null;\n                const currentTypeAndContentId = {\n                  contentId: groupDiscussion.root_topic_id,\n                  type: 'Discussion'\n                };\n                _this.getCurrentModuleForItemOrTypeAndContentId(\n                  moduleItemId,\n                  currentTypeAndContentId,\n                  callback,\n                  error\n                );\n                break; //We found the correct group, no need to check the rest.\n              }\n            } //end for all the groups\n          }); //getUserGroups\n        }\n      ); //getSpecificGroupDiscussionTopic\n    },\n\n    getCurrentModule(callback, error) {\n      const currentModuleItemId = this.getCurrentModuleItemId();\n      let currentTypeAndContentId = null;\n      let bFound = true;\n      //Quizzes and assignments does not have module item id in URL\n      if (currentModuleItemId == null) {\n        currentTypeAndContentId = this.getCurrentTypeAndContentId();\n\n        //If we haven't found what we want by now, it must be a group discussion\n        if (currentTypeAndContentId == null) {\n          bFound = false;\n          this.getCurrentModuleItemForGroupDiscussion(callback, error);\n        }\n      }\n\n      if (bFound) {\n        this.getCurrentModuleForItemOrTypeAndContentId(\n          currentModuleItemId,\n          currentTypeAndContentId,\n          callback,\n          error\n        );\n      }\n    },\n\n    getLocale() {\n      return this._env.LOCALE;\n    },\n\n    usesFrontPage() {\n      return this._env.COURSE.default_view == 'wiki';\n    },\n\n    getRoles() {\n      return this._env.current_user_roles;\n    },\n\n    getUser() {\n      return this._env.current_user;\n    },\n\n    getUserProfile(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/users/self/profile',\n        params: {}\n      });\n    },\n    getActivityStreamForUser(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/users/self/activity_stream',\n        params: {}\n      });\n    },\n\n    currentPageIsAnnouncement() {\n      return (\n        $('#section-tabs')\n          .find('a.announcements.active')\n          .size() == 1\n      );\n    },\n\n    currentPageIsModuleItem() {\n      if (\n        this.getCurrentModuleItemId() != null ||\n        this.getCurrentTypeAndContentId() != null\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    //20180914ETH Inbox unread count used the DOM, but Canvas updates the DOM asynchronously, causing\n    //            the value to be 0 if our code ran to early. Use the API instead.\n    getUnreadMessageSize(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/conversations/unread_count',\n        params: {}\n      });\n    },\n    //api/v1/search/recipients?search=&per_page=20&permissions[]=send_messages_all&messageable_only=true&synthetic_contexts=true&context=course_1_sections\n    //[{\"id\":\"section_4\",\"name\":\"Test 1\",\"avatar_url\":\"http://localhost/images/messages/avatar-group-50.png\",\"type\":\"context\",\"user_count\":2,\"permissions\":{\"send_messages_all\":true,\"send_messages\":true}}]\n    getSectionRecipients(courseId, callback, error) {\n      const recipientsContext = `course_${courseId}_sections`;\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/search/recipients',\n        params: {\n          permissions: ['send_messages_all'],\n          messageable_only: true,\n          synthetic_contexts: true,\n          context: recipientsContext,\n          per_page: 999\n        }\n      });\n    },\n\n    /*\n        from_conversation_id:\nmode: async\nscope:\nfilter:\ngroup_conversation: true\ncourse: course_1\ncontext_code: course_1\nrecipients[]: section_6\nsubject: Test\nbulk_message: 0\nuser_note: 0\nmedia_comment_id:\nmedia_comment_type:\nbody: test\n*/\n\n    postMessageToConversation(\n      courseId,\n      recipient,\n      subject,\n      body,\n      callback,\n      error\n    ) {\n      const courseContext = `course_${courseId}`;\n      this._post({\n        callback: callback,\n        error: error,\n        uri: '/conversations',\n        params: {\n          course: courseContext,\n          recipients: [recipient],\n          subject: subject,\n          body: body\n        }\n      });\n    },\n\n    getAccounts(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/accounts',\n        params: {}\n      });\n    },\n\n    getUsersForAccount(account, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account}/users`,\n        params: {}\n      });\n    },\n    getCoursesForAccount(account, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account}/courses`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getCoursesForUser(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/courses',\n        params: { per_page: 999 }\n      });\n    },\n\n    getGroupCategoriesForAccount(account, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account}/group_categories`,\n        params: {}\n      });\n    },\n\n    getGroupCategoriesForCourse(course, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${course}/group_categories`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // Recursively fetch all groups by following the next links\n    // found in the Links response header:\n    // https://canvas.instructure.com/doc/api/file.pagination.html\n    _getGroupsForAccountHelper(accumulatedGroups, callback, error) {\n      const that = this;\n      return (groups, status, xhr) => {\n        Array.prototype.push.apply(accumulatedGroups, groups);\n        const next = xhr\n          .getResponseHeader('Link')\n          .split(',')\n          .find(e => {\n            return e.match('rel=\"next\"');\n          });\n        if (next === undefined) {\n          callback(accumulatedGroups);\n        } else {\n          const fullURI = next.match('<([^>]+)>')[1];\n          that._get({\n            callback: that._getGroupsForAccountHelper(\n              accumulatedGroups,\n              callback,\n              error\n            ),\n            error: error,\n            uri: fullURI.split('api/v1')[1],\n            params: {}\n          });\n        }\n      };\n    },\n\n    getGroupsForAccount(account, callback, error) {\n      this._get({\n        callback: this._getGroupsForAccountHelper([], callback, error),\n        error: error,\n        uri: `/accounts/${account}/groups`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // /api/v1/group_categories/:group_category_id\n    getGroupCategory(categoryID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/group_categories/${categoryID}`,\n        params: {}\n      });\n    },\n\n    // /api/v1/group_categories/:group_category_id/groups\n    getGroupsInCategory(categoryID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/group_categories/${categoryID}/groups`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // /api/v1/courses/:course_id/groups\n    getGroupsInCourse(courseID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseID}/groups`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getUserGroups(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: '/users/self/groups',\n        params: { per_page: 999 }\n      });\n    },\n    getUserGroupsForCourse(courseId, callback, error) {\n      this.getUserGroups(groups => {\n          let usersGroups = [];\n          for (let i = 0; i < groups.length; i++) {\n            const group = groups[i];\n            if (group.course_id == courseId) {\n              usersGroups.push(group);\n            }\n          }\n          callback(usersGroups);\n        }\n      );\n    },\n\n    // /api/v1/courses/:course_id/sections\n    getSectionsForCourse(courseID, params, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseID}/sections`,\n        params: params\n      });\n    },\n\n    // /api/v1/sections/:section_id\n    getSingleSection(sectionID, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/sections/${sectionID}`,\n        params: {}\n      });\n    },\n\n    // /api/v1/courses/54/assignments/369\n    getSingleAssignment(courseId, assignmentId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}`,\n        // \"params\": {\"include\": [\"submission\", \"assignment_visibility\", \"overrides\", \"observed_users\"]},\n        params: {}\n      });\n    },\n\n    // /api/v1/courses/:course_id/assignments\n    getAssignmentsForCourse(courseId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments`,\n        params: { per_page: 999 }\n      });\n    },\n    getPagesForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/pages`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getDiscussionTopicsForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics`,\n        params: { per_page: 999 }\n      });\n    },\n    getQuizzesForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/quizzes`,\n        params: { per_page: 999 }\n      });\n    },\n\n    // /api/v1/courses/54/assignments/369/submissions/1725\n    getSingleSubmissionForUser(\n      courseId,\n      assignmentId,\n      user_id,\n      callback,\n      error\n    ) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}/submissions/${user_id}`,\n        params: {\n          include: [\n            'submission_history',\n            'submission_comments',\n            'rubric_assessment',\n            'visibility',\n            'course',\n            'user'\n          ]\n        }\n        // \"params\": {\"include\": [\"rubric_assessment\", \"visibility\"]},\n      });\n    },\n\n    // /api/v1/courses/7/assignments/11/submissions/4/peer_reviews\n    // This API displays info about who has the peer review for a specific submissionID which is the id property on the submission object (different from user id)\n    getPeerReviewsForSubmissionId(\n      courseId,\n      assignmentId,\n      submission_id,\n      callback,\n      error\n    ) {\n      // Returns only the student's peer reviews if you are a student. Returns all peer reviews if you are a teacher or admin\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}/submissions/${submission_id}/peer_reviews`,\n        // \"params\": {\"include\": [\"submission_comments\", \"user\"]},\n        params: { include: ['user'] }\n      });\n    },\n\n    // /api/v1/courses/:course_id/assignments/:assignment_id/peer_reviews\n    getPeerReviewsForAssignment(courseId, assignmentId, callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/assignments/${assignmentId}/peer_reviews`,\n        params: { include: ['user'] }\n      });\n    },\n\n    createPeerReview(\n      courseID,\n      assignmentID,\n      submissionID,\n      userID,\n      callback,\n      error\n    ) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseID}/assignments/${assignmentID}/submissions/${submissionID}/peer_reviews`,\n        params: { user_id: userID }\n      });\n    },\n\n    //https://kurs.iktsenteret.no/api/v1/courses/41/enrollments?enrollment%5Bself_enrollment_code%5D=WJTLML&enrollment%5Buser_id%5D=self\n    enrollUser(enrollAction, callback) {\n      const jqxhr = $.post(enrollAction, data => {\n        callback(data);\n      });\n    },\n    /*\nuri = sprintf(\"/api/v1/courses/%d/enrollments\", cid)\ndbg(uri)\n$canvas.post(uri, {'enrollment[user_id]' => user_id, 'enrollment[type]' => etype,\n\t'enrollment[enrollment_state]' => \"active\"})\n*/\n    enrollUserIdInSection(userId, sectionId, etype, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/sections/${sectionId}/enrollments/`,\n        params: {\n          'enrollment[user_id]': userId,\n          'enrollment[type]': etype,\n          'enrollment[enrollment_state]': 'active',\n          'enrollment[limit_privileges_to_course_section]': true\n        }\n      });\n      return true;\n    },\n    createGroup(categoryId, groupName, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/group_categories/${categoryId}/groups`,\n        params: {\n          name: groupName\n        }\n      });\n    },\n    createSection(courseId, sectionName, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/courses/${courseId}/sections`,\n        params: {\n          'course_section[name]': sectionName\n        }\n      });\n    },\n\n    createGroupMembership(gid, uid, callback, error) {\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/groups/${gid}/memberships`,\n        params: { user_id: uid }\n      });\n    },\n\n    createUserLogin(params, callback, error) {\n      const account_id = params.account_id;\n      delete params.account_id;\n      this._post({\n        callback: callback,\n        error: error,\n        uri: `/accounts/${account_id}/logins`,\n        params: params\n      });\n    },\n\n    getDiscussionTopic(courseId, contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics/${contentId}`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getQuiz(courseId, contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/quizzes/${contentId}`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getSpecificGroupDiscussionTopic(groupId, contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/groups/${groupId}/discussion_topics/${contentId}`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getGroupDiscussionTopics(contentId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/groups/${contentId}/discussion_topics/`,\n        params: { per_page: 999 }\n      });\n    },\n\n    getAnnouncementsForCourse(courseId, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics`,\n        params: { only_announcements: true, per_page: 999 }\n      });\n    },\n\n    getEnrollmentsForCourse(courseId, params, callback) {\n      this._get({\n        callback: callback,\n        uri: `/courses/${courseId}/enrollments`,\n        params: params\n      });\n    },\n    getEnrollmentsForSection(sectionId, params, callback) {\n      this._get({\n        callback: callback,\n        uri: `/sections/${sectionId}/enrollments`,\n        params: params\n      });\n    },\n    getUsersEnrollmentsForCourse(courseId, callback) {\n      this._get({\n        callback: courses => {\n          const filteredCourses = courses.filter(\n            course => course.course_id == courseId\n          );\n          callback(filteredCourses);\n        },\n        uri: `/users/self/enrollments`,\n        params: {per_page: 999}\n      });\n    },\n    getEnrollmentsForSection(sectionId, params, callback) {\n      this._get({\n        callback: callback,\n        uri: `/sections/${sectionId}/enrollments`,\n        params: params\n      });\n    },\n    deleteUserCustomData(callback) {\n      this._delete({\n        callback: callback,\n        uri: `/users/self/custom_data`,\n        params: {  \n          \"ns\": \"no.udir.kompetanse\"\n        }\n      });\n    },\n\n    saveUserCustomData(privacyPolicyVersion, callback) {\n      this._put({\n        callback: callback,\n        uri: `/users/self/custom_data`,\n        params: {  \n          \"ns\": \"no.udir.kompetanse\",\n          \"data\": {\n            \"privacyPolicyVersion\": privacyPolicyVersion,\n          }\n        }\n      });\n    },\n\n    saveUserPrivacyPolicyVersion(privacyPolicyVersion, callback) {\n      this.saveUserCustomData(privacyPolicyVersion, callback);\n    },\n\n    loadUserCustomData(callback, error) {\n      this._get({\n        callback: callback,\n        error: error,\n        uri: `/users/self/custom_data`,\n        params: {  \n          \"ns\": \"no.udir.kompetanse\",\n        }\n      });\n    },\n\n    loadUserPrivacyPolicyVersion(callback, error) {\n      this.loadUserCustomData(callback, error);\n    },\n\n    getCaledarEvents(params, callback) {\n      this._get({\n        callback: callback,\n        uri: '/calendar_events/',\n        params: params\n      });\n    },\n\n    //To be used later when displaying info about unread discussion comments.\n    // getDiscussionTopics(courseId, callback) {\n    //     this._get({\n    //         \"callback\": callback,\n    //         \"uri\": `/courses/${courseId}/discussion_topics`,\n    //         \"params\": { per_page: 999 },\n    //     });\n    // },\n\n    markDiscussionTopicAsRead(courseId, contentId, callback) {\n      this._put({\n        callback: callback,\n        uri: `/courses/${courseId}/discussion_topics/${contentId}/read_all`,\n        params: { forced_read_state: 'false' }\n      });\n    }\n  };\n})();\n\nif (typeof module !== 'undefined' && module !== null) {\n  module.exports = this.mmooc.api;\n}\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.hrefQueryString = \"?design=udir\";\nthis.mmooc.hrefAmpQueryString = \"&design=udir\";\n\nthis.mmooc.settingsRoot = {\n    feideEnrollRefferers: [\n      \"design=udir\",\n      \"enroll_code\",\n      \"kslaring.no\"\n    ],\n    kpasApiUrl: 'https://kpas-lti.azurewebsites.net/api'\n};\n\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.utilRoot = function() {\n  return {\n    _env: typeof ENV !== 'undefined' ? ENV : {},\n    getRoles : function() {\n      return this._env.current_user_roles;\n    },\n    isAuthenticated : function () {\n      return this.getRoles() !== null;\n    },\n    getLinkToMyCourses: function () {\n        var linkToMyCourses = \"/courses\" + mmooc.hrefQueryString;\n        return linkToMyCourses;\n    },\n\n    //Support IE 11\n    parse_query_string : function(query) {\n      var vars = query.split(\"&\");\n      var query_string = {};\n      for (var i = 0; i < vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        var key = decodeURIComponent(pair[0]);\n        var value = decodeURIComponent(pair[1]);\n        // If first entry with this name\n        if (typeof query_string[key] === \"undefined\") {\n          query_string[key] = decodeURIComponent(value);\n          // If second entry with this name\n        } else if (typeof query_string[key] === \"string\") {\n          var arr = [query_string[key], decodeURIComponent(value)];\n          query_string[key] = arr;\n          // If third or later entry with this name\n        } else {\n          query_string[key].push(decodeURIComponent(value));\n        }\n      }\n      return query_string;\n    },\n    urlParamsToObject: function() {\n      if (document.location.search === '') return {};\n\n      const search = location.search.substring(1);\n      return mmooc.utilRoot.parse_query_string(search);\n    },\n    checkReferrer:function(ref) {\n       return document.referrer.includes(ref);\n    },\n\n    isEnrollReferrer: function() {\n      const permittedReferrers = mmooc.settingsRoot.feideEnrollRefferers;\n      const hasPermittedRefferer = permittedReferrers.some(mmooc.utilRoot.checkReferrer);\n\n      if( !mmooc.utilRoot.isAuthenticated() && hasPermittedRefferer) {\n        return true;\n      }\n      return false;\n    },\n    redirectFeideAuthIfEnrollReferrer: function() {\n      // Checks if we hit the /canvas/login from Feide Enroll pages\n      // If we go from permitted refferer, we redirect to Feide auth\n      // when page user is unauthenticated and does not provide `?normalLogin` param\n      if(mmooc.utilRoot.isEnrollReferrer()) {\n        if(document.location.search.includes(\"normalLogin=1\")) {\n            $(\"#content > div > div > div > div > div.ic-Login-header > div.ic-Login-header__links\").hide();\n        }\n        else {\n           window.location.href = '/login/saml/2';\n           return true;\n        }\n      }\n      return false;\n    },\n    isEnrollCodeParamPassed: function(urlParamsObj) {\n        const enrollCode = urlParamsObj && urlParamsObj['enroll_code'];\n        if (enrollCode !== undefined) {\n            return enrollCode;\n        }\n        return null;\n    },\n    isLoginParamPassed: function(urlParamsObj) {\n        const login = urlParamsObj && urlParamsObj['login'];\n        if (login !== undefined) {\n            return true;\n        }\n        return false;    \n    },\n    triggerForgotPasswordIfParamPassed: function() {\n      const params = this.urlParamsToObject();\n      if (params['gp'] !== undefined) {\n        $('#login_forgot_password').click();\n      }\n    },\n    redirectToEnrollIfCodeParamPassed: function() {\n      // If user wanted to enroll a course using Feide auth,\n      // then was returned from SAML login view, we redirect to proper enrollment page\n      if (document.location.search !== '') {\n        const urlParamsObj = mmooc.utilRoot.urlParamsToObject();\n\n        var design = urlParamsObj && urlParamsObj['design'];\n\n        var newHref = null;\n\n        var enrollCode = mmooc.utilRoot.isEnrollCodeParamPassed(urlParamsObj);\n        if (enrollCode) {\n          newHref = \"/enroll/\" + enrollCode;  // + mmooc.hrefQueryString;\n          if(design) {\n            newHref += \"?design=\" + design; \n          }\n        } \n\n        var forwardTo = urlParamsObj && urlParamsObj['forwardTo'];\n        if(forwardTo) {\n          if(design) {\n            newHref += \"&\";\n          } else {\n            newHref += \"?\";\n          }\n          newHref += \"forwardTo=\" + encodeURIComponent(forwardTo); \n        }\n\n        if(newHref) {\n          window.location.href = newHref;\n          return true;\n        }\n\n        if (mmooc.utilRoot.isLoginParamPassed(urlParamsObj)) {\n          const linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n          window.location.href = linkToMyCourses;\n          return true;\n        }\n      }\n      return false;\n    },\n\n    redirectToSamlIfUdirCourse: function(kpasApiUrl){\n      try {\n        if(!mmooc.utilRoot.isAuthenticated()) {\n          const currentUrl = '' + window.location.pathname;\n          const currentCourseId = mmooc.utilRoot.getCourseIdFromUrl(currentUrl);\n          mmooc.utilRoot.isDeepLinkToUdirCourse(currentCourseId, kpasApiUrl).then( (result) => {\n                if (result) {\n                  window.location = \"/login/saml/2\";\n                  return true;\n                }else{\n                  return false;\n                }\n              }\n          )\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    /*isDeepLinkToUdirCourse: async function(currentCourseId, kpasApiUrl) {\n\n      let requestResult = undefined;\n\n      if (currentCourseId) {\n        await $.getJSON(kpasApiUrl + \"course/\" + currentCourseId + \"/isudircourse\", function(data) {\n          requestResult = data.result;\n        });\n      } else {\n        return false;\n      }\n      return requestResult;\n\n    },*/\n    getCourseIdFromUrl : function(currentUrl) {\n      const matches = currentUrl.match(/\\/courses\\/(\\d+)/);\n      if (matches != null) {\n        return parseInt(matches[1], 10);\n      } else if (this._env.group) {\n        // Group pages does not contain course id in URL, but is available via JavaScript variable\n        return this._env.group.context_id;\n      } else if ($('#discussion_container').size() > 0) {\n        const tmp = $(\n            '#discussion_topic div.entry-content header div div.pull-left span a'\n        );\n        if (tmp.length) {\n          const tmpHref = tmp.attr('href');\n          if (tmpHref.length) {\n            const tmpHrefArr = tmpHref.split('/');\n            if (tmpHrefArr.length == 3) {\n              return parseInt(tmpHrefArr[2], 10);\n            }\n          }\n        }\n      }\n      return null;\n    }\n  }\n}();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.announcements = (() => {\n  const hideMarkAsReadButton = () => {\n    $('#markAllAsReadButton').hide();\n    mmooc.menu.updateNotificationsForUser();\n  };\n\n  return {\n    addMarkAsReadButton() {\n      const contentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n      const courseId = mmooc.api.getCurrentCourseId();\n      mmooc.api.getDiscussionTopic(courseId, contentId, discussionTopic => {\n        if (discussionTopic.read_state !== 'read') {\n          const buttonHTML = mmooc.util.renderTemplateWithData('actionbutton', {\n            id: 'markAllAsReadButton',\n            title: 'Marker som lest'\n          });\n          document\n            .getElementById('content-wrapper')\n            .insertAdjacentHTML('afterbegin', buttonHTML);\n          $('#markAllAsReadButton').click(() => {\n            mmooc.api.markDiscussionTopicAsRead(\n              courseId,\n              contentId,\n              hideMarkAsReadButton\n            );\n          });\n        }\n      });\n    },\n    printAnnouncementsUnreadCount() {\n      const courseId = mmooc.api.getCurrentCourseId();\n      mmooc.api.getAnnouncementsForCourse(courseId, announcements => {\n        let totalUnread = 0;\n        announcements.forEach(announcement => {\n          if (\n            announcement.read_state == 'unread' ||\n            announcement.unread_count > 0\n          )\n            totalUnread++;\n        });\n        totalUnread > 0 &&\n          mmooc.announcements.printUnreadCountInTab(totalUnread);\n      });\n    },\n    printUnreadCountInTab(totalUnread) {\n      $('.mmooc-course-tab a').each(function() {\n        $(this).text() == 'Kunngjøringer' &&\n          $(this)\n            .parent()\n            .append(\n              `<span class='discussion-unread-value discussion-unread-tab'>${totalUnread}</span>`\n            );\n        }\n      );\n    },\n    setAnnouncementsListUnreadClass() {\n      const checkExist = setInterval(() => {\n        if (\n          $('body.announcements .discussionTopicIndexList .discussion-topic')\n            .length\n        ) {\n          clearInterval(checkExist);\n          $(\n            'body.announcements .discussionTopicIndexList .discussion-topic'\n          ).each(() => {\n            const unread = $(this)\n              .find('.new-items')\n              .attr('title');\n            if (unread.indexOf('Ingen uleste svar.') == -1) {\n              $(this).addClass('unread');\n              $(this).removeClass('read');\n            }\n          });\n        }\n      }, 100);\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.badges = (() => {\n  const resizeIframe = () => {\n    mmooc.util.adaptHeightToIframeContentForId(\n      'tool_content_wrapper',\n      'tool_content'\n    );\n  };\n  return {\n    initPage() {\n      resizeIframe();\n      let resizeTimer;\n      $(window).resize(() => {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(resizeIframe, 42);\n      });\n    },\n    claimBadge(OpenBadges, urls, callBack) {\n      OpenBadges.issue_no_modal(urls, callBack);\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.courseList = (() => {\n  return {\n    listCourses(parentId, callback) {\n      if (document.getElementsByClassName('reaccept_terms').length === 0) {\n        let htmlLoading = `<div class='mmooc-loader-wrapper'><span class='loading-gif'></span></div>`;\n        $(`#${parentId}`).html(htmlLoading); //overwrite the contents in parentID and display: 'Laster kurs....'\n\n        mmooc.api.getEnrolledCourses(courses => {\n          $('.mmooc-loader-wrapper').remove();\n\n          const $oldContent = $(`#${parentId}`).children(); //After an update the 'Add course button' is in #content including a popupform. So we need to move this to another place in the DOM so we don't overwrite it.\n          $oldContent.appendTo('#right-side-wrapper #right-side');\n          let html = '';\n          let linkToAvailableCourses = mmooc.util.getLinkToAvailableCourses(); \n          if (courses.length == 0) {\n            html = `<h1>Mine ${mmooc.i18n.CoursePlural.toLowerCase()}</h1><p>${\n              mmooc.i18n.NoEnrollments\n            }</p><a class='btn' href='${linkToAvailableCourses}'>Se tilgjengelige ${mmooc.i18n.CoursePlural.toLowerCase()}</a>`;\n            $(`#${parentId}`).html(html);\n          } else {\n            html = mmooc.util.renderTemplateWithData('courselistcontainer', {\n              courseLabel: mmooc.i18n.CoursePlural.toLowerCase(),\n              queryString: mmooc.hrefQueryString\n            });\n            $(`#${parentId}`).html(html);\n            /*\n            const sortedCourses = mmooc.util.arraySorted(\n              courses,\n              'course_code'\n            );\n            */\n            const sortedCourses = mmooc.util.sortCourses(courses);\n            const categorys = mmooc.util.getCourseCategories(sortedCourses);\n            const coursesCategorized = mmooc.util.getCoursesCategorized(\n              sortedCourses,\n              categorys\n            );\n\n            coursesCategorized.forEach(course => {\n              html = mmooc.util.renderTemplateWithData('courselist', {\n                title: course.title,\n                courses: course.courses,\n                courseLabel: mmooc.i18n.Course.toLowerCase()\n              });\n              $('.mmooc-course-list-container').append(html);\n            });\n            mmooc.util.updateProgressForRoleBasedCourses(courses);\n          }\n          document.title = mmooc.i18n.CoursePlural;\n\n          $.isFunction(callback) && callback();\n        });\n      } else {\n        html = mmooc.util.renderTemplateWithData('enrollprivacypolicy', {\n          privacypolicylink: mmooc.settings.privacyPolicyLink\n        });\n  \n        $(\".terms_of_service_link\").html(html);\n      }\n    },\n    showAddCourseButton() {\n      // Move canvas Start new course button, since we hide its original location\n      const $button = $('#start_new_course');\n      if ($button.length) {\n        $('#content').append($button);\n        $button.html(mmooc.i18n.AddACourse);\n      }\n    },\n    showFilter(sortedCourses) {\n      // Show filter options based on first part of course code\n      const filterOptions = ['Alle'];\n      $(sortedCourses).each(index => {\n        const values = sortedCourses[index].course_code.split('::');\n        if (values.length > 1) {\n          if (filterOptions.indexOf(values[0]) == -1)\n            filterOptions.push(values[0]);\n        }\n      });\n      filterOptions.push('Andre');\n      const options = '';\n      filterOptions.forEach(option => {\n        options += `<option value=\"${option}\">${option}</option>`;\n      });\n      $('#filter').append(options);\n    },\n    applyFilter(sortedCourses) {\n      if ($('#filter').val() == 'Alle') {\n        $(sortedCourses).each(function() {\n          $(`#course_${this.id}`).show();\n        });\n      } else if ($('#filter').val() == 'Andre') {\n        $(sortedCourses).each(() => {\n          if (this.course_code.indexOf('::') >= 0) {\n            $(`#course_${this.id}`).hide();\n          } else {\n            $(`#course_${this.id}`).show();\n          }\n        });\n      } else {\n        $(sortedCourses).each(() => {\n          const courseCode = this.course_code.split('::')[0];\n          if ($('#filter').val() == courseCode) {\n            $(`#course_${this.id}`).show();\n          } else {\n            $(`#course_${this.id}`).hide();\n          }\n        });\n      }\n    },\n    isCourseCompleted(modules) {\n      for (let i = 0; i < modules.length; i++) {\n        const module = modules[i];\n        for (let j = 0; j < module.items.length; j++) {\n          const item = module.items[j];\n          if (\n            item.completion_requirement &&\n            !item.completion_requirement.completed\n          ) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.coursePage = (function() {\n  return {\n    showCourseInvitation: function () {\n      if (!mmooc.util.isAuthenticated()) {\n        var enrollButton = $(\".course_enrollment_link\");\n        var linkToSelectedCourse = window.location.href.split('/');\n        var selectedCourseId = linkToSelectedCourse[linkToSelectedCourse.length - 1];\n\n        if (enrollButton) {\n          enrollButton.text(mmooc.i18n.EnrollButton);\n          enrollButton.click(function (e) {\n            e.preventDefault();\n                  window.location.href = '/search/all_courses' + mmooc.hrefQueryString + '#' + selectedCourseId;\n          })\n        }\n      }\n    },\n    listModulesAndShowProgressBar: function() {\n      mmooc.api.getModulesForCurrentCourse(function(modules) {\n        var progressHTML = \"\";\n        var modulesHTML = \"\";\n        if(mmooc.util.isActiveCourseRoleBased() && mmooc.util.isPrincipal())\n        {\n          progressHTML = mmooc.util.renderTemplateWithData('courseprogress', {\n            title: mmooc.i18n.CourseProgressionTitle,\n            modules: modules\n          });\n          modulesHTML = mmooc.util.renderTemplateWithData('modulesprincipal', {\n            navname: mmooc.i18n.GoToModule,\n            coursemodules: mmooc.i18n.ModulePlural,\n            modules: modules,\n            course: mmooc.util.course\n          });\n        }\n        else {\n          progressHTML = mmooc.util.renderTemplateWithData('courseprogressforstudent', {\n            title: mmooc.i18n.CourseProgressionTitle,\n            modules: modules\n          });\n          modulesHTML = mmooc.util.renderTemplateWithData('modules', {\n            navname: mmooc.i18n.GoToModule,\n            coursemodules: mmooc.i18n.ModulePlural,\n            modules: modules,\n            course: mmooc.util.course\n          });\n        }\n        \n        if(mmooc.util.isMMOOCLicense()) {\n          mmooc.footer.addLicenseInFooter();\n        }\n\n        document\n          .getElementById('course_home_content')\n          .insertAdjacentHTML('beforebegin', progressHTML);\n\n        document\n          .getElementById('course_home_content')\n          .insertAdjacentHTML('beforebegin', modulesHTML);\n\n        mmooc.multilanguage.perform();\n  \n        //Canvas case: Slow loading for group discussions when large number of groups Case # 05035288 \n        //Display popup box when loading\n        mmooc.util.postModuleCoursePageProcessing();\n\n        mmooc.discussionTopics.printDiscussionUnreadCount(\n          modules,\n          'coursepage'\n        );\n      });\n    },\n    hideCourseInvitationsForAllUsers: function() {\n      var acceptanceTextToSearchFor = 'invitert til å delta';\n      //If .ic-notification__message contains 'Invitert til å delta' så skjul nærmeste parent .ic-notification\n      $(\n        \".ic-notification__message.notification_message:contains('\" +\n          acceptanceTextToSearchFor +\n          \"')\"\n      )\n        .closest('.ic-notification.ic-notification--success')\n        .hide();\n\n      var acceptanceFlashTextToSearchFor = 'delta i dette kurset';\n\n      $(\n        \"ul#flash_message_holder li:contains('\" +\n          acceptanceFlashTextToSearchFor +\n          \"')\"\n      ).hide();\n    },\n\n    //Until Canvas has corrected the translation of drop course to something else than \"slipp emnet\", we override the functionality.\n    overrideUnregisterDialog: function() {\n      var selfUnenrollmentButton = $('.self_unenrollment_link');\n      var selfUnenrollmentDialog = $('#self_unenrollment_dialog');\n      if (selfUnenrollmentButton.length) {\n        selfUnenrollmentButton.text(\n          selfUnenrollmentButton\n            .text()\n            .replace('Slipp dette emnet', mmooc.i18n.DropCourse)\n        );\n        //                selfUnenrollmentButton.off(); //Prevent default presentation of the dialog with incorrect translation.\n        selfUnenrollmentButton.on('click', function(e) {\n          setTimeout(function() {\n            $('#ui-id-1').html(mmooc.i18n.DropCourse);\n          }, 200);\n        });\n      }\n      if (selfUnenrollmentDialog.length) {\n        selfUnenrollmentDialog.find('h2').hide();\n        selfUnenrollmentDialog.find('.button-container a span').text('OK');\n        selfUnenrollmentDialog.find('.button-container a i').hide(); //Hide x at beginning of OK button\n\n        //Hide default dialog text\n        $('#self_unenrollment_dialog')\n          .contents()\n          .filter(function() {\n            return this.nodeType == 3;\n          })\n          .each(function() {\n            this.textContent = '';\n          });\n        //Add our dialog text\n        $('#self_unenrollment_dialog').prepend(\n          '<div/><p/><p>' +\n            mmooc.i18n.DropCourseDialogText +\n            \"<span class='unenroll_dialog_sad'></span><p>\" +\n            mmooc.i18n.JoinCourseDialogText +\n            \"<span class='unenroll_dialog_happy'></span></p>\"\n        );\n      }\n    },\n\n    replaceUpcomingInSidebar: function() {\n      var coming_up = $('body.home .coming_up');\n      if (!coming_up.length) {\n        return false;\n      }\n      coming_up.replaceWith(\n        \"<div class='deadlines-container'>\" +\n          '<h2>' +\n          mmooc.i18n.eventsAndDeadlinesTitle +\n          '</h2>' +\n          \"<div class='deadlines-scroll-up'></div>\" +\n          \"<div class='deadlines-list'></div>\" +\n          \"<div class='deadlines-scroll-down'></div>\" +\n          '</div>'\n      );\n      return true;\n    },\n    _displayDeadlines: function(allDeadlines) {\n      allDeadlines.sort(function(a, b) {\n        return a.date - b.date;\n      });\n      var weekday = [];\n      var month = [];\n      var html = '<table>';\n      for (var i = 0; i < allDeadlines.length; i++) {\n        var monthName = mmooc.util.getMonthShortName(allDeadlines[i].date);\n        if ('url' in allDeadlines[i]) {\n          html +=\n            \"<tr id='deadline-\" +\n            i +\n            \"'><div></div><td class='deadline-date'>\" +\n            allDeadlines[i].date.getDate() +\n            '. ' +\n            monthName +\n            \"</td><td class='deadline-title'><a href='\" +\n            allDeadlines[i].url +\n            \"' title='\" +\n            allDeadlines[i].title +\n            \"'>\" +\n            allDeadlines[i].title +\n            '</a></td></tr>';\n        } else {\n          html +=\n            \"<tr id='deadline-\" +\n            i +\n            \"'><td class='deadline-date'>\" +\n            allDeadlines[i].date.getDate() +\n            '. ' +\n            monthName +\n            \"</td><td class='deadline-title'>\" +\n            allDeadlines[i].title +\n            '</td></tr>';\n        }\n      }\n      html += '</table>';\n      $('body.home .deadlines-list').html(html);\n      var upcoming = mmooc.coursePage.findUpcomingDate(allDeadlines);\n      $('#deadline-' + upcoming).addClass('upcoming');\n      var parent = $('body.home .deadlines-list');\n      var row = $('#deadline-' + upcoming);\n      parent.scrollTop(\n        parent.scrollTop() +\n          row.position().top -\n          parent.height() / 2 +\n          row.height() / 2\n      );\n      $('.deadlines-scroll-up').click(function() {\n        var scroll = parent.scrollTop() - 50;\n        $(parent).animate(\n          {\n            scrollTop: scroll\n          },\n          200\n        );\n      });\n      $('.deadlines-scroll-down').click(function() {\n        var scroll = parent.scrollTop() + 50;\n        $(parent).animate(\n          {\n            scrollTop: scroll\n          },\n          200\n        );\n      });\n    },\n    printDeadlinesForCourse: function() {\n      var courseId = mmooc.api.getCurrentCourseId();\n      var allDeadlines = [];\n      var params = {\n        all_events: 1,\n        type: 'event',\n        context_codes: ['course_' + courseId]\n      };\n      mmooc.api.getCaledarEvents(params, function(events) {\n        for (var i = 0; i < events.length; i++) {\n          if (events[i].end_at) {\n            var date = new Date(events[i].end_at);\n            var deadlineObj = {\n              date: date,\n              title: events[i].title\n            };\n            allDeadlines.push(deadlineObj);\n          }\n        }\n        var params = {\n          all_events: 1,\n          type: 'assignment',\n          context_codes: ['course_' + courseId]\n        };\n        mmooc.api.getCaledarEvents(params, function(assignments) {\n          for (var i = 0; i < assignments.length; i++) {\n            if (assignments[i].all_day_date) {\n              var date = new Date(assignments[i].all_day_date);\n              var deadlineObj = {\n                date: date,\n                title: assignments[i].title,\n                url: assignments[i].html_url\n              };\n              allDeadlines.push(deadlineObj);\n            }\n          }\n          if (allDeadlines.length) {\n            mmooc.coursePage._displayDeadlines(allDeadlines);\n          }\n        });\n      });\n    },\n    findUpcomingDate: function(dates) {\n      var today = Date.now();\n      var nearestDate,\n        nearestDiff = Infinity;\n      var noMoreDeadlines = true;\n      for (var i = 0; i < dates.length; i++) {\n        var diff = +dates[i].date - today;\n        if (diff > 0 && diff < nearestDiff) {\n          nearestDiff = diff;\n          nearestDate = i;\n          noMoreDeadlines = false;\n        }\n      }\n      if (noMoreDeadlines) {\n        return dates.length - 1;\n      } else {\n        return nearestDate;\n      }\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.coursesettings = (function() {\n  var DISCUSSIONTYPE = 0;\n  var ASSIGNMENTTYPE = 1;\n  var QUIZTYPE = 2;\n  var PAGETYPE = 3;\n\n  var AllModuleItems = [];\n  var error = function(error) {\n    console.error('error calling api', error);\n  };\n\n  function updateOverallProgress(s) {\n    $('#mmoocOverallProgress').html(s);\n  }\n  function getStyle(color, bgcolor) {\n    return \"style='background-color:\" + bgcolor + ';color:' + color + \"'\";\n  }\n  function getBooleanOutput(result) {\n    if (result) {\n      return getStyle('white', 'green') + '>JA';\n    }\n    return getStyle('white', 'red') + '>NEI';\n  }\n\n  function clearTableWithId(id) {\n    $('#' + id).html('');\n  }\n\n  function printRowInTableId(id, c1, c2) {\n    var rowHtml = '<tr><td>' + c1 + '</td><td>' + c2 + '</td></tr>';\n    $('#' + id).append(rowHtml);\n  }\n  function printRowWithColorInTableId(id, c1, c2, color, bgcolor) {\n    var rowHtml =\n      '<tr><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c1 +\n      '</td><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c2 +\n      '</td></tr>';\n    $('#' + id).append(rowHtml);\n  }\n  function printRedRowInTableId(id, c1, c2) {\n    printRowWithColorInTableId(id, c1, c2, 'white', 'red');\n  }\n  function printGreenRowInTableId(id, c1, c2) {\n    printRowWithColorInTableId(id, c1, c2, 'white', 'green');\n  }\n\n  function printRow(c1, c2) {\n    return '<tr><td>' + c1 + '</td><td>' + c2 + '</td></tr>';\n  }\n  function printRowWithColor(c1, c2, color, bgcolor) {\n    return (\n      '<tr><td' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c1 +\n      '</td><td>' +\n      c2 +\n      '</td></tr>'\n    );\n  }\n  function printRedRow(c1, c2) {\n    return printRowWithColor(c1, c2, 'white', 'red');\n  }\n  function printGreenRow(c1, c2) {\n    return printRowWithColor(c1, c2, 'white', 'green');\n  }\n\n  function getSanityTableId(courseId, moduleId, contentId) {\n    return 'Sanity' + courseId + moduleId + contentId;\n  }\n\n  function getWaitIconRowId(tableId) {\n    return 'Wait' + tableId;\n  }\n  function waitIcon(tableId) {\n    $('#' + tableId).append(\n      \"<tr id='\" +\n        getWaitIconRowId(tableId) +\n        \"'>td><img src='https://kompetanseudirno.azureedge.net/udirdesign/bitmaps/loading.gif'/>\"\n    );\n  }\n  function clearWaitIcon(tableId) {\n    $('#' + getWaitIconRowId(tableId)).remove();\n  }\n\n  function printPageTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    return contentHtml;\n  }\n  function postProcessPageTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_mark_done') {\n        printRedRowInTableId(\n          tableId,\n          'Krav:',\n          reqtype + '(Vi anbefaler merk som ferdig for innholdssider.)'\n        );\n      }\n    } else {\n      printRowInTableId(tableId, 'Ingen', '');\n    }\n\n    clearWaitIcon(tableId);\n  }\n  function printSubHeaderTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    return contentHtml;\n  }\n  function postProcessSubHeaderTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    printRowInTableId(tableId, 'Ingen', '');\n    clearWaitIcon(tableId);\n  }\n  function printFileTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_mark_done') {\n        contentHtml += printRedRow('Krav:', reqtype);\n      }\n    }\n    return contentHtml;\n  }\n  function postProcessFileTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    printRowInTableId(tableId, 'Ingen', '');\n    clearWaitIcon(tableId);\n  }\n  function printDiscussionTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_contribute') {\n        contentHtml += printRedRow('Krav:', reqtype);\n      }\n    }\n    return contentHtml;\n  }\n  function postProcessDiscussionTable(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    var contentId = item.content_id;\n    mmooc.api.getDiscussionTopic(\n      courseId,\n      contentId,\n      (function(tableId) {\n        return function(d) {\n          clearWaitIcon(tableId);\n          if (d.discussion_type != 'side_comment') {\n            printRedRowInTableId(\n              tableId,\n              'Trådtype:',\n              d.discussion_type + '(Vi anbefaler side_comment.)'\n            );\n          }\n          var gid = d.group_category_id;\n          if (!gid) {\n            printRedRowInTableId(\n              tableId,\n              'Gruppekategori:',\n              'Mangler (Dette blir en diskusjon hvor samtlige studenter deltar. Vi anbefaler gruppediskusjoner dersom det er mange studenter.)'\n            );\n          } else {\n            printGreenRowInTableId(tableId, 'Gruppekategori:', gid);\n          }\n        };\n      })(tableId)\n    );\n  }\n\n  function printAssignmentTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'must_submit') {\n        contentHtml += printRedRow(\n          'Krav:',\n          reqtype + ' på innleveringsoppgave.'\n        );\n      }\n    }\n\n    return contentHtml;\n  }\n  function postProcessAssignmentTable(courseId, moduleId, item) {\n    var contentId = item.content_id;\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    mmooc.api.getSingleAssignment(\n      courseId,\n      contentId,\n      (function(tableId) {\n        return function(a) {\n          clearWaitIcon(tableId);\n          printRowInTableId(tableId, 'Type:', a.submission_types);\n          console.log('Assignment submission type: ' + a.submission_types);\n          if (a.submission_types.indexOf('online_upload') > -1) {\n            if (a.allowed_extensions) {\n              printRowInTableId(\n                tableId,\n                'Tillatte filendelser:',\n                a.allowed_extensions\n              );\n            } else {\n              printRedRowInTableId(\n                tableId,\n                'Ingen tillatte filendelser spesifisert. Vi anbefaler å sette dette.'\n              );\n            }\n          }\n          if (!a.due_at) {\n            printRedRowInTableId(\n              tableId,\n              'Frist:',\n              'Ingen. (Vi anbefaler å ha en frist)'\n            );\n          } else {\n            printRowInTableId(tableId, 'Frist:', a.due_at);\n          }\n          printRowInTableId(tableId, 'Hverandrevurdering:', a.peer_reviews);\n          if (a.peer_reviews) {\n            if (a.automatic_peer_reviews) {\n              var hvvfrist = 'ingen';\n              hvvfrist = a.peer_reviews_assign_at;\n              printRedRowInTableId(\n                tableId,\n                'Tildeling av hverandrevurdering:',\n                hvvfrist + ' (Vi anbefaler ikke automatisk tildeling.'\n              );\n              printRowInTableId(\n                tableId,\n                'Antall vurderinger:',\n                a.peer_review_count\n              );\n            } else {\n              printGreenRowInTableId(\n                tableId,\n                'Tildeling av hverandrevurdering: ',\n                'Manuell. Dette er anbefalt. Husk å legge fristen i kalenderen.'\n              );\n            }\n          }\n        };\n      })(tableId),\n      error\n    );\n  }\n\n  function printQuizTable(courseId, moduleId, item) {\n    var contentHtml = '';\n    var req = item.completion_requirement;\n    if (req) {\n      var reqtype = req.type;\n      if (reqtype != 'min_score') {\n        contentHtml += printRedRow('Krav:', reqtype + ' på quiz.');\n      }\n    }\n    return contentHtml;\n  }\n  function postProcessQuizTable(courseId, moduleId, item) {\n    var contentId = item.content_id;\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    mmooc.api.getQuiz(\n      courseId,\n      contentId,\n      (function(tableId) {\n        return function(q) {\n          clearWaitIcon(tableId);\n          printRowInTableId(tableId, 'Frist:', q.due_at);\n        };\n      })(tableId)\n    );\n  }\n\n  function printSanityTableForItem(courseId, moduleId, item) {\n    var tableId = getSanityTableId(courseId, moduleId, item.id);\n    var contentHtml = \"<table id='\" + tableId + \"'>\";\n    var type = item.type;\n    console.log('Item type:' + type);\n    if (type == 'Assignment') {\n      contentHtml += printAssignmentTable(courseId, moduleId, item);\n    } else if (type == 'Discussion') {\n      contentHtml += printDiscussionTable(courseId, moduleId, item);\n    } else if (type == 'Page') {\n      contentHtml += printPageTable(courseId, moduleId, item);\n    } else if (type == 'Quiz') {\n      contentHtml += printQuizTable(courseId, moduleId, item);\n    } else if (type == 'File') {\n      contentHtml += printFileTable(courseId, moduleId, item);\n    } else if (type == 'SubHeader') {\n      contentHtml += printSubHeaderTable(courseId, moduleId, item);\n    }\n    waitIcon(tableId);\n    contentHtml += '</table>';\n    return contentHtml;\n  }\n\n  function postProcessSanityTableForItem(courseId, moduleId, item) {\n    var type = item.type;\n    if (type == 'Assignment') {\n      postProcessAssignmentTable(courseId, moduleId, item);\n    } else if (type == 'Discussion') {\n      postProcessDiscussionTable(courseId, moduleId, item);\n    } else if (type == 'Page') {\n      postProcessPageTable(courseId, moduleId, item);\n    } else if (type == 'Quiz') {\n      postProcessQuizTable(courseId, moduleId, item);\n    } else if (type == 'File') {\n      postProcessFileTable(courseId, moduleId, item);\n    } else if (type == 'SubHeader') {\n      postProcessSubHeaderTable(courseId, moduleId, item);\n    }\n  }\n\n  function getCommonUrlKey(url) {\n    var key = '';\n    var urlPrefix = '/courses';\n\n    var start = url.indexOf(urlPrefix);\n    if (start > -1) {\n      key = url.substr(start);\n    } else {\n      console.log('getCommonUrlKey: Could not find key for url: ' + url);\n    }\n    return key;\n  }\n\n  function storeItem(item) {\n    if (item.type == 'SubHeader') {\n      return;\n    }\n    if (!item.url) {\n      return;\n    }\n    var url = item.url;\n\n    var key = getCommonUrlKey(url);\n\n    AllModuleItems[key] = item;\n  }\n\n  function getSanityTableForModule(courseId, module) {\n    var contentHtml =\n      \"<table class='table'><thead><tr><th>Innholdselement</th><th>Publisert</th><th>Krav</th><th>Type</th><th>Detaljer</th></tr></thead><tbody>\";\n    var moduleItems = module.items;\n    var moduleId = module.id;\n    for (var i = 0; i < moduleItems.length; i++) {\n      var item = moduleItems[i];\n\n      storeItem(item);\n\n      contentHtml += '<td>' + item.title + '</td>';\n\n      contentHtml += '<td ' + getBooleanOutput(item.published) + '</td>';\n      var req = item.completion_requirement;\n      if (item.type == 'SubHeader') {\n        contentHtml += '<td>';\n      } else {\n        contentHtml += '<td ' + getBooleanOutput(req);\n      }\n      if (req) {\n        var reqtype = req.type;\n        contentHtml += ' (' + reqtype + ')';\n        contentHtml += ' ';\n        if (reqtype == 'min_score') {\n          var min_score = req.min_score;\n          contentHtml += '<br/>Min score: ' + min_score;\n        }\n      }\n      contentHtml += '</td><td>';\n      contentHtml += item.type;\n      contentHtml += '</td><td>';\n      contentHtml += printSanityTableForItem(courseId, moduleId, item);\n      contentHtml += '</td>';\n      contentHtml += '</tr>';\n    } //End for all module items.\n    contentHtml += '</tbody></table>';\n    return contentHtml;\n  }\n  function postProcessSanityTableForModule(courseId, module) {\n    var moduleItems = module.items;\n    var moduleId = module.id;\n    for (var i = 0; i < moduleItems.length; i++) {\n      var item = moduleItems[i];\n      postProcessSanityTableForItem(courseId, moduleId, item);\n    }\n  }\n\n  function processModules(courseId, modules) {\n    var contentHtml = '';\n    for (var i = 0; i < modules.length; i++) {\n      var module = modules[i];\n\n      contentHtml += '<p><b>Modulnavn:' + module.name + '</b></p>';\n      contentHtml +=\n        '<p>Publisert: <span ' +\n        getBooleanOutput(module.published) +\n        '</span></p>';\n\n      contentHtml += getSanityTableForModule(courseId, module);\n      contentHtml += '<hr/>';\n    } //End for all modules\n    return contentHtml;\n  } //end function\n\n  function postProcessModules(courseId, modules) {\n    for (var i = 0; i < modules.length; i++) {\n      var module = modules[i];\n      postProcessSanityTableForModule(courseId, module);\n    } //End for all modules\n  } //end function\n\n  function getTitle(item, pageType) {\n    var title = '';\n    if (pageType == DISCUSSIONTYPE || pageType == PAGETYPE) {\n      title = item.title;\n    } else {\n      title = item.name;\n    }\n    return title;\n  }\n  function getPublishedString(item) {\n    var s = 'NEI';\n    if (item.published) {\n      s = \"<span style='bgcolor=red;color=white'>JA</span>\";\n    }\n    return s;\n  }\n\n  function getOrphanTableId(pageType) {\n    return 'pageType' + pageType;\n  }\n  function createTable(pageType, description) {\n    var contentHtml =\n      '<h2>' +\n      description +\n      '</h2>' +\n      \"<table class='table' id='\" +\n      getOrphanTableId(pageType) +\n      \"'>\";\n    contentHtml +=\n      '<thead><tr><th>Publisert</th><th>Tittel</th><th>Lenke</th></tr></thead><tbody></tbody></table>';\n    return contentHtml;\n  }\n  function printRowWithColorInOrphanTable(\n    pageType,\n    c1,\n    c2,\n    c3,\n    color,\n    bgcolor\n  ) {\n    var rowHtml =\n      '<tr><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c1 +\n      '</td><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c2 +\n      '</td><td ' +\n      getStyle(color, bgcolor) +\n      '>' +\n      c3 +\n      '</td></tr>';\n    $('#' + getOrphanTableId(pageType)).append(rowHtml);\n  }\n  function printRedRowInOrphanTable(pageType, c1, c2, c3) {\n    printRowWithColorInOrphanTable(pageType, c1, c2, c3, 'white', 'red');\n  }\n  function printGreenRowInOrphanTable(pageType, c1, c2, c3) {\n    printRowWithColorInOrphanTable(pageType, c1, c2, c3, 'white', 'green');\n  }\n\n  function getOrphanItemsTable(itemList, pageType) {\n    var orphans = false;\n    for (var i = 0; i < itemList.length; i++) {\n      var item = itemList[i];\n      var key = getCommonUrlKey(item.html_url);\n      var moduleItem = AllModuleItems[key];\n      if (!moduleItem) {\n        var title = getTitle(item, pageType);\n        var published = getPublishedString(item);\n        printRedRowInOrphanTable(pageType, published, title, key);\n        orphans = true;\n      }\n    }\n    if (!orphans) {\n      printGreenRowInOrphanTable(pageType, 'Ingen', '', '');\n    }\n  }\n\n  function getGroupCategoryTableId(id) {\n    return 'pfdkGroupCategory_' + id;\n  }\n  function getSectionTableId(id) {\n    return 'pfdkSection_' + id;\n  }\n\n  return {\n    addSanityCheckButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdksanitycheck' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />Sanity check</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdksanitycheck').on('click', function() {\n        bCancel = false;\n        var contentarea = $('#content');\n        var contentHtml = '';\n        contentarea.html(\n          '<h1>Sanity check</h1>\\\n        <div id=\"mmoocOverallProgress\"></div>\\\n        <div id=\"resultarea\"></div>'\n        );\n\n        var courseId = mmooc.api.getCurrentCourseId();\n        mmooc.api.getCourse(\n          courseId,\n          function(course) {\n            contentHtml += '<p><b>Kursnavn:</b> ' + course.name + '</p>';\n            var coursePublished = course.workflow_state == 'available';\n            contentHtml +=\n              '<p>Publisert: <span ' +\n              getBooleanOutput(coursePublished) +\n              '</span></p>';\n\n            contentHtml += createTable(PAGETYPE, 'Løsrevne sider');\n            contentHtml += createTable(ASSIGNMENTTYPE, 'Løsrevne oppgaver');\n            contentHtml += createTable(DISCUSSIONTYPE, 'Løsrevne diskusjoner');\n            contentHtml += createTable(QUIZTYPE, 'Løsrevne quizer');\n\n            mmooc.api.getModulesForCurrentCourse(function(modules) {\n              contentHtml += processModules(courseId, modules);\n              $('#resultarea').html(contentHtml);\n              postProcessModules(courseId, modules);\n\n              mmooc.api.getPagesForCourse(courseId, function(pages) {\n                getOrphanItemsTable(pages, PAGETYPE);\n              });\n              mmooc.api.getAssignmentsForCourse(courseId, function(\n                assignments\n              ) {\n                getOrphanItemsTable(assignments, ASSIGNMENTTYPE);\n              });\n              mmooc.api.getDiscussionTopicsForCourse(courseId, function(\n                discussions\n              ) {\n                getOrphanItemsTable(discussions, DISCUSSIONTYPE);\n              });\n              mmooc.api.getQuizzesForCourse(courseId, function(quizzes) {\n                getOrphanItemsTable(quizzes, QUIZTYPE);\n              });\n            }, error);\n          },\n          error\n        );\n      });\n    },\n\n    addListSectionsButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistsections' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List sections</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistsections').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Seksjoner</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n        var params = { per_page: 999 };\n        mmooc.api.getSectionsForCourse(courseId, params, function(sections) {\n          var resultHtml =\n            \"<table class='table'><tr><th>Section name</th><th>Section id</th></tr>\";\n          for (var i = 0; i < sections.length; i++) {\n            resultHtml =\n              resultHtml +\n              '<tr><td>' +\n              sections[i].name +\n              '</td><td>' +\n              sections[i].id +\n              '</td></tr>';\n          }\n          resultHtml += '</table>';\n          $('#resultarea').html(resultHtml);\n        });\n      });\n    },\n    addListUsersButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistusers' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List users</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistusers').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Brukere</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n\n        var params = { per_page: 999 };\n        mmooc.api.getSectionsForCourse(courseId, params, function(sections) {\n          var tableHtml = '';\n          for (var i = 0; i < sections.length; i++) {\n            var section = sections[i];\n            var tableId = getSectionTableId(section.id);\n            tableHtml =\n              '<h2>' +\n              section.name +\n              '</h2>' +\n              \"<table class='table' id='\" +\n              tableId +\n              \"'>\";\n            tableHtml +=\n              '<thead><tr><th>User id</th><th>SIS user id</th></tr></thead><tbody></tbody></table>';\n            $('#resultarea').append(tableHtml);\n\n            var params = { per_page: 999 };\n            mmooc.api.getEnrollmentsForSection(section.id, params, function(\n              enrollments\n            ) {\n              for (var j = 0; j < enrollments.length; j++) {\n                var enrollment = enrollments[j];\n                var tableId = getSectionTableId(enrollment.course_section_id);\n                var rowHtml =\n                  '<tr><td>' +\n                  enrollment.user_id +\n                  '</td><td>' +\n                  enrollment.sis_user_id +\n                  '</td></tr>';\n                $('#' + tableId).append(rowHtml);\n              }\n            });\n          } // end for all sections\n        }); //end getsectionsforcourse\n      }); //end pfdklistuser click button\n    },\n    addListAssignmentsButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistassignments' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List assignments</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistassignments').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Oppgaver</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n\n        var params = { per_page: 999 };\n        mmooc.api.getAssignmentsForCourse(courseId, function(assignments) {\n          if (!assignments.length) {\n            $('#resultarea').append('Ingen oppgaver');\n          } else {\n            var tableHtml = \"<table class='table' id='pfdkassignmentstable'>\";\n            tableHtml +=\n              '<thead><tr><th>Oppgave id</th><th>Beskrivelse</th><th>Hverandrevurdering</th></tr></thead><tbody></tbody></table>';\n            $('#resultarea').append(tableHtml);\n            for (var i = 0; i < assignments.length; i++) {\n              var assignment = assignments[i];\n              var peerReview = 'NEI';\n\n              if (assignment.peer_reviews) {\n                peerReview = 'JA';\n              }\n\n              var rowHtml =\n                '<tr><td>' +\n                assignment.id +\n                \"</td><td><a href='\" +\n                assignment.html_url +\n                \"' target='_blank'>\" +\n                assignment.name +\n                '</a></td><td>' +\n                peerReview +\n                '</td></tr>';\n              $('#pfdkassignmentstable').append(rowHtml);\n            } //end for all assignments\n          } // endif any assignments\n        }); //end getAssignmentsForCourse\n      }); //end addListAssignmentsButton click button\n    },\n\n    addListGroupsButton: function() {\n      $('#right-side table.summary').before(\n        \"<a id='pfdklistgroups' class='Button Button--link Button--link--has-divider Button--course-settings' href='#'><i class='icon-student-view' />List groups</a>\"\n      );\n\n      //Når man trykker på knappen så kjører koden nedenfor.\n      $('#pfdklistgroups').on('click', function() {\n        var contentarea = $('#content');\n        contentarea.html('<h1>Grupper</h1><div id=\"resultarea\"></div>');\n\n        var courseId = mmooc.api.getCurrentCourseId();\n        mmooc.api.getGroupCategoriesForCourse(courseId, function(categories) {\n          var tableHtml = '';\n          for (var i = 0; i < categories.length; i++) {\n            var category = categories[i];\n            var tableId = getGroupCategoryTableId(category.id);\n            tableHtml =\n              '<h2>' +\n              category.name +\n              '</h2>' +\n              \"<table class='table' id='\" +\n              tableId +\n              \"'>\";\n            tableHtml +=\n              '<thead><tr><th>Gruppenavn</th><th>Id</th></tr></thead><tbody></tbody></table>';\n            $('#resultarea').append(tableHtml);\n\n            mmooc.api.getGroupsInCategory(category.id, function(groups) {\n              for (var j = 0; j < groups.length; j++) {\n                var group = groups[j];\n                var tableId = getGroupCategoryTableId(group.group_category_id);\n                var rowHtml =\n                  '<tr><td>' +\n                  group.name +\n                  '</td><td>' +\n                  group.id +\n                  '</td></tr>';\n                $('#' + tableId).append(rowHtml);\n              }\n            });\n          }\n        }); //end getGroupCategoriesForCourse\n      }); //end pfdklistgroups button pressed\n    } //end addListGroupsButton\n  };\n})();\n\nthis.mmooc=this.mmooc||{};\n\n\nthis.mmooc.dataporten = function() {\n    var token = null;\n\n// VARIABLES CHANGED BY GRUNT\n    let request = ['email','longterm', 'openid', 'profile', 'userid-feide', 'groups', 'gk_netgurukpasapi'];\n    let dataportenCallback = 'https://localhost/courses/1?dataportenCallback=1';\n    let dataportenClientId = '823e54e4-9cb7-438f-b551-d1af9de0c2cd';\n    let kpasapiurl = 'https://netgurukpasapi.dataporten-api.no';    \n\n    \n    var opts = {\n        scopes: {\n            request: request\n        },\n        response_type: 'id_token token'\n    }\n        \n    var client = new jso.JSO({\n                providerID: \"Dataporten\",\n                client_id: dataportenClientId,\n                redirect_uri: dataportenCallback, \n                authorization: \"https://auth.dataporten.no/oauth/authorization\"\n            });\n\n    return {\n        getSilentOpts : function() {\n            var silent_opts = JSON.parse(JSON.stringify(opts));\n            silent_opts.request = {prompt: \"none\"};\n            return silent_opts;\n        },\n        getClient : function() {\n            return client;\n        },\n        updateStatus : function(s, waitIcon = true) {\n            $(\"#dataportenStatus\").html(s);\n            if(waitIcon) {\n                $(\"#dataportenStatus\").append(\"<span class='loading-gif'></span>\");\n            }\n        },\n        clearStatus : function() {\n            $(\"#dataportenStatus\").html(\"\");\n        },\n        updateContent : function(s) {\n            $(\"#dataportenContent\").html(s);\n        },\n        appendContent : function(s){\n            $(\"#dataportenContent\").append(s);\n        },\n        clearContent : function() {\n            $(\"#dataportenContent\").html(\"\");\n            $(\"#dataportenUserInfo\").html(\"\");\n        },\n        display: function() {\n            $(\"#course_home_content\").prepend(\"<div id='dataportenStatus'/><div id='dataportenUserInfo'/><div id='dataportenContent'/><div id='dataportenLoginInfo'/>\");\n            var silent_opts = this.getSilentOpts();\n\n            mmooc.dataporten.updateStatus(\"Sjekker forbindelse til dataporten...\");\n            this.token = client.checkToken(silent_opts);\n            if(this.token) {\n                console.log(this.token.access_token);\n                this.tokenBelongsToLoggedInUser(function(belongs, canvasUserId, dataportenUserInfo) {\n                    if(belongs) {\n                        mmooc.dataporten.validToken();\n                    } else {\n                        let waitIcon = false;\n                        var html = \"Du er logget inn med \" + canvasUserId  + \" i Canvas og \" + dataportenUserInfo.user.userid;\n                        if(dataportenUserInfo.user.userid_sec.length)\n                        {\n                            html += \"/\" + dataportenUserInfo.user.userid_sec[0];\n                        }\n                        html += \" i dataporten. Du må være logget inn med samme bruker i de to systemene.\";\n                        mmooc.dataporten.updateStatus(html, waitIcon);\n\n                        mmooc.dataporten.printLogoutOptions();\n                    }\n                });  \n            } else { //Try and see if we can login silently.\n                this.hiddenIframeLogin();\n            }\n        },\n        displayUserInfo : function() {\n            mmooc.dataporten.getUserInfo(function(userInfo) {\n                var html = \"Du er logget inn på dataporten som \" + userInfo.user.name;\n                $(\"#dataportenUserInfo\").html(html);\n            });\n        },\n        validToken: function() {\n            mmooc.dataporten.displayUserInfo();\n            mmooc.dataporten.displayGroups();\n            mmooc.dataporten.printLogoutOptions();\n        },\n        getFeideIdFromDataportenUserInfo(userIdSec)\n        {\n            let start = userIdSec.indexOf(\":\") + 1;\n            let feideid = userIdSec.substr(start);\n            return feideid;\n        },\n        //If we want to require that the account used to connect to dataporten is the same as the one used\n        //to login to Canvas, we could call the code below and perform some checks. Right now the code\n        //compares the Canvas login id with the secondary open id, i.e. Feide id. \n        tokenBelongsToLoggedInUser: function(callback) {\n            this.getUserInfo(function(userInfo) {\n                mmooc.api.getUserProfile(function(userProfile) {\n                    var belongs = false;\n                    if(userProfile.login_id == userInfo.user.userid) {\n                        belongs = true;\n                    } else if (userInfo.user.userid_sec.length) {\n                        let userIdSec = userInfo.user.userid_sec[0];\n                        let feideId = mmooc.dataporten.getFeideIdFromDataportenUserInfo(userIdSec);\n                        if(userProfile.login_id == feideId) {\n                            belongs = true;\n                        }\n                    }\n                    callback(belongs, userProfile.login_id, userInfo);\n                });\n            });\n        },\n        printLogoutOptions : function() {\n            var html = \"<div><button class='button' id='dataportenWipeToken'>Logg ut av dataporten</button></div>\";\n            $(\"#dataportenLoginInfo\").html(html);\n            $(document).on(\"click\",\"#dataportenWipeToken\",function(e){\n                mmooc.dataporten.wipeToken();\n                mmooc.dataporten.clearStatus();\n                mmooc.dataporten.clearContent();\n                mmooc.dataporten.printLoginOptions();\n            });\n        },\n        printLoginOptions : function() {\n            var dataportenHtml = mmooc.util.renderTemplateWithData(\"dataporten\", {});\n            $(\"#dataportenLoginInfo\").html(dataportenHtml);\n            $(document).off('click', \"#dataportenPopupLogin\");\n            $(document).on (\"click\", \"#dataportenPopupLogin\",function(e) {mmooc.dataporten.authorizePopup()});\n        },\n        _get : function(url, callback) {\n            var self = this;\n            $.ajax({\n                    url: url,\n                    beforeSend: function(xhr) {\n                         xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                    }, success: function(data){\n                        callback(data)\n                    }, error: function(XMLHttpRequest, textStatus, errorThrown) {\n                        let errMsg = 'Det oppstod en feil:' + errorThrown;\n                        console.log(errMsg);\n                        mmooc.dataporten.clearStatus();\n                        self.wipeToken();\n                        self.printLoginOptions();\n                }});\n        },\n        _post : function(url, data, callback) {\n            var self = this;\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                }, \n                data: data,\n                success: function(result) {\n                    callback(result)\n                },\n                error(XMLHttpRequest, textStatus, errorThrown) {\n                    let errMsg = 'Det oppstod en feil:' + errorThrown;\n                    alert(errMsg);\n                    console.log(errMsg);\n                }\n            });\n        },\n        getUserInfo : function(callback) {\n            let url = \"https://auth.dataporten.no/userinfo\";\n            this._get(url, callback);\n        },\n        getGroupCategoriesForCourse : function(courseId, callback) {\n            let url = kpasapiurl + \"/group_categories.php?course_id=\" + courseId;\n            this._get(url, callback);\n        },\n        isMemberOf : function(dataportenGroup, groupCategory, canvasGroups)\n        {\n            var found = false;\n            for(var i = 0; i < canvasGroups.length; i++) {\n                if ((canvasGroups[i].name == dataportenGroup.displayName) &&\n                    (canvasGroups[i].description == dataportenGroup.id) &&\n                    (canvasGroups[i].group_category_id == groupCategory.id)) {\n                    found = true;\n                    break;\n                }\n            }\n            return found;\n        },\n        addUserToGroup : function(group, unenrollmentIds) {\n            let url = kpasapiurl + \"/addusertogroup.php\";\n            var data = \"group=\" + JSON.stringify(group) + \"&unenrollFrom={\\\"unenrollmentIds\\\":\" + JSON.stringify(unenrollmentIds) + \"}\";\n            this._post(url, data, function(result) {\n                mmooc.dataporten.displayGroups();\n            });\n        },\n        displayOneGroup : function(courseID, unenrollmentIds, dataportenGroup, groupCategory, canvasGroups) {\n            var member = mmooc.dataporten.isMemberOf(dataportenGroup, groupCategory, canvasGroups);\n            var group = {\n                name: dataportenGroup.displayName,\n                description: dataportenGroup.id,\n                membership: dataportenGroup.membership.basic,\n                group_category_id: groupCategory.id,\n                course_id: courseID                            \n            };\n\n            var id = \"\" + dataportenGroup.id;\n            id = id.replace(/[-&\\/\\\\#,+()$~%.'\":*?<>{}]/g,'_');\n            var dataportenGroupHtml = mmooc.util.renderTemplateWithData(\"dataportenGroups\", {member: member, id:id, dataportenGroup:dataportenGroup});\n            mmooc.dataporten.appendContent(dataportenGroupHtml);\n            (function(j, k) {\n                $(document).off('click', \"#\"+id);\n                $(document).on(\"click\",\"#\"+id,function(e) {\n                    mmooc.dataporten.clearContent();\n                    mmooc.dataporten.updateStatus(\"Melder deg inn i gruppe...\");\n                    mmooc.dataporten.addUserToGroup(j,k);\n                });\n            })(group, unenrollmentIds);\n        },        \n        displayGroups: function() {\n            mmooc.dataporten.clearContent();\n            let url = 'https://groups-api.dataporten.no/groups/me/groups';\n            mmooc.dataporten.updateStatus(\"Henter grupper fra dataporten...\");\n            this._get(url, function(dataportenGroups) {\n                mmooc.dataporten.updateStatus(\"Henter grupper fra Canvas...\");\n                mmooc.api.getUserGroups(function(canvasGroups) {\n                  let courseID = mmooc.api.getCurrentCourseId();\n                  mmooc.dataporten.updateStatus(\"Henter gruppekategorier fra Canvas...\");\n                  mmooc.dataporten.getGroupCategoriesForCourse(courseID, function(result) {\n                    var categories = result.data;\n                    \n                    mmooc.dataporten.updateStatus(\"Sjekker din gruppetilhørighet i Canvas...\");\n                    mmooc.api.getUsersEnrollmentsForCourse(courseID, \n                        (function(courseID, categories) {\n                            return function(enrollments) {\n                                var unenrollmentIds = Array();\n                                for(var e = 0; e < enrollments.length; e++) {\n                                    unenrollmentIds.push(enrollments[e].id)\n                                }\n                                for(var g = 0; g < categories.length; g++) {\n                                    let groupCategory = categories[g];\n                                    mmooc.dataporten.appendContent(\"<h1>\" + groupCategory.name + \"</h1>\");\n                        \n                                    for(var i = 0; i < dataportenGroups.length; i++) {\n                                        var dataportenGroup = dataportenGroups[i];\n                                        mmooc.dataporten.displayOneGroup(courseID, unenrollmentIds, dataportenGroup, groupCategory, canvasGroups);\n                                    }\n                                }\n                                mmooc.dataporten.clearStatus();\n                            } //end function courses\n                        })(courseID, categories)\n                    );\n                }) //end fetched Canvas group categories\n              }); //end fetched Canvas groups\n            }); //end fetched dataporten Groups\n        },\n        \n        wipeToken: function()  {\n            client.wipeTokens()\n        },\n\n        authorizePopup: function()  {\n            var self = this;\n            let opts = {\n                scopes: {\n                    request: request\n                },\n                response_type: 'id_token token'\n            }\n\n            client.setLoader(jso.Popup)\n            client.getToken(opts)\n                .then((token) => {\n                    console.log(\"I got the token: \" + token.access_token);\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.error(\"Error from popup loader\", err)\n                })\n        },        \n        hiddenIframeLogin : function()\n        {\n//            window.loginType = \"iframeLogin\";\n            var self = this;\n            var silent_opts = this.getSilentOpts();\n            client.setLoader(jso.IFramePassive)\n            client.getToken(silent_opts)\n                .then((token) => {\n                    console.log(\"I got the token: \", token)\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.log(\"Error from passive loader\", err)\n                    mmooc.dataporten.clearStatus();\n                    self.printLoginOptions();\n\n//                    alert(\"iframe passive login only works if you are already logged in:\" + err);\n                })\n        }    }\n}();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.discussionTopics = (function () {\n    return {\n        moveSequenceLinks: function() {\n            var sequenceContainer = $('#module_sequence_footer');\n            var sequenceContainerContent = $('.module-sequence-footer-content');\n            if(sequenceContainer.length && sequenceContainerContent.length) {\n              var cloneSequenceContainer = sequenceContainer.clone();\n              cloneSequenceContainer.attr(\"id\", \"module_sequence_footer_top\");\n              var discussionContainer = $('#discussion_container');\n              cloneSequenceContainer.addClass('module-sequence-top');\n              cloneSequenceContainer.insertBefore(discussionContainer);\n            } else {\n              setTimeout(mmooc.discussionTopics.moveSequenceLinks, 500);        \n            }\n        },\n        setDiscussionTopicPubDate: function (discussionTopic) {\n            if (discussionTopic) {\n                var formattedDate = mmooc.util.formattedDate(discussionTopic.posted_at);\n                var pubDate = $(\n                    \"<div class='publication-date'>\" + formattedDate + '</div>'\n                );\n                $(pubDate).prependTo('#discussion_topic .discussion-header-right');\n            }\n        },\n\n        setDiscussionsListUnreadClass: function () {\n            var checkExist = setInterval(function () {\n                if (\n                    $('body.discussions #open-discussions .ig-list .discussion').length\n                ) {\n                    clearInterval(checkExist);\n                    $('body.discussions #open-discussions .ig-list .discussion').each(\n                        function () {\n                            var unread = $(this)\n                                .find('.new-items')\n                                .text();\n                            if (unread.indexOf('0') == -1) {\n                                $(this).addClass('unread');\n                            }\n                        }\n                    );\n                }\n            }, 100);\n        },\n        insertSearchButton: function () {\n            $('.index_view_filter_form').append(\n                '<button class=\"btn btn-discussion-search\">'\n            );\n        },\n        printDiscussionUnreadCount: function (modules, context) {\n            var discussionItems = mmooc.discussionTopics.getDiscussionItems(modules);\n            var courseId = mmooc.api.getCurrentCourseId();\n            var totalUnread = 0;\n            var asyncsDone = 0;\n            var groupDiscussionTopics = [];\n            for (var i = 0; i < discussionItems.length; i++) {\n                var contentId = discussionItems[i].content_id;\n                mmooc.api.getDiscussionTopic(courseId, contentId, function (\n                    discussionTopic\n                ) {\n                    if (discussionTopic) {\n                        if (discussionTopic.group_category_id) {\n                            groupDiscussionTopics.push(discussionTopic);\n                        } else {\n                            if (discussionTopic.unread_count > 0) {\n                                if (context == 'coursepage') {\n                                    mmooc.discussionTopics.printUnreadCountOnIcon(\n                                        discussionTopic.unread_count,\n                                        discussionTopic.id\n                                    );\n                                }\n                                totalUnread = totalUnread + discussionTopic.unread_count;\n                            }\n                        }\n                    }\n                    asyncsDone++;\n                    if (asyncsDone == discussionItems.length) {\n                        if (totalUnread > 0 && groupDiscussionTopics.length == 0) {\n                            mmooc.discussionTopics.printUnreadCountInTab(totalUnread);\n                            if (context == 'discussionslist') {\n                                return;\n                            }\n                        } else if (groupDiscussionTopics.length > 0) {\n                            mmooc.discussionTopics.printGroupDiscussionUnreadCount(\n                                courseId,\n                                groupDiscussionTopics,\n                                totalUnread,\n                                context\n                            );\n                        } else {\n                            return;\n                        }\n                    }\n                });\n            }\n        },\n        printGroupDiscussionUnreadCount: function (\n            courseId,\n            groupDiscussionTopics,\n            totalUnread,\n            context\n        ) {\n            // if teacher or admin\n            if (mmooc.util.isTeacherOrAdmin()) {\n                var params = {user_id: 'self', per_page: 999};\n                var asyncsDone = 0;\n                var sectionNames = [];\n                // get enrollments and sections for current user\n                mmooc.api.getEnrollmentsForCourse(courseId, params, function (\n                    enrollments\n                ) {\n                    for (var i = 0; i < enrollments.length; i++) {\n                        var sectionId = enrollments[i].course_section_id;\n                        mmooc.api.getSingleSection(sectionId, function (section) {\n                            sectionNames.push(section.name);\n                            asyncsDone++;\n                            if (asyncsDone == enrollments.length) {\n                                mmooc.api.getGroupsInCourse(courseId, function (groups) {\n                                    var totalAsyncs = 0;\n                                    var allUnreadCounts = [];\n                                    asyncsDone = 0;\n                                    for (var j = 0; j < groups.length; j++) {\n                                        for (var k = 0; k < sectionNames.length; k++) {\n                                            // check if group name equals section name then get discussion topics\n                                            if (groups[j].name == sectionNames[k]) {\n                                                var groupId = groups[j].id;\n                                                totalAsyncs++;\n                                                mmooc.api.getGroupDiscussionTopics(groupId, function (\n                                                    discussions\n                                                ) {\n                                                    for (var l = 0; l < discussions.length; l++) {\n                                                        for (\n                                                            var m = 0;\n                                                            m < groupDiscussionTopics.length;\n                                                            m++\n                                                        ) {\n                                                            // check if group discussion is exists current course\n                                                            if (\n                                                                discussions[l].root_topic_id ==\n                                                                groupDiscussionTopics[m].id\n                                                            ) {\n                                                                if (discussions[l].unread_count > 0) {\n                                                                    var rootTopicUnreadCountsObj = {\n                                                                        rootTopicId: discussions[l].root_topic_id,\n                                                                        unreadCount: discussions[l].unread_count\n                                                                    };\n                                                                    allUnreadCounts.push(\n                                                                        rootTopicUnreadCountsObj\n                                                                    );\n                                                                    totalUnread =\n                                                                        totalUnread + discussions[l].unread_count;\n                                                                }\n                                                            }\n                                                        }\n                                                    }\n                                                    asyncsDone++;\n                                                    if (asyncsDone == totalAsyncs) {\n                                                        mmooc.discussionTopics.printUnreadCountInTab(\n                                                            totalUnread\n                                                        );\n                                                        if (\n                                                            context == 'coursepage' ||\n                                                            context == 'discussionslist'\n                                                        ) {\n                                                            var unreadCountForRootTopic = 0;\n                                                            var totalRootTopicUnreadCounts = [];\n                                                            // add together unread counts with same root topic id\n                                                            for (var n = 0; n < allUnreadCounts.length; n++) {\n                                                                for (\n                                                                    var o = 0;\n                                                                    o < allUnreadCounts.length;\n                                                                    o++\n                                                                ) {\n                                                                    if (\n                                                                        allUnreadCounts[n].rootTopicId ==\n                                                                        allUnreadCounts[o].rootTopicId\n                                                                    ) {\n                                                                        unreadCountForRootTopic =\n                                                                            unreadCountForRootTopic +\n                                                                            allUnreadCounts[o].unreadCount;\n                                                                    }\n                                                                }\n                                                                var totalRootTopicUnreadCountsObj = {\n                                                                    rootTopicId: allUnreadCounts[n].rootTopicId,\n                                                                    unreadCount: unreadCountForRootTopic\n                                                                };\n                                                                totalRootTopicUnreadCounts.push(\n                                                                    totalRootTopicUnreadCountsObj\n                                                                );\n                                                                unreadCountForRootTopic = 0;\n                                                            }\n                                                            // only print unread count for unique topic ids\n                                                            var uniqueTotalRootTopicUnreadCounts = [];\n                                                            var used = [];\n                                                            for (\n                                                                var p = 0;\n                                                                p < totalRootTopicUnreadCounts.length;\n                                                                p++\n                                                            ) {\n                                                                if (\n                                                                    used.indexOf(\n                                                                        totalRootTopicUnreadCounts[p].rootTopicId\n                                                                    ) == -1\n                                                                ) {\n                                                                    var totalRootTopicUnreadCountsObj = {\n                                                                        rootTopicId:\n                                                                        totalRootTopicUnreadCounts[p].rootTopicId,\n                                                                        unreadCount:\n                                                                        totalRootTopicUnreadCounts[p].unreadCount\n                                                                    };\n                                                                    uniqueTotalRootTopicUnreadCounts.push(\n                                                                        totalRootTopicUnreadCountsObj\n                                                                    );\n                                                                    used.push(\n                                                                        totalRootTopicUnreadCounts[p].rootTopicId\n                                                                    );\n                                                                }\n                                                            } // end for totalRootTopicUnreadCounts.length\n                                                            if (context == 'coursepage') {\n                                                                for (\n                                                                    var q = 0;\n                                                                    q < uniqueTotalRootTopicUnreadCounts.length;\n                                                                    q++\n                                                                ) {\n                                                                    mmooc.discussionTopics.printUnreadCountOnIcon(\n                                                                        uniqueTotalRootTopicUnreadCounts[q]\n                                                                            .unreadCount,\n                                                                        uniqueTotalRootTopicUnreadCounts[q]\n                                                                            .rootTopicId\n                                                                    );\n                                                                }\n                                                            }\n                                                            if (context == 'discussionslist') {\n                                                                mmooc.discussionTopics.printUnreadCountInDiscussionsList(\n                                                                    uniqueTotalRootTopicUnreadCounts\n                                                                );\n                                                            } // end if discussions list\n                                                        } // end if coursepage or discussions list\n                                                    } // end if asyncsDone\n                                                }); // end group discussion topics async call\n                                            } // end if group name equals section name\n                                        } // end for sectionNames.length\n                                    } // end for groups.length\n                                }); // end for groups in course async call\n                            } // end if asyncsDone\n                        }); // end section async call\n                    } // end for enrollments.length\n                }); // end enrollments async call\n            } // end if teacher or admin\n            // if student\n            else {\n                mmooc.api.getUserGroups(function (groups) {\n                    if (groups.length == 0 && totalUnread > 0) {\n                        mmooc.discussionTopics.printUnreadCountInTab(totalUnread);\n                    }\n                    for (var i = 0; i < groups.length; i++) {\n                        for (var j = 0; j < groupDiscussionTopics.length; j++) {\n                            if (\n                                groups[i].course_id == courseId &&\n                                groups[i].group_category_id ==\n                                groupDiscussionTopics[j].group_category_id\n                            ) {\n                                groupId = groups[i].id;\n                                mmooc.api.getGroupDiscussionTopics(groupId, function (\n                                    discussions\n                                ) {\n                                    var totalRootTopicUnreadCounts = [];\n                                    for (var k = 0; k < discussions.length; k++) {\n                                        if (discussions[k].unread_count > 0) {\n                                            if (context == 'coursepage') {\n                                                mmooc.discussionTopics.printUnreadCountOnIcon(\n                                                    discussions[k].unread_count,\n                                                    discussions[k].root_topic_id\n                                                );\n                                            }\n                                            if (context == 'discussionslist') {\n                                                var totalRootTopicUnreadCountsObj = {\n                                                    rootTopicId: discussions[k].root_topic_id,\n                                                    unreadCount: discussions[k].unread_count\n                                                };\n                                                totalRootTopicUnreadCounts.push(\n                                                    totalRootTopicUnreadCountsObj\n                                                );\n                                            }\n                                            totalUnread += discussions[k].unread_count;\n                                        }\n                                    }\n                                    if (totalUnread > 0) {\n                                        mmooc.discussionTopics.printUnreadCountInTab(totalUnread);\n                                    }\n                                    if (context == 'discussionslist') {\n                                        mmooc.discussionTopics.printUnreadCountInDiscussionsList(\n                                            totalRootTopicUnreadCounts\n                                        );\n                                    }\n                                }); // end group discussions async call\n                                break;\n                            }\n                        } // end for groupDiscussionTopics.length\n                    } // end for groupDiscussionTopics.length\n                }); // end user groups async call\n            }\n        },\n        getDiscussionItems: function (modules) {\n            var discussionItems = [];\n            for (var i = 0; i < modules.length; i++) {\n                for (var j = 0; j < modules[i].items.length; j++) {\n                    if (modules[i].items[j].type == 'Discussion') {\n                        discussionItems.push(modules[i].items[j]);\n                    }\n                }\n            }\n            return discussionItems;\n        },\n        printUnreadCountOnIcon: function (unread, discussionId) {\n            $('.discussion-unread-tag.discussion-id-' + discussionId).html(\n                \"<div class='discussion-unread-value discussion-unread-item'>\" +\n                unread +\n                '</div>'\n            );\n        },\n        printUnreadCountInTab: function (totalUnread) {\n            $('.mmooc-course-tab a').each(function () {\n                if ($(this).text() == 'Diskusjoner') {\n                    $(this)\n                        .parent()\n                        .append(\n                            \"<div class='discussion-unread-value discussion-unread-tab'>\" +\n                            totalUnread +\n                            '</div>'\n                        );\n                }\n            });\n        },\n        printUnreadCountInDiscussionsList: function (groupDiscussionsUnreadCount) {\n            var checkExist = setInterval(function () {\n                if ($('#open-discussions .ig-list .discussion').length) {\n                    clearInterval(checkExist);\n                    $('#open-discussions .ig-list .discussion').each(function () {\n                        for (var i = 0; i < groupDiscussionsUnreadCount.length; i++) {\n                            if (\n                                $(this).attr('data-id') ==\n                                groupDiscussionsUnreadCount[i].rootTopicId\n                            ) {\n                                $(this)\n                                    .find('.new-items')\n                                    .text(groupDiscussionsUnreadCount[i].unreadCount);\n                                $(this).addClass('unread');\n                            }\n                        }\n                    });\n                    mmooc.discussionTopics.showUnreadCountInDiscussionList();\n                }\n            }, 100);\n        },\n        hideUnreadCountInDiscussionList: function () {\n            var checkExist = setInterval(function () {\n                if ($('#open-discussions .ig-list .discussion').length) {\n                    clearInterval(checkExist);\n                    $('#open-discussions .ig-list .discussion').each(function () {\n                        $(this)\n                            .find('.new-items')\n                            .hide();\n                        $(this)\n                            .find('.new-items')\n                            .parent()\n                            .prepend(\"<span class='loading-gif loading-unread'></span>\");\n                    });\n                }\n            }, 100);\n        },\n        showUnreadCountInDiscussionList: function () {\n            $('#open-discussions .ig-list .discussion .loading-gif').remove();\n            $('#open-discussions .ig-list .discussion').each(function () {\n                $(this)\n                    .find('.new-items')\n                    .show();\n            });\n        },\n        injectReplyButtonAction(userGroups) {\n            const action = () => mmooc.util.tinyMceEditorIsInDOM(\n                    () => mmooc.tinyMCEEditor.injectGroupHashtags(userGroups)\n                );\n\n            const button = document.querySelector(\"#discussion_topic > div.discussion-entry-reply-area.reply-box-container.hide-if-collapsed.hide-if-replying > a\");\n            if (button !== null) {\n                button.addEventListener(\"click\", action);\n            }\n\n            const subReplyButtons = document.querySelectorAll('#discussion_subentries > ul > li > div.bottom-reply-with-box > div.discussion-entry-reply-area.reply-box-container.hide-if-collapsed.hide-if-replying > a');\n            for (let i = 0; i<subReplyButtons.length; i++){\n                const subReplyButton = subReplyButtons[i];\n                subReplyButton.addEventListener(\"click\", action)\n            }\n        }\n    };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.enroll = (function () {\n  return {\n    displayRegisterPopup: function(authenticated, closeOption, registerText, registerWithCanvasText, selfRegisterCode, courseName, forwardTo) {\n      if(!$('.login-box').length) {\n        let html = mmooc.util.renderTemplateWithData('registerPopup', {\n          authenticated: authenticated,\n          closeOption: closeOption,\n          selfRegisterCode: selfRegisterCode,\n          courseName: courseName,\n          queryString: mmooc.hrefQueryString,\n          RegisterText: registerText,\n          RegisterWithCanvasText: registerWithCanvasText, \n          forwardTo: forwardTo,\n        });\n          document.getElementById('wrapper').insertAdjacentHTML('afterend', html);\n          $('#application').before(`<div class=\"overlay\"></div>`)\n          $('.login-box__close, .overlay').click(() => {\n            $('.login-box, .overlay').remove()\n          })\n      }\n    },\n    changeEnrollInformationPolicyLink: function () {\n      var informationPolicy = $('.ic-Self-enrollment-footer__Secondary > a');\n      if(informationPolicy) {\n        informationPolicy.attr(\"href\", mmooc.settings.privacyPolicyLink);\n      }\n      \n      var termsOfService = $('#create_user_info > div.ic-Checkbox-group > div > label');\n      if(termsOfService) {\n        termsOfService.html(\"Jeg er enig i personvernspolitikken.\");\n      }\n    },\n    addForgotPasswordLink: function () {\n      const buttonId = 'selfEnrollmentForgotPassword';\n      const forgotPasswordButtonHtml =\n        '<button id=\"' + buttonId + '\" class=\"btn btn-primary\" style=\"display: none;\" type=\"submit\">' +\n        'Glemt passord?</button>';\n\n      const parentDiv = $('.ic-Self-enrollment-footer__Primary');\n      parentDiv.prepend(forgotPasswordButtonHtml);\n\n      const forgotPasswordButton = $(`#${buttonId}`);\n      forgotPasswordButton.on(\n        'click', _ => window.location = '/login/canvas?normalLogin=1&design=udir&gp'\n      );\n\n      const alreadyHasUserButton = $('#selfEnrollmentAuthRegLogin');\n      alreadyHasUserButton.on('click', _ => forgotPasswordButton.show());\n\n      const newUserButton = $('#selfEnrollmentAuthRegCreate');\n      newUserButton.on('click', _ => forgotPasswordButton.hide());\n    },\n    updateGotoDashboardButton: function() {\n      $(\".ic-Self-enrollment-footer__Primary > a\").each(function() {\n        var $this = $(this);\n        var _href = $this.attr(\"href\") + mmooc.hrefQueryString;\n\n        const urlParamsObj = mmooc.utilRoot.urlParamsToObject();\n\n        let forwardTo = urlParamsObj && urlParamsObj['forwardTo'];\n        if(forwardTo) {\n          _href += \"&forwardTo=\" + encodeURIComponent(forwardTo);\n        }\n        $this.attr(\"href\", _href);\n     });\n    },\n    changeEnrollPage: function () {\n      this.changeEnrollInformationPolicyLink();\n      this.addForgotPasswordLink();\n      this.updateGotoDashboardButton();\n    },\n    printAllCoursesContainer: function () {\n      html = mmooc.util.renderTemplateWithData('allcoursescontainer', {\n        courseLabel: mmooc.i18n.CoursePlural.toLowerCase(),\n        allAvailableCoursesIngress: mmooc.i18n.AllAvailableCoursesIngress,\n        linkToMyCourses: mmooc.utilRoot.getLinkToMyCourses(),\n        isAuthenticated: mmooc.util.isAuthenticated(),\n        isMobileOrTablet: mmooc.util.isMobileOrTablet()\n      });\n      document.title = 'Tilgjengelige ' + mmooc.i18n.CoursePlural.toLowerCase();\n      document.getElementById('content').innerHTML = html;\n    },\n    goToAllCourses() {\n      $('#mmooc-all-courses-btn').click(function () {\n        const linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n        window.location.href = linkToMyCourses;\n      })\n    },\n    printAllCourses: function () {\n      var self = this;\n      html = \"<div class='mmooc-loader-wrapper'><span class='loading-gif'></span></div>\";\n      $('.mmooc-all-courses-list').append(html);\n      mmooc.api.getAllPublicCourses(function (allCourses) {\n        mmooc.api.getEnrolledCourses(function (enrolledCourses) {\n          var allCoursesWithStatus = mmooc.enroll.setCourseEnrolledStatus(\n            allCourses,\n            enrolledCourses\n          );\n\n          allCoursesWithStatusSorted = mmooc.util.sortCourses(allCoursesWithStatus);\n          var categorys = mmooc.util.getCourseCategories(allCoursesWithStatusSorted);\n\n          /* If the amount of courses is large, the filter select box and corresponding javascript code in allcoursescontainer.hbs should be enabled \n\n          mmooc.enroll.populateFilter(categorys);\n\n          $(\"#filter\").change(function () {\n            mmooc.enroll.applyFilter();\n          });\n\n          */\n\n          var coursesCategorized = mmooc.util.getCoursesCategorized(\n            allCoursesWithStatusSorted,\n            categorys\n          );\n\n          $('.mmooc-loader-wrapper').remove();\n\n          for (var i = 0; i < coursesCategorized.length; i++) {\n            const coursesCategory = coursesCategorized[i];\n            const coursesEnrolledAmount = mmooc.util.filter(\n              coursesCategory.courses,\n              function (course) {\n                return course.enrolled === true\n              }).length;\n            const coursesAmount = coursesCategory.courses && coursesCategory.courses.length;\n\n            var isAuthenticated = mmooc.util.isAuthenticated();\n            var courseRegisterText = mmooc.i18n.LogInCanvas;\n            if (isAuthenticated) {\n              courseRegisterText = mmooc.i18n.CourseRegisterWhenAuthenticated;\n            }\n            html = mmooc.util.renderTemplateWithData('allcourseslist', {\n              queryString: mmooc.hrefQueryString,\n              title: coursesCategory.title,\n              isAuthenticated: isAuthenticated,\n              courses: coursesCategory.courses,\n              coursesEnrolledAmount: coursesEnrolledAmount,\n              coursesAmount: coursesAmount,\n              coursesRoleBasedAmount: coursesCategory.noOfRoleBasedCourses,\n              coursesPersonalBasedAmount: coursesCategory.noOfPersonalBasedCourses,\n              coursesAmountText: mmooc.i18n.CoursesAmount(coursesAmount),\n              courseLabel: mmooc.i18n.Course.toLowerCase(),\n              goToCourse: mmooc.i18n.GoToCourse,\n              courseRegister: courseRegisterText,\n              openCoursesGroupText: mmooc.i18n.OpenCoursesGroup,\n              closeCoursesGroupText: mmooc.i18n.CloseCoursesGroup,\n              YouAreRegisteredToXCoursesText: mmooc.i18n.YouAreRegisteredToXCourses(coursesEnrolledAmount),\n              index: i\n            });\n            $('.mmooc-all-courses-list').append(html);\n            mmooc.enroll.handleRegisterButtonClick();\n          }\n          \n          // Displays information, that there is no current courses available to enroll\n          if (coursesCategorized.length == 0) {\n            html = '<p class=\"text-center\">' + mmooc.i18n.NoCoursesInfo + '</p>';\n            $('.mmooc-all-courses-list').append(html);\n          }\n\n          mmooc.enroll.insertModalAndOverlay();\n          mmooc.enroll.setClickHandlers();\n\n          // TODO: move if there is a better place for this code - it handles course list UI\n          // accordion UI\n          $('.mmooc-accordion-header').click(event => {\n            let accordionIndex = event.target.getAttribute('index');\n\n            if (\n              $(`#mmooc-accordion-header-${accordionIndex}`).hasClass(\n                'mmooc-accordion-header-active'\n              )\n            ) {\n              $(`#mmooc-accordion-header-${accordionIndex}`).toggleClass(\n                'mmooc-accordion-header-active'\n              );\n            } else {\n              $('.mmooc-accordion-header-active').removeClass(\n                'mmooc-accordion-header-active'\n              );\n\n              $(`#mmooc-accordion-header-${accordionIndex}`).addClass(\n                'mmooc-accordion-header-active'\n              );\n            }\n\n            // remove active tabs when new accordion element is clicked\n            $('.mmooc-tab-head').removeClass('mmooc-tab-head-active');\n            $('.mmooc-tab-content').removeClass('mmooc-tab-content-active');\n            $('.mmooc-tabs-mobile-header-active').removeClass(\n              'mmooc-tabs-mobile-header-active'\n            );\n            $('.mmooc-tabs-mobile-content-active').removeClass(\n              'mmooc-tabs-mobile-content-active'\n            );\n\n            // add active class to first tab when the accordion element is opened\n            $('.mmooc-tab-head-0').addClass('mmooc-tab-head-active');\n            $('.mmooc-tab-content-0').addClass('mmooc-tab-content-active');\n          });\n\n          // tabs\n          $('.mmooc-tab-head').click(event => {\n            let tabIndex = event.target.getAttribute('index');\n\n            $('.mmooc-tab-head').removeClass('mmooc-tab-head-active');\n            $(`#mmooc-tab-head-${tabIndex}`).addClass('mmooc-tab-head-active');\n\n            $('.mmooc-tab-content').removeClass('mmooc-tab-content-active');\n            $(`#mmooc-tab-content-${tabIndex}`).addClass(\n              'mmooc-tab-content-active'\n            );\n          });\n\n          // tabs-mobile\n\n          $('.mmooc-tabs-mobile-header').click(event => {\n            let mobileTabIndex = event.target.getAttribute('index');\n\n            if (\n              $(`#mmooc-tabs-mobile-header-${mobileTabIndex}`).hasClass(\n                'mmooc-tabs-mobile-header-active'\n              )\n            ) {\n              $(`#mmooc-tabs-mobile-header-${mobileTabIndex}`).toggleClass(\n                'mmooc-tabs-mobile-header-active'\n              );\n              $(`#mmooc-tabs-mobile-content-${mobileTabIndex}`).toggleClass(\n                'mmooc-tabs-mobile-content-active'\n              );\n            } else {\n              $('.mmooc-tabs-mobile-header-active').removeClass(\n                'mmooc-tabs-mobile-header-active'\n              );\n              $('.mmooc-tabs-mobile-content-active').removeClass(\n                'mmooc-tabs-mobile-content-active'\n              );\n\n              $(`#mmooc-tabs-mobile-header-${mobileTabIndex}`).addClass(\n                'mmooc-tabs-mobile-header-active'\n              );\n              $(`#mmooc-tabs-mobile-content-${mobileTabIndex}`).addClass(\n                'mmooc-tabs-mobile-content-active'\n              );\n            }\n          });\n\n          self.createHashTags();\n          self.scrollToCourse();\n        });\n      });\n    },\n    handleRegisterButtonClick : function() {\n      $('.mmooc-header__register-button').click(function(event) {\n        let closeOption = true;\n        let authenticated = false;\n        mmooc.enroll.displayRegisterPopup(authenticated, closeOption, mmooc.i18n.RegisterPopup, mmooc.i18n.RegisterWithCanvas, event.target.id, mmooc.i18n.RegisterPopup);\n      })\n    },\n    createHashTags: function () {\n      $('span').click(function (e) {\n        if ($(this).filter(\"[data-name='course']\")) {\n          var hashTag = $(e.currentTarget).attr(\"class\")\n          window.location.hash = hashTag;\n        }\n      });\n\n      $(\"button[data-title]\").click(function (e) {\n        var firstCourseId = $(this).siblings().find('span').eq(0).attr('class');\n        var hashTag = firstCourseId;\n        window.location.hash = hashTag;\n      })\n    },\n    scrollToCourse: function () {\n      var currentHash = window.location.hash.split('#');\n      var courses = $('span').filter(\"[data-name='course']\");\n\n      courses.each(function (i, el) {\n        var currentElementId = $(el).attr('class');\n        if (currentHash[1] === currentElementId) {\n          var categoryElement = $(el).closest('section').find('button').eq(0);\n          categoryElement.trigger(\"click\");\n\n          var mobileViewport = window.matchMedia(\"(max-width: 650px)\");\n\n          if (mobileViewport.matches) {\n            $([document.documentElement, document.body]).animate({\n              scrollTop: $(el).find('button').offset().top\n            }, 500);\n          } else {\n            $([document.documentElement, document.body]).animate({\n              scrollTop: $(\".\" + currentElementId).offset().top\n            }, 500);\n          }\n          var courseTab = $(el).find('button');\n          courseTab.trigger(\"click\");\n        }\n      })\n    },\n    setCourseEnrolledStatus: function (allCourses, enrolledCourses) {\n      var allCoursesWithStatus = [];\n      for (var i = 0; i < allCourses.length; i++) {\n        allCourses[i].course.enrolled = false;\n        for (var j = 0; j < enrolledCourses.length; j++) {\n          if (allCourses[i].course.id == enrolledCourses[j].id) {\n            allCourses[i].course.enrolled = true;\n          }\n        }\n        allCoursesWithStatus.push(allCourses[i].course);\n      }\n      return allCoursesWithStatus;\n    },\n    insertModalAndOverlay: function () {\n      $('body').append(\"<div class='mmooc-modal-overlay'></div>\");\n      $('body').append(\"<div class='mmooc-modal'></div>\");\n    },\n    handleEnrollClick: function (e, html) {\n      $('.mmooc-modal').html(html);\n      $('.mmooc-modal-overlay').show();\n      $('.mmooc-modal').show();\n      $('.mmooc-modal .modal-back').click(function (e) {\n        e.preventDefault();\n        $('.mmooc-modal-overlay').hide();\n        $('.mmooc-modal').hide();\n      });\n    },\n    setClickHandlers: function () {\n      $('.notenrolled').click(function (e) {\n        e.preventDefault();\n        var html = $(this)\n          .next()\n          .html();\n        mmooc.enroll.handleEnrollClick(e, html);\n      });\n      $('.all-courses-show-modal').click(function (e) {\n        e.preventDefault();\n        var html = $(this)\n          .parent()\n          .next()\n          .html();\n        mmooc.enroll.handleEnrollClick(e, html);\n      });\n      $('.mmooc-modal-overlay').click(function (e) {\n        e.preventDefault();\n        $('.mmooc-modal-overlay').hide();\n        $('.mmooc-modal').hide();\n      });\n      $(document).on('keydown', function (e) {\n        if (e.keyCode === 27) {\n          $('.mmooc-modal-overlay').hide();\n          $('.mmooc-modal').hide();\n        }\n      });\n    },\n    populateFilter: function (categorys) {\n      var options =\n        '<option value=\"Alle\">Alle tilgjengelige ' +\n        mmooc.i18n.CoursePlural.toLowerCase() +\n        '</option>';\n      for (var i = 0; i < categorys.length; i++) {\n        options +=\n          '<option value=\"' + categorys[i] + '\">' + categorys[i] + '</option>';\n      }\n      $('#filter').append(options);\n    },\n    applyFilter: function () {\n      var value = $('#filter').val();\n      if (value == 'Alle') {\n        $('.mmooc-all-courses-list').removeClass('filter-active');\n        $('.mmooc-all-courses-list h2').each(function () {\n          $(this).show();\n          $(this)\n            .next()\n            .show();\n        });\n      } else {\n        $('.mmooc-all-courses-list').addClass('filter-active');\n        $('.mmooc-all-courses-list h2').each(function () {\n          if ($(this).text() == value) {\n            $(this).show();\n            $(this)\n              .next()\n              .show();\n          } else {\n            $(this).hide();\n            $(this)\n              .next()\n              .hide();\n          }\n        });\n      }\n    }\n  };\n})();\n\nutgaatteKommuneNr = [\n    1,\n    2,\n    4,\n    5,\n    6,\n    7,\n    8,\n    9,\n    10,\n    12,\n    13,\n    14,\n    16,\n    17,\n    19,\n    20,\n    101,\n    102,\n    103,\n    104,\n    105,\n    106,\n    111,\n    113,\n    114,\n    115,\n    118,\n    119,\n    121,\n    122,\n    123,\n    124,\n    125,\n    127,\n    128,\n    130,\n    131,\n    133,\n    134,\n    135,\n    136,\n    137,\n    138,\n    211,\n    213,\n    214,\n    215,\n    216,\n    217,\n    219,\n    220,\n    221,\n    226,\n    227,\n    228,\n    229,\n    230,\n    231,\n    233,\n    234,\n    235,\n    236,\n    237,\n    238,\n    239,\n    401,\n    402,\n    403,\n    412,\n    414,\n    415,\n    417,\n    418,\n    419,\n    420,\n    423,\n    425,\n    426,\n    427,\n    428,\n    429,\n    430,\n    432,\n    434,\n    436,\n    437,\n    438,\n    439,\n    441,\n    501,\n    502,\n    511,\n    512,\n    513,\n    514,\n    515,\n    516,\n    517,\n    519,\n    520,\n    521,\n    522,\n    528,\n    529,\n    532,\n    533,\n    534,\n    536,\n    538,\n    540,\n    541,\n    542,\n    543,\n    544,\n    545,\n    602,\n    604,\n    605,\n    612,\n    615,\n    616,\n    617,\n    618,\n    619,\n    620,\n    621,\n    622,\n    623,\n    624,\n    625,\n    626,\n    627,\n    628,\n    631,\n    632,\n    633,\n    701,\n    702,\n    703,\n    704,\n    705,\n    706,\n    707,\n    708,\n    709,\n    710,\n    711,\n    712,\n    713,\n    714,\n    715,\n    716,\n    717,\n    718,\n    719,\n    720,\n    721,\n    722,\n    723,\n    725,\n    726,\n    727,\n    728,\n    729,\n    805,\n    806,\n    807,\n    811,\n    814,\n    815,\n    817,\n    819,\n    821,\n    822,\n    826,\n    827,\n    828,\n    829,\n    830,\n    831,\n    833,\n    834,\n    901,\n    903,\n    904,\n    906,\n    911,\n    912,\n    914,\n    918,\n    919,\n    920,\n    921,\n    922,\n    926,\n    928,\n    929,\n    935,\n    937,\n    938,\n    940,\n    941,\n    1001,\n    1002,\n    1003,\n    1004,\n    1014,\n    1017,\n    1018,\n    1021,\n    1026,\n    1027,\n    1029,\n    1032,\n    1034,\n    1037,\n    1046,\n    1102,\n    1129,\n    1141,\n    1142,\n    1154,\n    1159,\n    1201,\n    1211,\n    1214,\n    1216,\n    1219,\n    1221,\n    1222,\n    1223,\n    1224,\n    1227,\n    1228,\n    1231,\n    1232,\n    1233,\n    1234,\n    1235,\n    1238,\n    1241,\n    1242,\n    1243,\n    1244,\n    1245,\n    1246,\n    1247,\n    1251,\n    1252,\n    1253,\n    1256,\n    1259,\n    1260,\n    1263,\n    1264,\n    1265,\n    1266,\n    1401,\n    1411,\n    1412,\n    1413,\n    1416,\n    1417,\n    1418,\n    1419,\n    1420,\n    1421,\n    1422,\n    1424,\n    1426,\n    1428,\n    1429,\n    1430,\n    1431,\n    1432,\n    1433,\n    1438,\n    1439,\n    1441,\n    1443,\n    1444,\n    1445,\n    1449,\n    1502,\n    1503,\n    1504,\n    1519,\n    1523,\n    1524,\n    1526,\n    1529,\n    1534,\n    1543,\n    1545,\n    1546,\n    1548,\n    1551,\n    1556,\n    1567,\n    1569,\n    1571,\n    1572,\n    1601,\n    1612,\n    1613,\n    1617,\n    1620,\n    1621,\n    1622,\n    1624,\n    1627,\n    1630,\n    1632,\n    1633,\n    1634,\n    1635,\n    1636,\n    1638,\n    1640,\n    1644,\n    1648,\n    1653,\n    1657,\n    1662,\n    1663,\n    1664,\n    1665,\n    1702,\n    1703,\n    1711,\n    1714,\n    1717,\n    1718,\n    1719,\n    1721,\n    1723,\n    1724,\n    1725,\n    1729,\n    1736,\n    1738,\n    1739,\n    1740,\n    1742,\n    1743,\n    1744,\n    1748,\n    1749,\n    1750,\n    1751,\n    1755,\n    1756,\n    1805,\n    1842,\n    1849,\n    1850,\n    1852,\n    1854,\n    1901,\n    1902,\n    1903,\n    1911,\n    1913,\n    1915,\n    1917,\n    1919,\n    1920,\n    1922,\n    1923,\n    1924,\n    1925,\n    1926,\n    1927,\n    1928,\n    1929,\n    1931,\n    1933,\n    1936,\n    1938,\n    1939,\n    1940,\n    1941,\n    1942,\n    1943,\n    2001,\n    2002,\n    2003,\n    2004,\n    2011,\n    2012,\n    2014,\n    2015,\n    2016,\n    2017,\n    2018,\n    2019,\n    2020,\n    2021,\n    2022,\n    2023,\n    2024,\n    2025,\n    2027,\n    2028,\n    2030,\n    5004,\n    5005,\n    5011,\n    5012,\n    5013,\n    5015,\n    5016,\n    5017,\n    5018,\n    5019,\n    5023,\n    5024,\n    5030,\n    5039,\n    5040,\n    5048,\n    5050,\n    5051,\n    2121,\n    2131,\n    2111\n]\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.footer = (function() {\n  return {\n    addLicenseInFooter : function() {\n      $(\".public-license\").hide()\n      var $mmoocLicenseElement = $('#mmoocLicense');\n\n      var html = mmooc.util.renderTemplateWithData('footer-license', {});\n      $mmoocLicenseElement.html(html);\n    },\n    changeFooter : function() {\n      var $parentElementOfOldFooter = $('#application.ic-app #wrapper');\n      var html = mmooc.util.renderTemplateWithData('footer', {privacyPolicyLink: mmooc.settings.privacyPolicyLink, homeOrganization: mmooc.settings.homeOrganization, contactPoint: mmooc.settings.contactPoint, about: mmooc.settings.aboutThePlatform});\n      $parentElementOfOldFooter.append(html);\n    }\n  };\n})();\n\nmmooc = mmooc || {};\n\nmmooc.greeting = (function() {\n  function redesignPage() {\n    $('#wrapper').addClass('diploma-page');\n  }\n\n  function fixLinkToModules($content) {\n    if ($content.find('.alert li > a').size() <= 0) {\n      return;\n    }\n\n    redesignPage();\n    mmooc.api.getModulesForCurrentCourse(function(modules) {\n      var firstItemPerModule = {};\n      for (var i in modules) {\n        firstItemPerModule[modules[i].id] = modules[i].items[0];\n      }\n\n      $('.alert li > a').each(function() {\n        var oldPath = $(this).attr('href');\n        var moduleNumber = /courses\\/\\d+\\/modules\\/(\\d+)/.exec(oldPath);\n        if (moduleNumber.length > 0) {\n          $(this).attr('href', firstItemPerModule[moduleNumber[1]].html_url);\n        }\n      });\n    });\n  }\n\n  return {\n    enableGreetingButtonIfNecessary : function() {\n      var $content = $('#content');\n      var $diplomaButton = $content.find('.sikt-diploma-button');\n      var $formIdDiv = $content.find('.sikt-diploma-formId');\n      var $nameEntryIdDiv = $content.find('.sikt-diploma-nameEntryId');\n      var $emailEntryIdDiv = $content.find('.sikt-diploma-emailEntryId');\n/*\n      if ($diplomaButton.length) {\n        $diplomaButton.replaceWith(\"<div class='uob-warning'>Vi har dessverre problemer med diplommekanismen. Vi jobber med saken.</div>\");\n        return;\n      }\n*/\n      if (\n        $diplomaButton.length &&\n        $formIdDiv.length &&\n        $nameEntryIdDiv.length &&\n        $emailEntryIdDiv.length\n      ) {\n          $('body').on('click', '.sikt-diploma-button', function () {\n          if ($diplomaButton.hasClass('btn-done')) {\n            return;\n          }\n\n          $('#info').html(mmooc.util.renderTemplateWithData('waitIcon', {}));\n\n          var formId = $formIdDiv.text();\n          var nameEntryId = $nameEntryIdDiv.text();\n          var emailEntryId = $emailEntryIdDiv.text();\n          var str1 = 'https://docs.google.com/forms/d/';\n          var str2 = '/formResponse';\n          var googleurl = str1.concat(formId, str2);\n\n          str1 = 'entry.';\n          var nameEntry = str1.concat(nameEntryId);\n          var emailEntry = str1.concat(emailEntryId);\n\n          mmooc.api.getUserProfile(function(profile) {\n            var values = {};\n            values[nameEntry] = profile.name;\n            values[emailEntry] = profile.primary_email;\n\n            $.ajax({\n              url: googleurl,\n              data: values,\n              type: 'POST',\n              dataType: 'xml',\n              complete: function(jqXHR) {\n                switch (jqXHR.status) {\n                  case 0:\n                    str1 = 'Diplom ble sendt til denne eposten:';\n                    var s = str1.concat(profile.primary_email);\n                    $('#info').html(s);\n                    $diplomaButton.addClass('btn-done');\n                    break;\n                  default:\n                    $('#info').addClass('error');\n                    $('#info').html(\n                      'En feil oppstod. Ta kontakt med kursansvarlig for &aring; f&aring; hjelp.'\n                    );\n                }\n              }\n            }); //End Google callback\n          }); //End Canvas user profile callback\n        }); //End diploma button clicked\n        redesignPage();\n      } //End if valid diploma fields\n\n      fixLinkToModules($content);\n    },\n    enableDownloadDiplomaButtonIfNecessary : function() {\n      var $content = $(\"#content\");\n      var $downloadDiplomaButton = $content.find(\".download-diploma-button\");\n      var $scriptUrlDiv = $content.find(\".download-diploma-scriptId\");\n      var $diplomaIdDiv = $content.find(\".download-diploma-id\");\n\n      if ($downloadDiplomaButton.length && $scriptUrlDiv.length && $diplomaIdDiv.length) {\n        $('body').on('click', '.download-diploma-button', function () {\n          $downloadDiplomaButton.attr(\"disabled\", true);\n    \n          $('#info').append(mmooc.util.renderTemplateWithData(\"waitIcon\", {}));\n\n          var scriptUrl = $scriptUrlDiv.text();\n          var diplomaId = $diplomaIdDiv.text();\n\n          mmooc.api.getUserProfile(function (profile) {\n            var values = {};\n            values[\"Navn\"] = profile.name;\n            values[\"Epost\"] = profile.primary_email;\n            values[\"DiplomaId\"] = diplomaId;\n            var downloadingDiploma = false;\n\n            $.ajax({\n              xhr: function() {\n                  var xhr = new window.XMLHttpRequest();\n                  xhr.addEventListener(\"progress\", function(evt) {\n                    if(!downloadingDiploma) {\n                      downloadingDiploma = true;\n                      $('#info').html(\"Mottar diplomet\");\n                    } else {\n                      $('#info').append(\".\");\n                    }\n                  }, false);\n                  return xhr;\n              },\n              url: scriptUrl,\n              data: values,\n                            type: \"POST\",\n                            dataType: \"json\",\n              beforeSend: function () {\n              },\n          \n              error: function (jqXHR, textStatus, errorThrown) {\n                console.log(jqXHR);\n                console.log(textStatus);\n                console.log(errorThrown);\n                var s = \"Diplom ble ikke laget. Følgende gikk galt: \" + jqXHR + textStatus + errorThrown;\n                $('#info').html(s);\n              },\n          \n              success: function (response) {\n                if(response.result == \"success\")\n                {\n                  var bufferArray = new Int8Array(response.diploma);\n                  var blob = new Blob([bufferArray], {type: 'application/pdf'});\n                  const link = document.createElement('a');\n                  link.href = URL.createObjectURL(blob);\n                  link.download = response.diplomaName + \".pdf\";\n                  link.innerText = \"Last ned\";\n                  $(\"#diplomaLink\").html(\"Diplomet er klart til nedlasting: \")\n                  $(\"#diplomaLink\").append(link);\n                }\n                else\n                {\n                  var s = \"Diplom kunne ikke lages fordi: \" + response.result;\n                  $('#info').html(s);\n                }\n                $(\".download-diploma-button\").addClass('btn-done');\n              },\n          \n              complete: function () {\n                console.log('Finished all tasks');\n              }\n            }); //End google call.\n          }); //End Canvas user profile callback\n        }); //End diploma button clicked\n        redesignPage();\n      } //End if valid diploma fields\n      fixLinkToModules($content);\n    },\n    enableNewGreetingButtonIfNecessary: function () {\n      var $content = $(\"#content\");\n      var $newDiplomaButton = $content.find(\".new-sikt-diploma-button\");\n      var $scriptUrlDiv = $content.find(\".new-sikt-diploma-scriptId\");\n      var $diplomaIdDiv = $content.find(\".new-sikt-diploma-id\");\n      var $diplomaId = \"\";\n\n      if($diplomaIdDiv) {\n        $diplomaId = $diplomaIdDiv.text()\n      }\n\n      if ($newDiplomaButton.length && $scriptUrlDiv.length) {\n\n        $('body').on('click', '.new-sikt-diploma-button', function () {\n          if ($newDiplomaButton.hasClass('btn-done')) {\n              return;\n          }\n\n          $('#info').html(mmooc.util.renderTemplateWithData(\"waitIcon\", {}));\n\n          var scriptUrl = $scriptUrlDiv.text();\n\n          mmooc.api.getUserProfile(function (profile) {\n            var values = {};\n            values[\"Navn\"] = profile.name;\n            values[\"Epost\"] = profile.primary_email;\n            values[\"DiplomaId\"] = $diplomaId;\n\n            $.ajax({\n              url: scriptUrl,\n              data: values,\n                            type: \"POST\",\n                            dataType: \"json\",\n              beforeSend: function () {\n                console.log(\"Loading\");\n              },\n\n              error: function (jqXHR, textStatus, errorThrown) {\n                console.log(jqXHR);\n                console.log(textStatus);\n                console.log(errorThrown);\n                var s = \"Diplom ble ikke sendt. Følgende gikk galt: \" + jqXHR + textStatus + errorThrown;\n                $('#info').html(s);\n                $(\".new-sikt-diploma-button\").addClass('btn-done');\n              },\n\n              success: function (result) {\n                console.log(result);\n                if(result.result == \"success\")\n                {\n                  var s = \"Diplom ble sendt til \" + profile.name + \" med denne eposten: \" + profile.primary_email;\n                  $('#info').html(s);\n                }\n                else\n                {\n                  var s = \"Diplom kunne ikke sendes fordi: \" + result.result;\n                  $('#info').html(s);\n                }\n                $(\".new-sikt-diploma-button\").addClass('btn-done');\n              },\n\n              complete: function () {\n                console.log('Finished all tasks');\n              }\n            }); //End google call.\n          }); //End Canvas user profile callback\n        }); //End diploma button clicked\n        redesignPage();\n      } //End if valid diploma fields\n      fixLinkToModules($content);\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.groups = (function() {\n  function interceptLinkToGroupPageForHref(href, event) {\n    if (/\\/groups\\/\\d+$/.test(href)) {\n      event.preventDefault();\n      location.href = href + '/discussion_topics';\n    }\n  }\n\n  return {\n    interceptLinksToGroupPage: function() {\n      $('#content').on('click', '.student-group-title a', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n\n      $('#right-side').on('click', '.group_list a', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n\n      //20180906ETH Vi ønsker diskusjonsvisning som default for lærere også.\n      $('#content-wrapper').on('click', '.visit-group', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n    },\n    interceptLinksToTeacherGroupPage: function() {\n      //20180906ETH Vi ønsker diskusjonsvisning som default for lærere også.\n      $('#left-side').on('click', '.ui-menu-item a', function(event) {\n        var href = $(this).attr('href');\n        interceptLinkToGroupPageForHref(href, event);\n      });\n    },\n    showGroupHeader: function(groupId, courseId) {\n      mmooc.api.getGroupMembers(groupId, function(members) {\n        var headerHTML = mmooc.util.renderTemplateWithData('groupheader', {\n          groupId: groupId,\n          courseId: courseId,\n          members: members\n        });\n        document\n          .getElementById('content-wrapper')\n          .insertAdjacentHTML('afterbegin', headerHTML);\n        $('body').addClass('group-header');\n      });\n    },\n\n    changeGroupListURLs: function(href) {\n      if (\n        /\\/groups(\\/)?$/.test(href) ||\n        /(\\/groups(\\??([A-Za-z0-9\\=\\&]{0,})))$/.test(href)\n      ) {\n        var list = $('.context_list li a');\n        list.each(function(i) {\n          this.setAttribute(\n            'href',\n            this.getAttribute('href') + '/discussion_topics'\n          );\n        });\n        return true;\n      }\n\n      return false;\n    },\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.login = (() => {\n  return {\n    handleLoginButtonClick : function() {\n      $('.mmooc-header__login-button').click(() => {\n        if(!$('.login-box').length) {\n          let html = mmooc.util.renderTemplateWithData('loginPopup', {\n            logInText: mmooc.i18n.LogInPopup,\n            logInCanvasText: mmooc.i18n.LogInCanvas,\n          });\n            document.getElementById('wrapper').insertAdjacentHTML('afterend', html);\n            $('#application').before(`<div class=\"overlay\"></div>`)\n            $('.login-box__close, .overlay').click(() => {\n              $('.login-box, .overlay').remove()\n            })\n        }\n      })\n    },\n    addInfoMessage: function() {\n      let html = mmooc.util.renderTemplateWithData('loginInfo');      \n      $(\".ic-Login-footer\").html(html);\n      $(\".ic-Login-footer\").show();\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.menu = (function() {\n  function _renderCourseMenu(course, selectedMenuItem, title, hideTabs) {\n    function _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems) {\n      var subtitle = course.name;\n      if (title == null) {\n        title = course.name;\n        subtitle = '';\n      }\n\n      const selectedLanguageCode = MultilangUtils.getLanguageCode();\n      const languageOptions = {\n        courseIsMultilanguage: this.mmooc.util.isMultilangCourse(mmooc.util.course),\n        selectedLanguage: MultilangUtils.languagesMap()[selectedLanguageCode].name,\n        otherLanguages: MultilangUtils.languagesExcept(selectedLanguageCode),\n      }\n\n      var html = mmooc.util.renderTemplateWithData('coursemenu', {\n        course: course,\n        menuItems: menuItems,\n        selectedMenuItem: selectedMenuItem,\n        title: title,\n        subtitle: subtitle,\n        languageOptions: languageOptions,\n      });\n      document.getElementById('header').insertAdjacentHTML('afterend', html);\n\n      // Update current language and language selection dropdown\n      document.querySelectorAll('button.mmooc-course-language-button')\n        .forEach(element => element.addEventListener('click', event => {\n          const previousLanguage = MultilangUtils.getLanguageCode();\n          const newLanguage = event.target.value;\n\n          document.getElementById('mmooc-course-language-selected').textContent = event.target.textContent;\n          const button = Array.from(document.querySelectorAll('button.mmooc-course-language-button'))\n            .find(element => element.value === newLanguage);\n\n          button.textContent = MultilangUtils.languagesMap()[previousLanguage].name;\n          button.value = previousLanguage;\n\n          MultilangUtils.setActiveLanguage(newLanguage);\n        }));\n    }\n\n    var menuItems = [];\n\n    var courseId = course.id;\n    if (!hideTabs) {\n      menuItems[menuItems.length] = {\n        title: 'Forside',\n        url: '/courses/' + courseId\n      };\n      menuItems[menuItems.length] = {\n        title: 'Kunngjøringer',\n        url: '/courses/' + courseId + '/announcements'\n      };\n      var groupsUrl = '/courses/' + courseId + '/groups';\n      if(mmooc.settings.useDataportenGroups)\n      {\n        groupsUrl = '/courses/' + courseId + '?dataportengroups=1'\n      }\n      if(mmooc.settings.displayGroupsTab)\n      {\n        menuItems[menuItems.length] = {\n          title: 'Grupper',\n          url: groupsUrl\n        };\n      }\n      if(mmooc.settings.displayDiscussionsTab)\n      {\n        menuItems[menuItems.length] = {\n          title: 'Diskusjoner',\n          url: '/courses/' + courseId + '/discussion_topics'\n        };\n      }\n\n      //SelectedMenuItem contains the path if we are called by the external path route.\n      var tools = mmooc.util.getToolsInLeftMenu(selectedMenuItem);\n\n      //If only one tool in list, make it the active one.\n      if(tools.toolList.length == 1)\n      {\n        var tool = tools.toolList[0];\n        if(tool.activeTool) {\n          selectedMenuItem = tool.title;\n        }\n        menuItems[menuItems.length] = {\n          title: tool.title,\n          url: tool.href\n        };\n      } else if(tools.toolList.length > 1) {\n        menuItems[menuItems.length] = {\n          title: tools.activeToolName,\n          toolList: tools.toolList,\n          url: tools.activeToolPath\n        };\n      }\n\n      if (mmooc.util.isTeacherOrAdmin()) {\n        menuItems[menuItems.length] = {\n          title: 'Faglærer',\n          url: '/courses/' + courseId + '/?mmpf'\n        };\n      }\n\n      var badgeSafe = mmooc.menu.extractBadgesLinkFromPage();\n      \n      if (badgeSafe.url) {\n        //If the url of Badges is found then display this as an additional tab\n        menuItems[menuItems.length] = badgeSafe;\n        _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems);\n      } else if (mmooc.settings.useCanvaBadge) {\n        mmooc.menu.setCanvaBadgesLink(course, function(canvaBadgeObject) {\n          //Second parameter is a callback function\n          if (canvaBadgeObject.url) {\n            menuItems[menuItems.length] = canvaBadgeObject; //check if canva badges is used for the current domain and if it is and the user has any badges then display this additional tab\n          }\n          _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems);\n        });\n      } else {\n        _insertCourseMenuHtml(course, selectedMenuItem, title, menuItems);\n      }\n      $('#mmooc-menu-item-verktoy').click(function(event) {\n        handleMenuClick('#mmooc-menu-item-verktoy', '#mmooc-verktoy-list', 400);\n      });\n    }\n  }\n\n  function createStyleSheet() {\n    var style = document.createElement('style');\n\n    // WebKit hack :(\n    style.appendChild(document.createTextNode(''));\n\n    document.head.appendChild(style);\n\n    return style.sheet;\n  }\n\n  function insertCustomMenuElementInTopMenu(linkText, link) {\n    var menu = document.getElementById('menu');\n    if (menu) {\n      menu.insertAdjacentHTML(\n        'afterbegin',\n        '<li class=\"menu-item custom-item ic-app-header__menu-list-item\"><a href=\"' +\n          link +\n          '\" class=\"menu-item-no-drop ic-app-header__menu-list-link\">' +\n          linkText +\n          '</a></li>'\n      );\n    }\n  }\n  \n  function openHelpDialog(event) {\n    event.preventDefault();\n    $('#global_nav_help_link').click(); //Do the same as when you are clicking on the original help button (which display the help dialog)\n  }\n\n  function hideHelpMenuElementIfNotActivated() {\n    $canvasHelpButton = $('#global_nav_help_link');\n    if ($canvasHelpButton.length == 0) {\n      $('li.helpMenu').hide();\n    }\n  }\n  function handleMenuClick(menuSelectId, menuId, time) {\n    if ($(menuId).css('display') != 'none') {\n      $(menuId).slideUp(time);\n      $(menuSelectId).off('mouseleave');\n    } else {\n      $(menuId).slideDown(time);\n      $(menuSelectId).mouseleave(function() {\n        $(menuId).slideUp(time);\n      });\n    }\n  }\n\n  var stylesheet = createStyleSheet();\n\n  return {\n    tooltipRegexpPattern : new RegExp(\"(<br>|</i>)(.*$)\"),\n\n    listModuleItems: function() {\n      mmooc.api.getCurrentModule(function(module) {\n        var courseId = mmooc.api.getCurrentCourseId();\n        var html = \"\";\n        var courseIsRoleBased = mmooc.util.isActiveCourseRoleBased();\n        var tooltipsHandled = false;\n\n        if(courseIsRoleBased && mmooc.util.isPrincipal()) {\n          html = mmooc.util.renderTemplateWithData('moduleitemsprincipal', {\n            backToCoursePage: mmooc.i18n.BackToCoursePage,\n            module: module,\n            courseId: courseId,\n            course: mmooc.util.course\n          });\n        } else {\n          html = mmooc.util.renderTemplateWithData('moduleitems', {\n            backToCoursePage: mmooc.i18n.BackToCoursePage,\n            module: module,\n            courseId: courseId,\n            course: mmooc.util.course\n          });\n\n          //Need to update previous and next buttons. If the course is role based\n          //multilanguage will be handled by that method.\n          if(courseIsRoleBased) {\n            mmooc.menu.updatePrevAndNextButtons(courseId, module);\n            tooltipsHandled = true;\n          }\n        }\n        if(!tooltipsHandled) {\n          mmooc.multilanguage.performPrevNextTooltip();       \n        }\n\n        if (document.getElementById('left-side')) {\n          document\n            .getElementById('left-side')\n            .insertAdjacentHTML('afterbegin', html);\n            mmooc.multilanguage.perform();\n        }\n        //Canvas case: Slow loading for group discussions when large number of groups Case # 05035288 \n        //Display popup box when loading\n        mmooc.util.postModuleMenuProcessing();\n\n        $('.mmooc-reveal-trigger').click(function(event) {\n          var $trigger = $(this);\n          var body = $trigger.attr('href');\n          var i = $trigger.find('i');\n\n          //Hvis elementet vises så lukker vi det\n          if ($(body).css('display') != 'none') {\n            $(body).slideUp(400);\n            //Hvis det inneholder det aktive elementet så må vi vise det.\n            if ($trigger.attr('id') == 'mmooc-module-item-active-header') {\n              $trigger.attr('class', 'active mmooc-reveal-trigger');\n            }\n            i.attr('class', 'icon-mini-arrow-right');\n          } else {\n            $(body).slideDown(400);\n            if ($trigger.attr('id') == 'mmooc-module-item-active-header') {\n              $trigger.attr('class', 'mmooc-reveal-trigger');\n            }\n            i.attr('class', 'icon-mini-arrow-down');\n          }\n          return false;\n        });\n      });\n    },\n    handlePrevModuleItem : function(courseId, moduleItemSequence) {\n      if(moduleItemSequence && moduleItemSequence.items.length && moduleItemSequence.items[0].prev) {\n        var prevItem = moduleItemSequence.items[0].prev;\n        if(prevItem.indent) {\n          id = prevItem.id; \n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handlePrevModuleItem);\n        } else {\n          var prevButton = $(\".module-sequence-footer-button--previous\");\n          var prevButtonLink = $(\".module-sequence-footer-button--previous a\");\n          prevButtonLink.attr(\"href\", prevItem.html_url);\n          mmooc.menu.updateButtonTooltip(prevButton, prevItem);\n          mmooc.multilanguage.performPrevTooltip();\n          prevButton.show();\n        }\n      }\n    },\n    handleNextModuleItem : function(courseId, moduleItemSequence) {\n      if(moduleItemSequence && moduleItemSequence.items.length && moduleItemSequence.items[0].next) {\n        var nextItem = moduleItemSequence.items[0].next;\n        if(nextItem.indent) {\n          id = nextItem.id; \n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handleNextModuleItem);\n        } else {\n          var nextButton = $(\".module-sequence-footer-button--next\");\n          var nextButtonLink = $(\".module-sequence-footer-button--next a\");\n          nextButtonLink.attr(\"href\", nextItem.html_url);\n          mmooc.menu.updateButtonTooltip(nextButton, nextItem);\n          mmooc.multilanguage.performNextTooltip();\n          nextButton.show();\n        }\n      }\n    },\n\n    createNewTooltipText : function(oldText, tooltipType, newText) {\n      return oldText.replace(mmooc.menu.tooltipRegexpPattern, tooltipType + newText)\n    },\n    updateButtonTooltip : function(el, item) {\n      var tooltip = el.attr(\"data-html-tooltip-title\");\n      if(tooltip) {\n        el.attr(\"data-html-tooltip-title\", mmooc.menu.createNewTooltipText(tooltip, \"</i>\", item.title));\n        mmooc.multilanguage.update\n      }\n    },\n    updatePrevAndNextButtons : function(courseId, module) {\n      var prevItem = \"\";\n      var nextItem = \"\";\n      var firstValidItem = null;\n      var lastValidItem = null;\n      var prevSet = false;\n      var nextSet = false;\n      var currentFound = false;\n      for(var i = 0; i < module.items.length; i++) {\n        var item = module.items[i];\n        if(!item.indent && (item.type != \"SubHeader\")) {\n          if(!firstValidItem) {firstValidItem = item;}\n          lastValidItem = item;\n          \n          if(item.isCurrent) {\n            currentFound = true;\n          } else if(!currentFound) {\n            prevItem = item;\n            prevSet = true;\n          } else if(!nextSet){\n            nextItem = item;\n            nextSet = true;\n            break;\n          }\n        }\n      }\n      \n      var prevButton = $(\".module-sequence-footer-button--previous\");\n      var nextButton = $(\".module-sequence-footer-button--next\");\n\n      if(prevSet) {\n        var prevButtonLink = $(\".module-sequence-footer-button--previous a\");\n        prevButtonLink.attr(\"href\", prevItem.html_url);\n        mmooc.menu.updateButtonTooltip(prevButton, prevItem);\n        mmooc.multilanguage.performPrevTooltip();\n      } else {\n          prevButton.hide();\n          var id = firstValidItem.id;\n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handlePrevModuleItem);\n      }\n\n      \n      if(nextSet) {\n          var nextButtonLink = $(\".module-sequence-footer-button--next a\");\n          nextButtonLink.attr(\"href\", nextItem.html_url);\n          mmooc.menu.updateButtonTooltip(nextButton, nextItem);\n          mmooc.multilanguage.performNextTooltip();\n      } else {\n          nextButton.hide();\n          var id = lastValidItem.id;\n          mmooc.api.getModuleItemSequence(courseId, id, mmooc.menu.handleNextModuleItem);\n      }\n    },\n    showLeftMenu: function() {\n      stylesheet.insertRule(\n        'body.with-left-side #main { margin-left: 305px !important }',\n        stylesheet.cssRules.length\n      );\n      stylesheet.insertRule(\n        '.with-left-side #left-side { display: block !important }',\n        stylesheet.cssRules.length\n      );\n      $('body').addClass('useFullWidth'); //Used to solve problems in making the design 100% width in the new UI. This is the simplest way to implement this.\n    },\n    renderLeftHeaderMenu: function() {\n      // render left header menu only for authenticated users\n      if (mmooc.util.isAuthenticated()) {\n        // The entire menu is rebuilt because of unwanted popup in the new ui menu\n        insertCustomMenuElementInTopMenu('Kalender', '/calendar' + mmooc.hrefQueryString);\n        if (mmooc.settings.removeGlobalGradesLink == false) {\n          insertCustomMenuElementInTopMenu('Karakterer', '/grades' + mmooc.hrefQueryString);\n        }\n        if (mmooc.settings.removeGroupsLink == false) {\n          insertCustomMenuElementInTopMenu('Grupper', '/groups' + mmooc.hrefQueryString);\n        }\n        var linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n        insertCustomMenuElementInTopMenu(mmooc.i18n.CoursePlural, linkToMyCourses);\n\n        if (mmooc.util.isTeacherOrAdmin()) {\n          this.showLeftMenu();\n\n          $('#section-tabs-header').show();\n\n          //Canvas changed the aria-label as shown in the two lines below. Keep both lines for backward compatibility.\n          $(\"nav[aria-label='context']\").show();\n          $(\"nav[aria-label='Emner-navigasjonsmeny']\").show();\n\n          //20180821ETH Venstremenyen heter noe annet for grupper.\n          //20180906ETH Men vi ønsker ikke vise den.\n          //                $(\"nav[aria-label='Navigasjonsmeny for grupper ']\").show();\n\n          $('#edit_discussions_settings').show();\n          $('#availability_options').show();\n          $('#group_category_options').show();\n\n          //KURSP-223 Diskusjonssiden scroller til toppen når man skal skrive et innlegg eller et svar\n          //Denne koden ser ikke ut til å være nødvendig ettersom vi ikke har noe kode som\n          //skjuler editor_tabs.\n          //$('#editor_tabs').show();\n\n          // Done via CSS since content is loaded using AJAX\n          stylesheet.insertRule(\n            'body.pages .header-bar-outer-container { display: block }',\n            stylesheet.cssRules.length\n          );\n          stylesheet.insertRule(\n            '#discussion-managebar { display: block }',\n            stylesheet.cssRules.length\n          );\n        }\n      }\n\n      var roles = mmooc.api.getRoles();\n      if (roles != null && roles.indexOf('admin') != -1) {\n        // Admin needs original canvas Course dropdown to access site admin settings\n        //$(\"#courses_menu_item\").show(); //Applies only for Old UI. This is the course menu item with a sub menu.\n        insertCustomMenuElementInTopMenu('Admin', '/accounts' + mmooc.hrefQueryString);\n        // Admin needs more profile settings\n        $('.add_access_token_link').show();\n        $('body.profile_settings')\n          .find('#content > table, #content > h2, #content > p')\n          .show();\n      }\n    },\n\n    renderUnauthenticatedMenu: function() {\n      if (!mmooc.util.isAuthenticated()) {\n        //Hide standard canvas login button\n        $(\"#global_nav_login_link\").hide();\n\n        var linkToAvailableCourses = mmooc.util.getLinkToAvailableCourses();\n        this.alterHomeLink(linkToAvailableCourses);\n        \n        let html = mmooc.util.renderTemplateWithData('noLoggedInHeader', {\n          logInText: mmooc.i18n.LogIn\n        });\n        let htmlMobile = mmooc.util.renderTemplateWithData('noLoggedInHeaderMobile', {\n          logInText: mmooc.i18n.LogIn\n        });\n\n        $('#menu').append(html);\n        $('.ic-app-header__main-navigation').append(html);\n\n        $(\"#mobile-header\").append(htmlMobile);\n\n        mmooc.login.handleLoginButtonClick();\n      }\n    },\n    hideRightMenu: function() {\n      $('#right-side').hide();\n      $('body').removeClass('with-right-side');\n    },\n    showMobileTabs: function() {\n        var selectedTab = document.querySelector(\".selected\");\n\n        if(selectedTab) {\n          selectedTab.insertAdjacentHTML(\n            'beforeend',\n            '<div class=\"tabs-hamburger\">☰</div>'\n          );\n        }\n\n\n\n        $('.tabs-hamburger').click(function(event) {\n          var selectedTab = $('.mmooc-course-tab').filter('.selected');\n          var notSelectedTabs = $('.mmooc-course-tabs li:not(\".selected\")');\n          var allTabs = $('.mmooc-course-tab');\n          var time = 100;\n  \n          if ($(allTabs).css('display') != 'none') {\n            $(notSelectedTabs).slideUp(time);\n            selectedTab.insertBefore('.mmooc-course-tab:first-of-type');\n            $(notSelectedTabs).show();\n          } else {\n            $(notSelectedTabs).show();\n          }\n          selectedTab.insertBefore('.mmooc-course-tab:first-of-type');\n        });\n\n        $(window).on('resize', function(e) {\n          var desktopViewport = window.matchMedia(\"(max-width: 1050px)\");\n          var tabsNotSelected = $('.mmooc-course-tabs li:not(\".selected\")');\n          var tabsHamburger = $('.tabs-hamburger');\n          \n          if(desktopViewport.matches) {\n            $(tabsHamburger).css(\"display\", \"block\");\n          }else {\n            $(tabsHamburger).css(\"display\", \"none\");\n          }\n      \n          if (!desktopViewport.matches) {\n            tabsNotSelected.css(\"display\", \"flex\");\n          }else {\n            tabsNotSelected.css(\"display\", \"none\");\n          }\n      });\n    },\n    hideSectionTabsHeader: function() {\n      $('#section-tabs-header-subtitle').hide();\n    },\n    showHamburger: function() {\n      if(mmooc.util.isAuthenticated()) {\n        var header = document.querySelector(\".ic-app-header__main-navigation\");\n\n        if (header) {\n          header.insertAdjacentHTML(\n            'afterbegin',\n            '<div class=\"menu-mobile\">☰</div>'\n          );\n        }\n      }\n    },\n    showMobileMenu: function() {\n      if(mmooc.util.isAuthenticated) {\n        $('.menu-mobile').click(function(event) {\n          var mobileMenu = $('#menu');\n          var time = 100;\n\n          if (mobileMenu.css('display') != 'none') {\n            mobileMenu.slideUp(time);\n          } else {\n            mobileMenu.slideDown(time);\n          }\n        });\n \n      $(window).on('resize', function(e) {\n          var desktopViewport = window.matchMedia(\"(min-width: 1051px)\");\n                   \n          if (desktopViewport.matches) {\n            $('#menu').css(\"display\", \"flex\");\n          }else {\n            $('#menu').css(\"display\", \"none\");\n          }\n      });\n      }\n    },\n    showUserMenu: function() {\n      var menu = document.getElementById('menu');\n      if (menu != null && mmooc.util.isAuthenticated()) {\n        var html = mmooc.util.renderTemplateWithData('usermenu', {\n          alertMenuItem: mmooc.settings.displayAlertsMenuItem, \n          user: mmooc.api.getUser(), \n          queryString: mmooc.hrefQueryString,\n          displayInboxMenu: mmooc.settings.displayInboxMenu,\n        });\n        menu.insertAdjacentHTML('afterend', html);\n\n        if(mmooc.settings.displayAlertsMenuItem) {\n          $('#mmooc-menu-item-varsler').click(function(event) {\n            handleMenuClick('#mmooc-menu-item-varsler', '#mmooc-activity-stream', 400);\n          });\n        }\n        $('#mmooc-menu-item-profile-settings').click(function(event) {\n          handleMenuClick(\n            '#mmooc-menu-item-profile-settings',\n            '#mmooc-profile-settings',\n            400\n          );\n        });\n\n        var linkToMyCourses = mmooc.utilRoot.getLinkToMyCourses();\n        this.alterHomeLink(linkToMyCourses);\n\n        mmooc.api.getUnreadMessageSize(function(conversations) {\n          var msgBadge = $('#mmooc-unread-messages-count');\n          if (conversations.unread_count != '0') {\n            msgBadge.html(conversations.unread_count);\n            msgBadge.show();\n          } else {\n            msgBadge.hide();\n          }\n        });\n        this.updateNotificationsForUser();\n        \n\n        //20180921ETH Vi bruker ikke hjelpemenyen lenger.\n        //                $(document).on(\"click\", \".helpMenu\", openHelpDialog);\n        //                hideHelpMenuElementIfNotActivated();\n      }\n    },\n    setMenuActiveLink: function() {\n      var menuItems = $('.ic-app-header__menu-list li a ');\n      menuItems.each((_, element) => {\n        if (window.location.pathname.includes($(element).attr('href'))) {\n          $(element).addClass('active');\n        }\n      });\n    },\n\n    updateNotificationsForUser: function() {\n      if(!mmooc.settings.displayAlertsMenuItem) {\n        return;\n      }\n      mmooc.api.getActivityStreamForUser(function(activities) {\n        var unreadNotifications = 0;\n        for (var i = 0; i < activities.length; i++) {\n          if (mmooc.menu.checkReadStateFor(activities[i])) {\n            unreadNotifications++;\n          }\n          activities[i].created_at = mmooc.util.formattedDate(\n            activities[i].created_at\n          );\n        }\n\n        var badge = $('#mmooc-notification-count');\n        if (unreadNotifications == 0) {\n          badge.hide();\n        } else {\n          badge.html(unreadNotifications);\n          badge.show();\n        }\n\n        document.getElementById(\n          'mmooc-activity-stream'\n        ).innerHTML = mmooc.util.renderTemplateWithData('activitystream', {\n          activities: activities\n        });\n\n        var notifications = $('#mmooc-notifications').find('li');\n        var showAllItems = $('#mmooc-notifications-showall');\n        if (notifications.size() > 10) {\n          notifications.slice(10).addClass('hidden');\n\n          showAllItems.click(function() {\n            notifications.removeClass('hidden');\n            showAllItems.hide();\n          });\n        } else {\n          showAllItems.hide();\n        }\n      });\n    },\n\n    showCourseMenu: function(courseId, selectedMenuItem, title, hideTabs) {\n      hideTabs = hideTabs || false; //Do not hide tabs if the parameter\n      $('body').addClass('with-course-menu');\n      mmooc.api.getCourse(courseId, function(course) {\n        _renderCourseMenu(course, selectedMenuItem, title, hideTabs);\n        mmooc.menu.showMobileTabs();\n      });\n    },\n\n    showBackButton: function(url, title) {\n      var buttonHTML = mmooc.util.renderTemplateWithData('backbutton', {\n        url: url,\n        title: title\n      });\n      document\n        .getElementById('content-wrapper')\n        .insertAdjacentHTML('afterbegin', buttonHTML);\n    },\n\n    showGroupHeader: function() {\n      var groupId = mmooc.api.getCurrentGroupId();\n      var groupHeaderHTML = mmooc.util.renderTemplateWithData('backbutton', {\n        groupId: groupId\n      });\n      document\n        .getElementById('content-wrapper')\n        .insertAdjacentHTML('afterbegin', groupHeaderHTML);\n    },\n\n    showDiscussionGroupMenu: function() {\n      function strLeft(sourceStr, keyStr) {\n        return (sourceStr.indexOf(keyStr) == -1) | (keyStr == '')\n          ? ''\n          : sourceStr.split(keyStr)[0];\n      }\n\n      function _addGetHelpFromteacherButton(group) {\n        //Match gruppenavn mot seksjon i seksjonsliste.\n        function _getSectionRecipientFromGroupName(\n          sectionRecipients,\n          groupName\n        ) {\n          for (var i = 0; i < sectionRecipients.length; i++) {\n            var r = sectionRecipients[i];\n            if (r.name == groupName) {\n              return r.id;\n            }\n          }\n          return null;\n        }\n\n        function _tilkallVeilederFeilet() {\n          $('#mmooc-get-teachers-help').addClass('btn-failure');\n          $('#mmooc-get-teachers-help').html('Tilkall veileder feilet');\n        }\n\n        function _sendMessageToSectionTeachers() {\n          var courseId = mmooc.api.getCurrentCourseId();\n          mmooc.api.getUserGroupsForCourse(courseId, function(groups) {\n            if (groups.length == 0 || groups.length > 1) {\n              _tilkallVeilederFeilet();\n              alert(\n                'Det er noe galt med gruppeoppsettet ditt.\\nDu er medlem i ' +\n                  groups.length +\n                  ' grupper.'\n              );\n            } else {\n              var group = groups[0];\n              var groupName = group.name;\n              var groupCourseId = group.course_id;\n              mmooc.api.getSectionRecipients(\n                groupCourseId,\n                (function(courseId) {\n                  return function(recipients) {\n                    var sectionRecipient = _getSectionRecipientFromGroupName(\n                      recipients,\n                      groupName\n                    );\n                    if (sectionRecipient == null) {\n                      _tilkallVeilederFeilet();\n                      alert(\n                        'Det er noe galt med gruppeoppsettet ditt.\\nFant ikke seksjonen til ' +\n                          groupName\n                      );\n                    } else {\n                      var sectionRecipientTeachers =\n                        sectionRecipient + '_teachers';\n                      var subject =\n                        groupName + ' ' + mmooc.i18n.GroupGetInTouchSubject;\n                      var discussionUrl = window.location.href;\n                      var discussionAndGroupTitle = $(\n                        '.discussion-title'\n                      ).text();\n                      var discussionTitle = strLeft(\n                        discussionAndGroupTitle,\n                        ' - '\n                      );\n                      var newLine = '\\n';\n\n                      var body =\n                        mmooc.i18n.WeHaveAQuestionToTeacherInTheDiscussion +\n                        ' \"' +\n                        discussionTitle +\n                        '\":' +\n                        newLine +\n                        discussionUrl;\n\n                      $('#mmooc-get-teachers-help').html('Sender melding...');\n\n                      mmooc.api.postMessageToConversation(\n                        courseId,\n                        sectionRecipientTeachers,\n                        subject,\n                        body,\n                        function(result) {\n                          console.log(result);\n                          $('#mmooc-get-teachers-help').addClass('btn-done');\n                          $('#mmooc-get-teachers-help').html(\n                            'Veileder tilkalt'\n                          );\n                        },\n                        function(error) {\n                          _tilkallVeilederFeilet();\n                          alert(\n                            'Tilkall veileder feilet. Gruppen har ingen veileder.'\n                          );\n                          console.log(error);\n                        }\n                      );\n                    }\n                  };\n                })(groupCourseId)\n              );\n            }\n          });\n        }\n\n        function _addClickEventOnGetHelpFromTeacherButton() {\n          $('#mmooc-get-teachers-help').click(function() {\n            $('#mmooc-get-teachers-help').off('click');\n            $('#mmooc-get-teachers-help').html('Finner veileder...');\n            _sendMessageToSectionTeachers();\n          });\n        }\n\n        // Get help from teacher by clicking a button\n        var getHelpButtonFromteacherButtonHTML = mmooc.util.renderTemplateWithData(\n          'groupdiscussionGetHelpFromTeacher',\n          { hoverOverText: mmooc.i18n.CallForInstructorHoverOverText }\n        );\n        //document.getElementById('content').insertAdjacentHTML('afterbegin', getHelpButtonFromteacherButtonHTML);\n        $('#discussion-managebar > div > div > div.pull-right').append(\n          getHelpButtonFromteacherButtonHTML\n        );\n        _addClickEventOnGetHelpFromTeacherButton();\n      }\n\n      var groupId = mmooc.api.getCurrentGroupId();\n      if (groupId != null) {\n        mmooc.api.getGroup(groupId, function(group) {\n          // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n          var title = mmooc.util.getPageTitleAfterColon();\n          mmooc.menu.showCourseMenu(group.course_id, 'Grupper', title, true); //Group menu in tabs including title - Use optional fourth parameter for hiding tabs\n          if(mmooc.settings.displayCallForAssistanceButtonInGroupDisccussions) {\n            _addGetHelpFromteacherButton(group);\n          }\n        });\n      }\n    },\n\n    checkReadStateFor: function(activity) {\n      return activity.read_state === false;\n    },\n\n    extractBadgesLinkFromPage: function() {\n      var href = null;\n      var a = null;\n      var badgeSafe = $('li.section:contains(\"BadgeSafe\")')\n\n      if(badgeSafe) {\n        a = badgeSafe.find('a');\n      }\n      if(a) {\n        href = a.attr('href');\n      }\n      return { title: mmooc.i18n.Badgesafe, url: href };\n    },\n    setCanvaBadgesLink: function(course, callback) {\n      var user_id = mmooc.api.getUser().id;\n\n      //This should be refactored to be in an api resource file\n      var domain = location.host;\n      var urlToCanvaBadgesApi =\n        mmooc.settings.CanvaBadgeProtocolAndHost +\n        '/api/v1/badges/public/' +\n        user_id +\n        '/' +\n        encodeURIComponent(domain) +\n        '.json';\n      $.ajax({\n        type: 'GET',\n        crossDomain: true,\n        dataType: 'jsonp',\n        url: urlToCanvaBadgesApi,\n        timeout: 5000,\n        success: function(data) {\n          if ($.isFunction(callback)) {\n            callback({\n              title: mmooc.i18n.Badgesafe,\n              url: '/courses/' + course.id + '?allcanvabadges'\n            });\n          }\n\n          // if(data.objects && data.objects.length > 0) {\n\n          // }\n        },\n        error: function(err) {\n          if ($.isFunction(callback)) {\n            callback({\n              title: mmooc.i18n.Badgesafe,\n              url: undefined\n            });\n          }\n        }\n      });\n    },\n\n    injectGroupsPage: function() {\n      $('#courses_menu_item').after(\n        '<li class=\"menu-item\"><a href=\"/groups\" class=\"menu-item-no-drop\">Grupper</a></li>'\n      );\n    },\n\n    alterHomeLink: function(linkToMyCourses) {\n      $('#header-logo').attr('href', linkToMyCourses);\n      $('a.ic-app-header__logomark').attr('href', linkToMyCourses); //New UI\n// 20180122ETH Uncommenting the line below to see if we can specify the logo in the theme editor instead.\n//             In any case the logo should not be hardcoded but taken from the variables file instead.      \n      $('a.ic-app-header__logomark').attr('src', 'https://kompetanseudirno.azureedge.net/udirdesign/Ny-Udir-Logo-RGB-Neg.png'); //New UI\n      $('.ic-app-header__logomark-container')\n        .detach()\n        .prependTo('.ic-app-header__main-navigation');\n    },\n\n    alterCourseLink: function() {\n      //   if ($('#menu > li:first-child a').hasClass('menu-item-no-drop')) {\n      //     $('#menu > li:first-child a').attr('href', '/courses');\n      //   }\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.pages = (function() {\n  function updateButtonText(container, input, label) {\n    if (input.is(':checked')) {\n      label.html('Marker som ulest');\n      container.addClass('is-done');\n    } else {\n      label.html('Marker som lest');\n      container.removeClass('is-done');\n    }\n  }\n  function getHeaderBarJson() {\n    var headerBarPosition = 'after';\n\n    //Content page\n    var headerBar = $(\n      '#wiki_page_show > div.header-bar-outer-container > div > div.header-bar.flex-container > div.header-bar-right.header-right-flex'\n    );\n\n    //Quiz\n    if (!headerBar.length) {\n      headerBar = $('#quiz_show > div.header-bar > div');\n    }\n    //Assignment\n    if (!headerBar.length) {\n      headerBar = $(\n        '#assignment_show > div.assignment-title > div.assignment-buttons'\n      );\n    }\n    //Discussion\n    if (!headerBar.length) {\n      headerBar = $('#discussion-managebar > div > div > div.pull-right');\n    }\n    //File\n    if (!headerBar.length) {\n      headerBar = $('#content');\n      headerBarPosition = 'before';\n    }\n    var headerBarJson = { headerBar: headerBar, position: headerBarPosition };\n\n    return headerBarJson;\n  }\n\n  function addButton(buttonHtml) {\n    var headerBarJson = getHeaderBarJson();\n    if (headerBarJson.headerBar.length) {\n      if (headerBarJson.position == 'after') {\n        headerBarJson.headerBar.append(buttonHtml);\n      } else {\n        headerBarJson.headerBar.before(buttonHtml);\n      }\n    } else {\n      setTimeout(function() {\n        addButton(buttonHtml);\n      }, 500);\n    }\n  }\n\n  return {\n    modifyMarkAsDoneButton: function() {\n      $('body').bind('wiki-page-rendered', function() {\n        var container = $('#mark-as-done-container');\n        container.appendTo('#content .usercontent');\n\n        var input = container.find('input');\n        var label = container.find('label');\n        input.change(function() {\n          updateButtonText(container, input, label);\n        });\n\n        updateButtonText(container, input, label);\n\n        container.show();\n      });\n    },\n    addGotoModuleButton: function() {\n      var moduleItemId = mmooc.api.getCurrentModuleItemId();\n      var courseId = mmooc.api.getCurrentCourseId();\n      var targetHref =\n        '/courses/' + courseId + '/modules#context_module_item_' + moduleItemId;\n      var buttonHtml =\n        \"<a class='btn' href='\" + targetHref + \"'>Gå til modul</a>\";\n      addButton(buttonHtml);\n    },\n    addStudentViewButton: function() {\n      var courseId = mmooc.api.getCurrentCourseId();\n      var buttonHtml = '<a class=\"btn student_view_button\" ';\n      buttonHtml +=\n        'rel=\"nofollow\" data-method=\"post\" href=\"/courses/' +\n        ENV.COURSE_ID +\n        '/student_view\">';\n      buttonHtml += '<i class=\"icon-student-view\"></i>Studentvisning</a>';\n      addButton(buttonHtml);\n    },\n\n    updateSidebarWhenMarkedAsDone: function() {\n      $('body').on('click', '#mark-as-done-checkbox', function() {\n        var icon = $('ul.mmooc-module-items .active span:last-child');\n\n        if (icon.hasClass('done')) {\n          icon.removeClass('done');\n        } else {\n          icon.addClass('done');\n        }\n\n        //Mark principal sybmol as done as well.\n        var principal = icon.find(\".mmooc-icon-principal-tag\")\n        if(principal && principal.hasClass('done')) {\n          principal.removeClass('done');\n          principal.addClass('not_done');\n        } else {\n          principal.removeClass('not_done');\n          principal.addClass('done');\n        }\n\n        //Check if header title should/not be marked as done as well.\n        var activeHeader = $('#mmooc-module-item-active-header');\n        var activeListId = activeHeader.attr('href');\n        var activeList = $(activeListId);\n        var noOfItemsInActiveList = activeList.find('li').length;\n        var noOfItemsDoneInActiveList = activeList.find('li').find('.done')\n          .length;\n        var headerIcon = activeHeader.find('span:last-child');\n        if (noOfItemsDoneInActiveList < noOfItemsInActiveList) {\n          headerIcon.removeClass('done');\n        } else {\n          headerIcon.addClass('done');\n        }\n      });\n    },\n\n    updateSidebarWhenContributedToDiscussion: function() {\n      $('#discussion_container').on('click', '.btn-primary', function() {\n        var icon = $('ul.mmooc-module-items .active span:last-child');\n\n        if (!icon.hasClass('done')) {\n          icon.addClass('done');\n        }\n      });\n    },\n\n    createMarkAsDoneButtonClone: function(parent, markAsDoneButton) {\n      let cloneButtonId = \"mark-as-done-checkbox-clone\";\n      let oldMarkAsDoneButtonClone = document.getElementById(cloneButtonId);\n      if(oldMarkAsDoneButtonClone) {\n        oldMarkAsDoneButtonClone.remove();\n      }\n\n      let newMarkAsDoneButtonClone = markAsDoneButton.cloneNode(true);\n      newMarkAsDoneButtonClone.setAttribute(\"id\", cloneButtonId);\n      parent.prepend(newMarkAsDoneButtonClone);\n      newMarkAsDoneButtonClone.onclick = function() {\n        markAsDoneButton.click();\n      };\n    },\n\n    showInformationPane: function(observer, pfdk, unmaintainedSince, alertMsg, isMemberOfExpiredCommunity, notificationtouser, feedback) {\n      var paneHTML = mmooc.util.renderTemplateWithData('informationpane', {observer:observer, pfdk:pfdk, unmaintainedSince:unmaintainedSince, alertMsg:alertMsg, expiredCommunity: isMemberOfExpiredCommunity, notificationtouser: notificationtouser, feedback: feedback});\n      document\n        .getElementById('wrapper')\n        .insertAdjacentHTML('afterend', paneHTML);\n    },\n    hideInformationPane: function() {\n      $(\"#fixed_bottom\").hide();\n    },\n    showBackLinkIfNecessary: function() {\n      if ($('#left-side').is(':hidden')) {\n        var linkBack = mmooc.util.renderTemplateWithData(\n          'navigateToPreviousPage',\n          { linkText: mmooc.i18n.LinkBack }\n        );\n        $(linkBack).prependTo($('#content'));\n      }\n    },\n\n    redesignAssignmentPage: function() {\n      function _isAssignmentWithPeerReview() {\n        var returnValue = false;\n        var peerReviewer = mmooc.i18n.PeerReviewer;\n        if (\n          $(\n            \"#right-side .details .content > h4:contains('\" +\n              peerReviewer.toLowerCase() +\n              \"')\"\n          ).length\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _getPeerReviewArray() {\n        // 20062018 Erlend: Canvas har endret designet og jeg måtte endre litt denne testen.\n        function _getWorkFlowState(peerReviewLinkClass) {\n          var _workflow_state = ''; // workflow_state either 'assigned' or 'completed'\n          if (peerReviewLinkClass == 'icon-warning') {\n            _workflow_state = 'assigned';\n          } else if (peerReviewLinkClass == 'icon-check') {\n            _workflow_state = 'completed';\n          }\n          return _workflow_state;\n        }\n\n        // 20062018 Erlend: Canvas har endret designet og jeg måtte endre litt på selector.\n        //                  Årsaken til at vi må hente ut informasjon om peer review på denne måten\n        //                  er at studenter ikke får denne informasjonen via api'et.\n        var $peerReviewLinks = $(\n          '#right-side .details .content > h4 + ul.unstyled_list a'\n        );\n        var _peerReview = []; //Peer review api is unfortunately not displaying the info we want (only info about the persons beeing peer reviewers for my submission), so we have to do this by using jquery\n        var workflow_state;\n        var peerReviewLinkClass;\n\n        $peerReviewLinks.each(function(i) {\n          peerReviewLinkClass = $(this)\n            .find('i')\n            .attr('class');\n          workflow_state = _getWorkFlowState(peerReviewLinkClass);\n          _peerReview[_peerReview.length] = {\n            workflow_state: workflow_state,\n            assessor: {\n              display_name: $(this).text(),\n              mmooc_url: $(this).attr('href')\n            }\n          };\n        });\n\n        console.log('Custom peerReview array:');\n        console.log(_peerReview);\n\n        return _peerReview;\n      }\n\n      function _appendPeerReviewHtmlOnRightSide(submission, peerReview) {\n        var peerReviewHtml = mmooc.util.renderTemplateWithData(\n          'assignmentPageWithPeerReviewRightSide',\n          { submission: submission, peerReview: peerReview }\n        );\n        // $(\"body.assignments #application.ic-app #right-side .details\" ).append(peerReviewHtml);\n        $(peerReviewHtml).insertBefore(\n          'body.assignments #application.ic-app #right-side .details'\n        );\n      }\n\n      function _appendPeerReviewWarningInContentsColumn(\n        submission,\n        peerReview\n      ) {\n        var $peerReviewLinksWarnings = $(\n          '#right-side .details .content > h4 + ul.unstyled_list a.warning'\n        );\n        if ($peerReviewLinksWarnings.length) {\n          //If any warnings display peer review warning in the contents column after the assignment meta data\n          var peerReviewWarningHtml = mmooc.util.renderTemplateWithData(\n            'assignmentPageWithPeerReviewWarning',\n            { submission: submission, peerReview: peerReview }\n          );\n          $(\n            'body.assignments #application.ic-app ul.student-assignment-overview'\n          ).after(peerReviewWarningHtml);\n        }\n      }\n\n      function _displayRightColumnContents() {\n        $('#right-side .details').show();\n      }\n\n      var courseId = mmooc.api.getCurrentCourseId();\n      var assignmentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n      var user_id = mmooc.api.getUser().id;\n\n      if (_isAssignmentWithPeerReview()) {\n        // console.log('user_id:' + user_id);\n        mmooc.api.getSingleSubmissionForUser(\n          courseId,\n          assignmentId,\n          user_id,\n          function(submission) {\n            console.log('submission');\n            console.log(submission);\n            var peerReview = _getPeerReviewArray();\n            _appendPeerReviewHtmlOnRightSide(submission, peerReview);\n            _appendPeerReviewWarningInContentsColumn(submission, peerReview);\n          }\n        );\n      } else {\n        _displayRightColumnContents();\n        $('#submission_comment.submission_comment_textarea').show();\n      }\n    },\n\n    redesignPeerReviewAndOwnSubmissionDetailsPage: function() {\n      function _isCodeRunningInIframe() {\n        var returnValue = true;\n        if (ENV.SUBMISSION && ENV.SUBMISSION.user_id) {\n          returnValue = false;\n        }\n        return returnValue;\n      }\n\n      function _getSubmissionTitle() {\n        var returnValue;\n        var current_user_id = mmooc.api.getUser().id;\n        if (isPeerReview) {\n          returnValue = mmooc.i18n.PeerReview;\n        } else {\n          returnValue = mmooc.i18n.DetailsAboutYourDelivery;\n          if (current_user_id != submission_user_id) {\n            //Submission opened by admin or teacher. We don't make any changes in the existing design when this is the case.\n            returnValue = mmooc.i18n.DetailsAboutDelivery;\n          }\n        }\n        return returnValue;\n      }\n\n      function _isTeacherViewingStudentsSubmission() {\n        var returnValue = false;\n        var current_user_id = mmooc.api.getUser().id;\n        if (!isPeerReview && current_user_id != submission_user_id) {\n          //Submission opened by admin or teacher. We don't make any changes in the existing design when this is the case.\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _isPeerReviewFinished() {\n        var returnValue = false;\n        if (\n          $('.assessment_request_incomplete_message').css('display') == 'none'\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _isRubric() {\n        var returnValue = false;\n        if ($('.assess_submission_link').length) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _addClickEventOnOpenAssessmentButton() {\n        $(document).on('click', '.open-assessment-dialog-button', function(\n          event\n        ) {\n          event.preventDefault();\n          $('#rubric_holder').show();\n          // $('.assess_submission_link.rubric').click(); //click on the previous hidden button.\n        });\n      }\n\n      function _updateDomAfterSaveRubricButtonClick(event) {\n        console.log('_updateDomAfterSaveRubricButtonClick is running');\n        function _appendCompletedPeerReviewHtml(\n          assignment,\n          submission,\n          peerReview\n        ) {\n          var submissionTitle = _getSubmissionTitle();\n          var isTeacherViewingStudentsSubmission = _isTeacherViewingStudentsSubmission();\n          var isPeerReviewFinished = true;\n          var submissionObject = {\n            assignment: assignment,\n            submission: submission,\n            peerReview: peerReview,\n            submissionTitle: submissionTitle,\n            isPeerReview: isPeerReview,\n            isPeerReviewFinished: isPeerReviewFinished,\n            isTeacherViewingStudentsSubmission: isTeacherViewingStudentsSubmission\n          };\n\n          var submissionHtml = mmooc.util.renderTemplateWithData(\n            'assignmentSubmission',\n            submissionObject\n          );\n\n          $(\n            '.mmooc-assignment-submission, .mmooc-assignment-submission-answers'\n          ).remove(); //Remove old Html that was created before\n          $(\n            'body.assignments #application.ic-app #content .submission_details'\n          ).after(submissionHtml);\n        }\n\n        //Functionality for this is as follows:\n        // We want the peer review to display that it is finished without a refresh of the page.\n        // Unfortunately we don't have any info about the peer review from the API because as a user you don't have access to that data it seems.\n        // In order to solve this we check that the user has submitted data by checking the DOM. Then the SubmissionObject used in the template (assignmentSubmission) is changed so the peer review looks completed (which it also is).\n\n        mmooc.api.getSingleAssignment(courseId, assignmentId, function(\n          assignment\n        ) {\n          mmooc.api.getSingleSubmissionForUser(\n            courseId,\n            assignmentId,\n            submission_user_id,\n            function(submission) {\n              var submission_id = submission.id;\n\n              mmooc.api.getPeerReviewsForSubmissionId(\n                courseId,\n                assignmentId,\n                submission_id,\n                function(peerReview) {\n                  _logDataToConsole(assignment, submission, peerReview);\n                  _appendCompletedPeerReviewHtml(\n                    assignment,\n                    submission,\n                    peerReview\n                  );\n                }\n              );\n            }\n          );\n        });\n      }\n\n      function _isPeerReview() {\n        var returnValue = false;\n        var peerReviewText = mmooc.i18n.PeerReviewer;\n        var originalSubmissionHeader =\n          'body.assignments #application.ic-app #content .submission_details h2.submission_header';\n        if (\n          $(originalSubmissionHeader + \":contains('\" + peerReviewText + \"')\")\n            .length\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _isOwnSubmission() {\n        var returnValue = false;\n        var deliveryText = mmooc.i18n.Delivery;\n        var originalSubmissionHeader =\n          'body.assignments #application.ic-app #content .submission_details h2.submission_header';\n        if (\n          $(originalSubmissionHeader + \":contains('\" + deliveryText + \"')\")\n            .length\n        ) {\n          returnValue = true;\n        }\n        return returnValue;\n      }\n\n      function _logDataToConsole(assignment, submission, peerReview) {\n        console.log('submission_user_id:' + submission_user_id);\n        console.log('Assignment:');\n        console.log(assignment);\n        console.log('Submission:');\n        console.log(submission);\n        console.log('peerReview for submission id');\n        console.log(peerReview);\n      }\n\n      function _appendSubmissionHtml(assignment, submission, peerReview) {\n        var submissionTitle = _getSubmissionTitle();\n        var isTeacherViewingStudentsSubmission = _isTeacherViewingStudentsSubmission();\n        var isPeerReviewFinished = _isPeerReviewFinished();\n        var submissionObject = {\n          assignment: assignment,\n          submission: submission,\n          peerReview: peerReview,\n          submissionTitle: submissionTitle,\n          isPeerReview: isPeerReview,\n          isPeerReviewFinished: isPeerReviewFinished,\n          isTeacherViewingStudentsSubmission: isTeacherViewingStudentsSubmission\n        };\n\n        var submissionHtml = mmooc.util.renderTemplateWithData(\n          'assignmentSubmission',\n          submissionObject\n        );\n        $(\n          'body.assignments #application.ic-app #content .submission_details'\n        ).after(submissionHtml);\n      }\n\n      function _addSaveRubricButtonIfItDoesNotExist() {\n        function _new_save_rubric_button(event) {\n          console.log(\n            'dynamically button (#mmooc_save_rubric_button.save_rubric_button )is clicked'\n          );\n\n          //Start original rubric button on click code in Canvas LMS\n          var showGrade = function(submission) {\n            $('.grading_box').val(\n              submission.grade != undefined && submission.grade !== null\n                ? submission.grade\n                : ''\n            );\n            $('.score').text(\n              submission.score != undefined && submission.score !== null\n                ? round(submission.score, round.DEFAULT)\n                : ''\n            );\n            $('.published_score').text(\n              submission.published_score != undefined &&\n                submission.published_score !== null\n                ? round(submission.published_score, round.DEFAULT)\n                : ''\n            );\n          };\n\n          var toggleRubric = function($rubric) {\n            ariaSetting = $rubric.is(':visible');\n            $('#application')\n              .find('[data-hide_from_rubric]')\n              .attr('aria-hidden', ariaSetting);\n          };\n\n          var closeRubric = function() {\n            $('#rubric_holder').fadeOut(function() {\n              toggleRubric($(this));\n              $('.assess_submission_link').focus();\n            });\n          };\n\n          var $rubric = $(this)\n            .parents('#rubric_holder')\n            .find('.rubric');\n          var data = rubricAssessment.assessmentData($rubric);\n          var url = $('.update_rubric_assessment_url').attr('href');\n          var method = 'POST';\n          $rubric.loadingImage();\n\n          $.ajaxJSON(url, method, data, function(data) {\n            $rubric.loadingImage('remove');\n            var assessment = data;\n            var found = false;\n            if (assessment.rubric_association) {\n              rubricAssessment.updateRubricAssociation(\n                $rubric,\n                data.rubric_association\n              );\n              delete assessment.rubric_association;\n            }\n            for (var idx in rubricAssessments) {\n              var a = rubricAssessments[idx].rubric_assessment;\n              if (a && assessment && assessment.id == a.id) {\n                rubricAssessments[idx].rubric_assessment = assessment;\n                found = true;\n              }\n            }\n            if (!found) {\n              if (!data.rubric_assessment) {\n                data = { rubric_assessment: data };\n              }\n              rubricAssessments.push(data);\n              var $option = $(document.createElement('option'));\n              $option\n                .val(assessment.id)\n                .text(assessment.assessor_name)\n                .attr('id', 'rubric_assessment_option_' + assessment.id);\n              $('#rubric_assessments_select')\n                .prepend($option)\n                .val(assessment.id);\n            }\n            $('#rubric_assessment_option_' + assessment.id).text(\n              assessment.assessor_name\n            );\n            $('#new_rubric_assessment_option').remove();\n            $('#rubric_assessments_list').show();\n            rubricAssessment.populateRubric($rubric, assessment);\n            submission = assessment.artifact;\n            if (submission) {\n              showGrade(submission);\n            }\n            closeRubric();\n            //End original rubric button on click code in Canvas LMS\n            console.log(\n              'Finished running #mmooc_save_rubric_button.save_rubric_button code'\n            );\n            _updateDomAfterSaveRubricButtonClick();\n          });\n        }\n\n        if (isPeerReview) {\n          var isAssessingRubric = false;\n          if ($('#rubric_holder .rubric_container.rubric.assessing').length) {\n            isAssessingRubric = true;\n          }\n\n          if (isAssessingRubric) {\n            //We know that we are in assessing mode\n            //The button should be there\n            var $saveRubricButton = $(\n              '#rubric_holder #rubric_criterion_comments_dialog + .button-container > button.save_rubric_button'\n            );\n            if ($saveRubricButton.length == 0) {\n              console.log('Adding custom save rubric button');\n              var saveRubricButtonHtml = mmooc.util.renderTemplateWithData(\n                'assignmentPageWithPeerReviewSaveRubricButton',\n                {}\n              );\n\n              // $(\"#rubric_holder #rubric_criterion_comments_dialog + .button-container button.save_rubric_button\").remove();\n              $(\n                '#rubric_holder #rubric_criterion_comments_dialog + .button-container'\n              ).append(saveRubricButtonHtml);\n              $(document).on(\n                'click',\n                '#mmooc_save_rubric_button',\n                _new_save_rubric_button\n              );\n            }\n          }\n        }\n      }\n\n      if (_isCodeRunningInIframe()) {\n        return false; //The code is running in an iframe. Code should not be running.\n      }\n      var courseId = mmooc.api.getCurrentCourseId();\n      var assignmentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n      var isRubric = _isRubric();\n      var isPeerReview = _isPeerReview();\n      var isOwnSubmission = _isOwnSubmission();\n      var submission_user_id = ENV.SUBMISSION.user_id;\n\n      if (isRubric) {\n        //Spesial design dersom vi bruker vurderingskriterier.\n        if (isPeerReview || isOwnSubmission) {\n          mmooc.api.getSingleAssignment(courseId, assignmentId, function(\n            assignment\n          ) {\n            mmooc.api.getSingleSubmissionForUser(\n              courseId,\n              assignmentId,\n              submission_user_id,\n              function(submission) {\n                var submission_id = submission.id;\n\n                mmooc.api.getPeerReviewsForSubmissionId(\n                  courseId,\n                  assignmentId,\n                  submission_id,\n                  function(peerReview) {\n                    _logDataToConsole(assignment, submission, peerReview);\n                    _appendSubmissionHtml(assignment, submission, peerReview);\n                    _addClickEventOnOpenAssessmentButton();\n                    //                            _addSaveRubricButtonIfItDoesNotExist(); //Enable this if the button 'Lagre kommentar' in the peer review dialog is not displaying\n                    //                          Update: This is a bug in Canvas: https://community.canvaslms.com/thread/12681-peer-review-issues\n                    $(document).on(\n                      'click',\n                      'button.save_rubric_button',\n                      _updateDomAfterSaveRubricButtonClick\n                    );\n                  }\n                );\n              }\n            );\n          });\n        }\n      } //Vis standard design.\n      else {\n        $('.submission-details-header.submission_details').show();\n        $('.submission-details-comments').show();\n        $('#submission_comment.submission_comment_textarea').show();\n      }\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.powerFunctions = (() => {\n  let rootId = undefined;\n\n  _render = (template, heading, data) => {\n    const html =\n      mmooc.util.renderTemplateWithData('powerfunctions/head', {\n        heading: heading\n      }) +\n      mmooc.util.renderTemplateWithData(template, data) +\n      mmooc.util.renderTemplateWithData('powerfunctions/tail', {});\n    document.getElementById(rootId).innerHTML = html;\n  };\n\n  AssignPeerReviewsForGroup = () => {\n    _renderView = () => {\n      mmooc.api.getCoursesForUser(courses => {\n        _render('powerfunctions/peer-review', 'Assign peer reviews by group', {\n          courses: courses\n        });\n        let peerReviewAssignments = [];\n        $('#mmpf-course-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          mmooc.api.getGroupCategoriesForCourse(courseID, categories => {\n            $('.step-2').css('display', 'list-item');\n            $('.step-3').css('display', 'none');\n            $('.step-4').css('display', 'none');\n            let html = `${html}<option value=''>Choose a group set</option>`;\n            categories.forEach(category => {\n              html = `${html}<option value='${category.id}'>${\n                category.name\n              }</option>`;\n            });\n            $('#mmpf-category-select').html(html);\n            $('.peer-review-list').html('');\n            $('.assignment-info').html('');\n          });\n        });\n\n        $('#mmpf-category-select').change(() => {\n          const categoryID = $('#mmpf-category-select option:selected').val();\n          mmooc.api.getGroupsInCategory(categoryID, groups => {\n            $('.step-3').css('display', 'list-item');\n            $('.step-4').css('display', 'none');\n            let html = `${html}<option value='' disabled>Choose groups</option>`;\n            groups.forEach(\n              group =>\n                (html = `${html}<option value=\"${group.id}\">${\n                  group.name\n                }</option>`)\n            );\n            $('#mmpf-group-select').html(html);\n            $('.peer-review-list').html('');\n            $('.assignment-info').html('');\n          });\n        });\n\n        $('#mmpf-group-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          mmooc.api.getAssignmentsForCourse(courseID, assignments => {\n            peerReviewAssignments = [];\n            assignments.forEach(assignment => {\n              if (assignment.peer_reviews)\n                peerReviewAssignments.push(assignment);\n            });\n            let html = \"<option value=''>Choose an assignment</option>\";\n            peerReviewAssignments.forEach(\n              peerReviewAssignment =>\n                (html = `${html}<option value=\"${peerReviewAssignment.id}\">${\n                  peerReviewAssignment.name\n                }</option>`)\n            );\n            $('#mmpf-assignment-select').html(html);\n            $('.peer-review-list').html('');\n            $('.assignment-info').html('');\n            $('.step-4').css('display', 'list-item');\n          });\n        });\n\n        $('#mmpf-assignment-select').change(() => {\n          const assignmentID = $(\n            '#mmpf-assignment-select option:selected'\n          ).val();\n          for (let i = 0; i < peerReviewAssignments.length; i++) {\n            if (peerReviewAssignments[i].id == assignmentID) {\n              var activeAssignment = peerReviewAssignments[i];\n            }\n          }\n          let assignmentDue = new Date(activeAssignment.due_at);\n          if (typeof activeAssignment.peer_reviews_assign_at !== 'undefined') {\n            let peerReviewDue = new Date(\n              activeAssignment.peer_reviews_assign_at\n            );\n            peerReviewDue = `0${peerReviewDue\n              .getDate()\n              .slice(-2)}.0${peerReviewDue\n              .getMonth()\n              .slice(-2)}.${peerReviewDue.getFullYear()}`;\n          } else {\n            peerReviewDue = 'Ikke satt';\n          }\n          assignmentDue = `0${assignmentDue\n            .getDate()\n            .slice(-2)}.0${assignmentDue\n            .getMonth()\n            .slice(-2)}.${assignmentDue.getFullYear()}`;\n          const html = `<h3>${\n            activeAssignment.name\n          }</h3><p><span class='bold'>Innleveringsfrist: </span>${assignmentDue}<br>\n\t\t\t\t\t\t<span class='bold'>Hverandrevurderingsfrist: </span>${peerReviewDue}</p>`;\n          $('.assignment-info').html(html);\n          let selectedGroups = [];\n          $('#mmpf-group-select option:selected').each(() => {\n            selectedGroups.push(this);\n          });\n          $('.peer-review-list').html('');\n          _listPeerReviewsForGroup(selectedGroups, assignmentID);\n          _showInput();\n        });\n      });\n    };\n\n    _listPeerReviewsForGroup = (selectedGroups, assignmentID) => {\n      $('.peer-review-list').html('');\n      $('.progress-info').html(\n        '<p>Laster hverandrevurderinger... (Kan ta opptil 1 minutt)</p>'\n      );\n      const courseID = $('#mmpf-course-select option:selected').val();\n      let html = '';\n      let peerReviewsInGroup = [];\n      let count = 0;\n      let asyncsDone = 0;\n      let inArray = false;\n      const groupsMembers = [];\n      const allSubmitted = [];\n      let noOfAssignedPeerReviewsForStudent = [];\n      let noOfPeerReviewersForStudent = [];\n      mmooc.api.getPeerReviewsForAssignment(\n        courseID,\n        assignmentID,\n        peerReviews => {\n          for (var i = 0; i < selectedGroups.length; i++) {\n            mmooc.api.getGroupMembers(selectedGroups[i].value, function(\n              members\n            ) {\n              groupsMembers.push(members);\n              asyncsDone++;\n              $('.progress-info').html('Laster grupper');\n              $('#progress').show();\n              var width = (100 / selectedGroups.length) * asyncsDone + '%';\n              $('#bar').width(width);\n              if (asyncsDone == selectedGroups.length) {\n                //Sort groups array based on selected groups array\n                var groupsMembersSorted = [];\n                for (var i = 0; i < selectedGroups.length; i++) {\n                  for (var j = 0; j < groupsMembers.length; j++) {\n                    if (\n                      selectedGroups[i].value == groupsMembers[j][0].group_id\n                    ) {\n                      groupsMembersSorted.push(groupsMembers[j]);\n                      break;\n                    }\n                  }\n                }\n                _findSubmissionsForGroups(groupsMembersSorted);\n              }\n            });\n          }\n\n          _findSubmissionsForGroups = groupsMembers => {\n            const totalMembers = 0;\n            asyncsDone = 0;\n            // Find total members\n            for (let j = 0; j < groupsMembers.length; j++) {\n              for (let i = 0; i < groupsMembers[j].length; i++) {\n                totalMembers++;\n              }\n            }\n            for (let j = 0; j < groupsMembers.length; j++) {\n              // Get submissions for users in group and push to array if workflow_state is submitted or graded\n              for (let i = 0; i < groupsMembers[j].length; i++) {\n                mmooc.api.getSingleSubmissionForUser(\n                  courseID,\n                  assignmentID,\n                  groupsMembers[j][i].id,\n                  submission => {\n                    $('.progress-info').html('Laster besvarelser');\n                    if (\n                      submission.workflow_state == 'submitted' ||\n                      submission.workflow_state == 'graded'\n                    ) {\n                      allSubmitted.push(submission);\n                    }\n                    asyncsDone++;\n                    width = (100 / totalMembers) * asyncsDone + '%';\n                    $('#bar').width(width);\n                    // Print groups when all requests are done\n                    if (asyncsDone == totalMembers) {\n                      for (let i = 0; i < groupsMembers.length; i++) {\n                        _printSingleGroup(groupsMembers[i], allSubmitted);\n                      }\n                    }\n                  }\n                );\n              }\n            }\n          };\n\n          _printSingleGroup = (members, submitted) => {\n            peerReviewsInGroup = [];\n            inArray = false;\n            count = 0;\n            var groupName;\n            members.forEach(\n              member => (noOfPeerReviewersForStudent[member.id] = 0)\n            );\n            for (let i = 0; i < selectedGroups.length; i++) {\n              if (selectedGroups[i].value == members[0].group_id) {\n                groupName = selectedGroups[i].text;\n              }\n            }\n            html = `<h3>${groupName}</h3><ul>`;\n            // Traverse all peer reviews and group members\n            for (let i = 0; i < peerReviews.length; i++) {\n              for (let j = 0; j < members.length; j++) {\n                // Check if object is already in array\n                for (let k = 0; k < peerReviewsInGroup.length; k++) {\n                  if (peerReviewsInGroup[k] === peerReviews[i]) inArray = true;\n                }\n                // Push object to array if assesor is member of group and object not already in array\n                if (peerReviews[i].assessor_id == members[j].id && !inArray) {\n                  peerReviewsInGroup[count] = peerReviews[i];\n                  count++;\n                }\n                inArray = false;\n              }\n            }\n            inArray = false;\n            for (let i = 0; i < members.length; i++) {\n              const noOfAssignedPeerReviews = 0;\n              count = 0;\n              // List users and tag users without submissions\n              if (submitted) {\n                for (let j = 0; j < submitted.length; j++) {\n                  // Check if user has submission\n                  if (submitted[j].user_id == members[i].id) {\n                    html = `${html}<li><a href='/courses/${courseID}/assignments/${assignmentID}/submissions/${\n                      members[i].id\n                    }' target='_blank'>${members[i].name}</a></li><ul>`;\n                    inArray = true;\n                    break;\n                  }\n                }\n                if (!inArray) {\n                  html = `${html}<li>${\n                    members[i].name\n                  }<span class='no-submission'>Ikke levert besvarelse</span></li><ul>`;\n                }\n              } else {\n                html = `${html}<li>${members[i].name}</li><ul>`;\n              }\n              for (let k = 0; k < peerReviewsInGroup.length; k++) {\n                if (members[i].id == peerReviewsInGroup[k].assessor_id) {\n                  noOfAssignedPeerReviews++;\n                  noOfPeerReviewersForStudent[peerReviewsInGroup[k].user.id]++;\n                  // List user name and tag peer review as completed/not completed\n                  if (peerReviewsInGroup[k].workflow_state == 'completed') {\n                    html = `${html}<li>\n\t\t\t\t\t\t\t\t\t\t<a href='/courses/${courseID}/assignments/${assignmentID}/submissions/${\n                      peerReviewsInGroup[k].user.id\n                    }' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t${\n                      peerReviewsInGroup[k].user.display_name\n                    }</a><span style='color:green;'>Fullført</span></li>`;\n                  } else {\n                    html = `${html}<li>\n\t\t\t\t\t\t\t\t\t\t<a href='/courses/${courseID}/assignments/${assignmentID}/submissions/${\n                      peerReviewsInGroup[k].user.id\n                    }' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t${\n                      peerReviewsInGroup[k].user.display_name\n                    }</a><span style='color:red;'>Ikke fullført</span></li>`;\n                  }\n                  count++;\n                }\n              }\n              html = `${html}</ul>`;\n              if (count == 0) html = `${html}<div>Ingen tildelt</div>`;\n              inArray = false;\n              noOfAssignedPeerReviewsForStudent[\n                members[i].id\n              ] = noOfAssignedPeerReviews;\n            }\n            $('#progress').hide();\n            $('.peer-review-list').append(`${html}</ul>`);\n            $('.progress-info').html('');\n            $('.input-wrapper').show();\n            $('.btn-create-pr')\n              .unbind()\n              .click(() => {\n                const numOfReviews = $('.number-of-reviews').val();\n                // Create peer reviews for group after validation\n                if (!_isNormalInteger(numOfReviews) || numOfReviews < 1) {\n                  alert('Antall gjennomganger må være et positivt heltall');\n                } else {\n                  $('.input-wrapper').hide();\n                  _createPeerReviewsForGroups(\n                    courseID,\n                    assignmentID,\n                    numOfReviews,\n                    allSubmitted,\n                    groupsMembers,\n                    selectedGroups,\n                    peerReviewsInGroup,\n                    noOfAssignedPeerReviewsForStudent,\n                    noOfPeerReviewersForStudent\n                  );\n                }\n              });\n          };\n        }\n      );\n    };\n\n    _createPeerReviewsForGroups = (\n      courseID,\n      assignmentID,\n      numOfReviews,\n      allSubmitted,\n      groupsMembers,\n      selectedGroups,\n      peerReviewsInGroup,\n      noOfAssignedPeerReviewsForStudent,\n      noOfPeerReviewersForStudent\n    ) => {\n      $('.peer-review-list').html('');\n      $('#progress').show();\n      const asyncsDone = 0;\n      let assesorIndex = 0;\n      let submitted = [];\n      let skipped = 0;\n      let width = 0;\n      for (let m = 0; m < groupsMembers.length; m++) {\n        $('#bar').width('0%');\n        submitted = [];\n        // Get submissions for group\n        $('.progress-info').html(\n          `Finner innleveringene for gruppe ${m + 1} av ${groupsMembers.length}`\n        );\n        for (let k = 0; k < allSubmitted.length; k++) {\n          for (let l = 0; l < groupsMembers[m].length; l++) {\n            width = (100 / allSubmitted.length) * k + '%';\n            $('#bar').width(width);\n            if (allSubmitted[k].user_id == groupsMembers[m][l].id)\n              submitted.push(allSubmitted[k]);\n          }\n        }\n        // Continue if number of reviews exeeds number of groups members\n        if (numOfReviews > submitted.length - 1) {\n          skipped = skipped + submitted.length;\n          alert(\n            `For mange gjennomganger i forhold til antall besvarelser for gruppe ${\n              selectedGroups[m].text\n            }`\n          );\n          continue;\n        }\n        $('.progress-info').html('Tildeler hverandrevurderinger...');\n        $('#bar').width(0);\n        for (let j = 0; j < numOfReviews; j++) {\n          for (let i = 0; i < submitted.length; i++) {\n            assesorIndex = i + 1 + j;\n            // Check if index exceeds array length\n            if (assesorIndex >= submitted.length)\n              assesorIndex = assesorIndex - submitted.length;\n            let userID = submitted[assesorIndex].user_id;\n            for (let l = 0; l < numOfReviews; l++) {\n              for (let k = 0; k < peerReviewsInGroup.length; k++) {\n                if (\n                  (peerReviewsInGroup[k].assessor_id == userID &&\n                    peerReviewsInGroup[k].user_id == submitted[i].user_id) ||\n                  userID == submitted[i].user_id\n                ) {\n                  assesorIndex++;\n                  if (assesorIndex >= submitted.length)\n                    assesorIndex = assesorIndex - submitted.length;\n                  userID = submitted[assesorIndex].user_id;\n                }\n              }\n            }\n            // Check if student already has enough peer reviews or peer reviewers\n            if (\n              noOfAssignedPeerReviewsForStudent[userID] < numOfReviews &&\n              noOfPeerReviewersForStudent[submitted[i].user_id] < numOfReviews\n            ) {\n              noOfAssignedPeerReviewsForStudent[userID]++;\n              noOfPeerReviewersForStudent[submitted[i].user_id]++;\n              mmooc.api.createPeerReview(\n                courseID,\n                assignmentID,\n                submitted[i].id,\n                userID,\n                function(result) {\n                  asyncsDone++;\n                  width =\n                    (100 / (numOfReviews * allSubmitted.length)) * asyncsDone +\n                    '%';\n                  $('#bar').width(width);\n                  if (\n                    asyncsDone ==\n                    allSubmitted.length * numOfReviews - skipped\n                  ) {\n                    $('#progress').hide();\n                    _listPeerReviewsForGroup(selectedGroups, assignmentID);\n                    if (skipped > 0) {\n                      alert(\n                        `Klarte ikke tildele hverandrevurderinger for ${skipped} studenter. (Studentene har allerede nok hverandrevurderinger eller hverandrevurderere.)`\n                      );\n                    }\n                  }\n                }\n              ); //end createPeerReview async call\n            } //end if noOfAssignedPeerReviewsForStudent < numOfReviews && noOfPeerReviewersForStudent[submitted[i].user_id] < numOfReviews\n            else {\n              skipped++;\n              if (asyncsDone == allSubmitted.length * numOfReviews - skipped) {\n                $('#progress').hide();\n                _listPeerReviewsForGroup(selectedGroups, assignmentID);\n                if (skipped > 0) {\n                  alert(\n                    `Klarte ikke tildele hverandrevurderinger for ${skipped} studenter. (Studentene har allerede nok hverandrevurderinger eller hverandrevurderere.)`\n                  );\n                }\n              }\n            }\n          } //end for submitted.length\n        } //end for numOfReviews (ferdig å tildele hverandrevurderinger for en gruppe)\n      } //end for groupsMembers.length (ferdig å tildele hverandrevurderinger for alle grupper)\n    };\n\n    _isNormalInteger = str => {\n      return /^\\+?(0|[1-9]\\d*)$/.test(str);\n    };\n\n    _showInput = () => {\n      $('.peer-review-create').html(\n        `<div class='input-wrapper'><input type='text' value='${\n          mmooc.settings.defaultNumberOfReviews\n        }' style='width:25px;' class='number-of-reviews'>\n\t\t\t\tgjennomganger per bruker<br><input type='button' value='Tildel hverandrevurderinger' class='button btn-create-pr'></div>`\n      );\n    };\n\n    return {\n      run: () => _renderView()\n    };\n  };\n\n  ListStudentProgress = () => {\n    const error = error => console.error('error calling api', error);\n\n    _renderView = () => {\n      mmooc.api.getCoursesForUser(courses => {\n        _render(\n          'powerfunctions/student-progress',\n          'List student progress by section',\n          { courses: courses }\n        );\n        $('#mmpf-course-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          const params = { per_page: 999 };\n          mmooc.api.getSectionsForCourse(courseID, params, sections => {\n            $('.step-2').css('display', 'list-item');\n            $('.step-3').css('display', 'none');\n            let html = `${html}<option value=''>Choose a section</option>`;\n            sections.forEach(\n              section =>\n                (html = `${html}<option value=\"${i}\">${section.name}</option>`)\n            );\n            $('#mmpf-section-select').html(html);\n            $('.student-progress-table').html('');\n          });\n        });\n        $('#mmpf-section-select').change(() => {\n          const courseID = $('#mmpf-course-select option:selected').val();\n          mmooc.api.getModulesForCourseId(\n            modules => {\n              $('.step-3').css('display', 'list-item');\n              let html = `${html}<option value=''>Choose a module</option>`;\n              modules.forEach(\n                module =>\n                  (html = `${html}<option value=\"${module.id}\">${\n                    module.name\n                  }</option>`)\n              );\n              $('#mmpf-module-select').html(html);\n              $('.student-progress-table').html('');\n            },\n            error,\n            courseID\n          );\n        });\n        $('#mmpf-module-select').change(() => {\n          _printStudentProgressForSection();\n          $('.student-progress-table').html('');\n        });\n      });\n    };\n\n    _printStudentProgressForSection = () => {\n      $('#progress').hide();\n      const courseID = $('#mmpf-course-select option:selected').val();\n      const moduleID = $('#mmpf-module-select option:selected').val();\n      const sectionIndex = $('#mmpf-section-select option:selected').val();\n      const sectionParams = { per_page: 999, include: ['students'] };\n      let moduleParams = { per_page: 999 };\n      let html = '<table><tr><th>Navn</th>';\n      const asyncsDone = 0;\n      mmooc.api.getItemsForModuleId(\n        items => {\n          items.forEach(item => (html = `${html}<th>${item.title}</th>`));\n          html = `${html}</tr>`;\n          mmooc.api.getSectionsForCourse(courseID, sectionParams, sections => {\n            if (sections[sectionIndex].students.length < 1)\n              $('.student-progress-table').html(\n                `Ingen studenter funnet i klasse ${sections[sectionIndex].name}`\n              );\n            for (let j = 0; j < sections[sectionIndex].students.length; j++) {\n              moduleParams = {\n                student_id: sections[sectionIndex].students[j].id,\n                per_page: 999\n              };\n              mmooc.api.getItemsForModuleId(\n                itemsForStudent => {\n                  for (\n                    let l = 0;\n                    l < sections[sectionIndex].students.length;\n                    l++\n                  ) {\n                    if (\n                      sections[sectionIndex].students[l].id ==\n                      itemsForStudent[0].student_id\n                    )\n                      html = `${html}<tr><td>${\n                        sections[sectionIndex].students[l].name\n                      }</td>`;\n                  }\n                  if (itemsForStudent.length < 1)\n                    html = `${html}<td>Ingen krav</td>`;\n                  for (let k = 0; k < itemsForStudent.length; k++) {\n                    if ('completion_requirement' in itemsForStudent[k]) {\n                      if (itemsForStudent[k].completion_requirement.completed) {\n                        html = `${html}<td class='ok' />`;\n                      } else {\n                        html = `${html}<td class='nok' />`;\n                      }\n                    } else {\n                      html = `${html}<td>Ingen krav</td>`;\n                    }\n                  }\n                  asyncsDone++;\n                  const width =\n                    (100 / sections[sectionIndex].students.length) *\n                      asyncsDone +\n                    '%';\n                  $('#bar').width(width);\n                  $('#progress').show();\n                  if (asyncsDone == sections[sectionIndex].students.length) {\n                    $('#progress').hide();\n                    $('.student-progress-table').html(`${html}</table>`);\n                  }\n                },\n                error,\n                courseID,\n                moduleID,\n                moduleParams\n              );\n              html = `${html}</tr>`;\n            }\n          });\n        },\n        error,\n        courseID,\n        moduleID,\n        moduleParams\n      );\n    };\n\n    return {\n      run: () => {\n        _renderView();\n      }\n    };\n  };\n\n  Menu = () => {\n    _setUpClickHandlers = () => {\n      $('#mmooc-pf-peer-review-btn').click(() => {\n        new AssignPeerReviewsForGroup().run();\n      });\n      $('#mmooc-pf-student-progress-btn').click(() => {\n        new ListStudentProgress().run();\n      });\n    };\n\n    return {\n      run: () => {\n        try {\n          _render('powerfunctions/mainteacher', 'Choose function');\n          _setUpClickHandlers();\n        } catch (e) {\n          alert(e.message);\n          console.log(e);\n        }\n      }\n    };\n  };\n\n  return {\n    show: parentId => {\n      rootId = parentId;\n      new Menu().run();\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.routes = (function() {\n  function Route(paths, queryStrings, handler) {\n    if (paths != null) {\n      this.paths = paths instanceof Array ? paths : [paths];\n    } else {\n      this.paths = null;\n    }\n\n    if (queryStrings != null) {\n      this.queryStrings =\n        queryStrings instanceof Array ? queryStrings : [queryStrings];\n    } else {\n      this.queryStrings = null;\n    }\n\n    this.handler = handler;\n    this.isAlreadyHandled = false;\n  }\n\n  var routes = [];\n\n  return {\n    addRouteForPath: function(path, handler) {\n      routes.push(new Route(path, null, handler));\n    },\n    addRouteForQueryString: function(queryString, handler) {\n      routes.push(new Route(null, queryString, handler));\n    },\n\n    addRouteForPathOrQueryString: function(path, queryString, handler) {\n      routes.push(new Route(path, queryString, handler));\n    },\n\n    performHandlerForUrl: function(location) {\n      var path = location.pathname;\n      var queryString = location.search;\n\n      for (var i = 0; i < routes.length; i++) {\n        var route = routes[i];\n        if (route.paths != null) {\n          for (var j = 0; j < route.paths.length; j++) {\n            if (route.paths[j].test(path) && !route.isAlreadyHandled) {\n              //20180911ETH Need to know if there is a query string to decide how to handle a discussion.\n              route.hasQueryString = queryString.length;\n              route.path = path;\n              route.isAlreadyHandled = true;\n              route.handler();\n            }\n          }\n        }\n\n        if (route.queryStrings != null) {\n          for (var k = 0; k < route.queryStrings.length; k++) {\n            if (\n              route.queryStrings[k].test(queryString) &&\n              !route.isAlreadyHandled\n            ) {\n              route.isAlreadyHandled = true;\n              console.log('Handle query string: ' + route.queryStrings[k]);\n              route.handler();\n              return;\n            }\n          }\n        }\n      }\n    }\n  };\n})();\n\nif (typeof module !== 'undefined' && module !== null) {\n  module.exports = this.mmooc.routes;\n}\n\nHandlebars.registerHelper('lowercase', function(str) {\n  return ('' + str).toLowerCase();\n});\n\nHandlebars.registerHelper('uppercase', function(str) {\n  return ('' + str).toUpperCase();\n});\n\nHandlebars.registerHelper('percentage', function(number1, number2) {\n  if (number2 == 0) {\n    return 0;\n  }\n  return Math.round((number1 * 100) / number2);\n});\n\nHandlebars.registerHelper('ifEquals', function(var1, var2, options) {\n  if (var1 == var2) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('ifUnmaintained', function(options) {\n  if(mmooc.util.isUnmaintained(this)) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('ifRoleBased', function(options) {\n  if(mmooc.util.isRoleBasedCourse(this)) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('courseAlert', function() {\n  return mmooc.util.isUnmaintained(this);\n});\n\nHandlebars.registerHelper('getCourseUrl', function() {\n  if (mmooc.util.isAuthenticated()) {\n    return '/courses/' + this.id;\n  } else {\n    return '/enroll/' + this.self_enrollment_code;\n  }\n});\n\nHandlebars.registerHelper('ifHasRole', function(enrollments, role, options) {\n  for (var i = 0; i < enrollments.length; i++) {\n    if (enrollments[i].role == role) {\n      return options.fn(this);\n    }\n  }\n});\n\nHandlebars.registerHelper('ifGreaterThan', function(value1, value2, options) {\n  if (value1 > value2) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('mapItemType', function(type) {\n  type = type.toLowerCase();\n  if (type.indexOf('externalurl') != -1 ||\n      type.indexOf('externaltool') != -1) {\n    return 'link';\n  }\n  return type;\n});\n\nHandlebars.registerHelper('overrideIconClassByTitle', function(title) {\n  title = title.toLowerCase();\n  if (title.indexOf('utmerkelse') != -1) {\n    return ' mmooc-icon-badge';\n  } else if (title.indexOf('video') != -1) {\n    return ' mmooc-icon-video';\n  } else if (title.indexOf('aktivitet') != -1) {\n    return ' mmooc-icon-interactive';\n  } else {\n    return '';\n  }\n});\n\nHandlebars.registerHelper('ifIsPrincipal', function(enrollments, options) {\n  if(mmooc.util.isTeacherOrAdmin())\n  {\n    return options.fn(this);\n  }\n  for (var i = 0; i < enrollments.length; i++) {\n    if (enrollments[i].role == mmooc.settings.principalRoleType) {\n      return options.fn(this);\n    }\n  }\n});\n\n\nHandlebars.registerHelper('ifIsIndented', function(options) {\n  if(this.indent) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\n\nHandlebars.registerHelper('getPeerReviewWorkflowIconClass', function(\n  workflow_state\n) {\n  if (workflow_state == 'assigned') {\n    return ' warning';\n  } else if (workflow_state == 'completed') {\n    return ' pass';\n  } else {\n    return '';\n  }\n});\n\nHandlebars.registerHelper('norwegianDateAndTime', function(timestamp) {\n  var year = new Date(timestamp).toString(' yyyy');\n  var day = new Date(timestamp).toString('dd. ');\n  var time = new Date(timestamp).toString(' HH:mm');\n  var monthNumber = parseInt(new Date(timestamp).toString('M'), 10);\n  var months = mmooc.i18n.Months;\n  var month = months[monthNumber - 1];\n\n  return day + month + year + time; //return new Date(timestamp).toString('dd. MMMM yyyy HH:mm'); // yyyy-MM-dd\n});\n\nHandlebars.registerHelper('getSubmissionAssessmentText', function(peerReview) {\n  var submissionText = '';\n  var numberOfReviews = peerReview.length;\n  var numberOfReviewsCompleted = 0;\n  var submissionAssessmentText = '';\n\n  $.each(peerReview, function(index, singlePeerReview) {\n    if (singlePeerReview.workflow_state == 'completed') {\n      numberOfReviewsCompleted = numberOfReviewsCompleted + 1;\n    }\n  });\n\n  if (numberOfReviews === 0) {\n    submissionAssessmentText = mmooc.i18n.SubmissionIsNotAssessed;\n  } else if (numberOfReviews === numberOfReviewsCompleted) {\n    if (numberOfReviewsCompleted == 1) {\n      submissionAssessmentText = mmooc.i18n.SubmissionIsAssessedByOne;\n    } else {\n      submissionAssessmentText = mmooc.i18n.SubmissionIsAssessedByAll;\n    }\n  } else {\n    submissionAssessmentText =\n      numberOfReviewsCompleted.toString() +\n      ' ' +\n      mmooc.i18n.OutOf +\n      ' ' +\n      numberOfReviews.toString() +\n      ' ' +\n      mmooc.i18n.SubmissionAssessmentsAreReady;\n  }\n\n  return submissionAssessmentText;\n});\n\nHandlebars.registerHelper('ifAtLeastOnePeerReviewIsComplete', function(\n  peerReview,\n  options\n) {\n  var atLeastOnePeerReviewComplete = false;\n  $.each(peerReview, function(index, singlePeerReview) {\n    if (singlePeerReview.workflow_state == 'completed') {\n      atLeastOnePeerReviewComplete = true;\n    }\n  });\n  if (atLeastOnePeerReviewComplete) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('ifAllPeerReviewsAreComplete', function(\n  peerReview,\n  options\n) {\n  var allPeerReviewsAreComplete = true;\n\n  $.each(peerReview, function(index, singlePeerReview) {\n    if (singlePeerReview.workflow_state != 'completed') {\n      allPeerReviewsAreComplete = false;\n    }\n  });\n\n  if (allPeerReviewsAreComplete) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('getPathFromUrl', function(url) {\n  return url.split('?')[0]; //returns an array even if there is no '?' so no need for extra checks\n});\n\nHandlebars.registerHelper('urlForCourseId', function(courseId) {\n  return '/courses/' + courseId;\n});\n\nHandlebars.registerHelper('urlForGroupId', function(groupId) {\n  return '/groups/' + groupId + '/discussion_topics';\n});\n\nHandlebars.registerHelper('ifItemIsCompleted', function(\n  completion_requirement,\n  options\n) {\n  if (completion_requirement && completion_requirement.completed) {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('localize', function(key, options) {\n  if (mmooc.i18n[key] != null) {\n    return mmooc.i18n[key];\n  } else {\n    return key;\n  }\n});\n\nHandlebars.registerHelper('ifAllItemsCompleted', function(items, options) {\n  for (var i = 0; i < items.length; i++) {\n    var item = items[i];\n    if (item.completion_requirement && !item.completion_requirement.completed) {\n      return options.inverse(this);\n    }\n  }\n\n  return options.fn(this);\n});\n\nHandlebars.registerHelper('ifAllModulesCompleted', function(modules, options) {\n  if (mmooc.courseList.isCourseCompleted(modules)) {\n    return options.fn(this);\n  }\n  return options.inverse(this);\n});\n\nHandlebars.registerHelper('ifAllStudentModulesCompleted', function(modules, options) {\n  var bIncludeIndentedItems = false;\n  if (mmooc.util.percentageProgress(modules, bIncludeIndentedItems) == 100)\n  {\n    return options.fn(this);\n  }\n  return options.inverse(this);\n});\n\n\nHandlebars.registerHelper('percentageForModules', function(modules) {\n  var bIncludeIndentedItems = true;\n  return mmooc.util.percentageProgress(modules, bIncludeIndentedItems);\n});\n\nHandlebars.registerHelper('percentageForStudentModules', function(modules) {\n  var bIncludeIndentedItems = false;\n  return mmooc.util.percentageProgress(modules, bIncludeIndentedItems);\n});\n\n\nHandlebars.registerHelper('urlForFirstNoneCompletePrincipalItem', function(items) {\n  var bIncludeIndentedItems = true;\n  return mmooc.util.firstIncompleteItemHtmlUrl(items, bIncludeIndentedItems);\n});\n\nHandlebars.registerHelper('urlForFirstNoneCompleteItem', function(items) {\n  var bIncludeIndentedItems = false;\n  return mmooc.util.firstIncompleteItemHtmlUrl(items, bIncludeIndentedItems);\n});\n\n\nHandlebars.registerHelper('ifItemTypeDiscussion', function(type, options) {\n  if (type == 'Discussion') {\n    return options.fn(this);\n  } else {\n    return options.inverse(this);\n  }\n});\n\nHandlebars.registerHelper('findRightUrlFor', function(activity) {\n  return activity.type === 'Submission'\n    ? '/courses/' + activity.course_id + '/grades'\n    : activity.html_url;\n});\n\nHandlebars.registerHelper('checkReadStateFor', function(activity) {\n  return mmooc.menu.checkReadStateFor(activity) ? 'unread' : '';\n});\n\nHandlebars.registerHelper('debug', function(optionalValue) {\n  console.log('Current Context');\n  console.log('====================');\n  console.log(this);\n\n  if (optionalValue) {\n    console.log('Value');\n    console.log('====================');\n    console.log(optionalValue);\n  }\n});\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.tinyMCEEditor = (function () {\n\n    function getGroupNames(userGroups) {\n        let groupNames = [];\n        for (let i = 0; i < userGroups.length; i++){\n            groupNames.push(userGroups[i].name);\n        }\n        return groupNames;\n    }\n\n    function hyphenateGroupNames(groupNames) {\n        const regExp = /\\s+/g;\n        let hyphenatedGroupNames = [];\n        for (let i = 0; i < groupNames.length; i++){\n            const trimmedName = groupNames[i].trim();\n            const hyphenatedName = trimmedName.replace(regExp, \"-\");\n            hyphenatedGroupNames.push(hyphenatedName);\n        }\n        return hyphenatedGroupNames;\n    }\n\n    function hashtagGroupNames(hyphenatedGroupNames) {\n        let hashtaggedGroupNames = [];\n        for (let i = 0; i < hyphenatedGroupNames.length; i++){\n            const hashtaggedGroupName = \"#\" + hyphenatedGroupNames[i];\n            hashtaggedGroupNames.push(hashtaggedGroupName)\n        }\n        return hashtaggedGroupNames;\n    }\n\n    function htmlDecode(encoded) {\n        const doc = new DOMParser().parseFromString(encoded, \"text/html\");\n        return doc.documentElement.textContent;\n    }\n\n    return {\n        injectGroupHashtags: function (userGroups) {\n            const groupNames = getGroupNames(userGroups);\n            const hyphenatedGroupNames = hyphenateGroupNames(groupNames);\n            const hashtaggedHyphenatedGroupNames = hashtagGroupNames(hyphenatedGroupNames);\n            const joinedNames = hashtaggedHyphenatedGroupNames.join(\" \").toString() + \"\";\n            const htmlElementWithGroupNames = \"<p>&nbsp;</p><p>&nbsp;</p><p><span style=\\\"font-size: 10pt; color: gray;\\\">\" + joinedNames + \"</span></p>\";\n            \n            const rawContent = tinyMCE.activeEditor.getContent();\n            const decodedContent = htmlDecode(rawContent);\n            if (decodedContent.search(joinedNames) === -1) {\n                tinyMCE.activeEditor.setContent(rawContent + htmlElementWithGroupNames);\n            }\n        }\n    }\n})();\n\nthis.mmooc=this.mmooc||{};\n\n\nthis.mmooc.uidp = function() {\n    var token = null;\n\n    let request = ['openid','profile'];\n    let uidpCallback = 'https://localhost/courses/1';\n    let uidpClientId = 'udir.kompetanseportalen-local';\n    \n    var opts = {\n        scopes: {\n            request: request\n        },\n        response_type: 'id_token token'\n    }\n        \n    var client = new jso.JSO({\n                providerID: \"UIDP\",\n                client_id: uidpClientId,\n                redirect_uri: uidpCallback, \n                authorization: \"https://uidp-dev.udir.no/connect/authorize\"\n            });\n\n    return {\n        getSilentOpts : function() {\n            var silent_opts = JSON.parse(JSON.stringify(opts));\n            silent_opts.request = {prompt: \"none\"};\n            return silent_opts;\n        },\n        getClient : function() {\n            return client;\n        },\n        updateStatus : function(s, waitIcon = true) {\n            $(\"#uidpStatus\").html(s);\n            if(waitIcon) {\n                $(\"#uidpStatus\").append(\"<span class='loading-gif'></span>\");\n            }\n        },\n        clearStatus : function() {\n            $(\"#uidpStatus\").html(\"\");\n        },\n        updateContent : function(s) {\n            $(\"#uidpContent\").html(s);\n        },\n        appendContent : function(s){\n            $(\"#uidpContent\").append(s);\n        },\n        clearContent : function() {\n            $(\"#uidpContent\").html(\"\");\n            $(\"#uidpUserInfo\").html(\"\");\n        },\n        display: function() {\n            $(\"#course_home_content\").prepend(\"<div id='uidpStatus'/><div id='uidpUserInfo'/><div id='uidpContent'/><div id='uidpLoginInfo'/>\");\n            var silent_opts = this.getSilentOpts();\n\n            mmooc.uidp.updateStatus(\"Sjekker forbindelse til uidp...\");\n            this.token = client.checkToken(silent_opts);\n            if(this.token) {\n                console.log(this.token.access_token);\n                this.tokenBelongsToLoggedInUser(function(belongs, canvasUserId, uidpUserInfo) {\n                    if(belongs) {\n                        mmooc.uidp.validToken();\n                    } else {\n                        let waitIcon = false;\n                        var html = \"Du er logget inn med \" + canvasUserId  + \" i Canvas og \" + uidpUserInfo.user.userid;\n                        if(uidpUserInfo.user.userid_sec.length)\n                        {\n                            html += \"/\" + uidpUserInfo.user.userid_sec[0];\n                        }\n                        html += \" i uidp. Du må være logget inn med samme bruker i de to systemene.\";\n                        mmooc.uidp.updateStatus(html, waitIcon);\n\n                        mmooc.uidp.printLogoutOptions();\n                    }\n                });  \n            } else { //Try and see if we can login silently.\n                this.hiddenIframeLogin();\n            }\n        },\n        displayUserInfo : function() {\n/*\n            mmooc.uidp.getUserInfo(function(userInfo) {\n                var html = \"Du er logget inn på uidp som \" + userInfo.user.name;\n                $(\"#uidpUserInfo\").html(html);\n            });\n*/        \n        },\n        validToken: function() {\n            mmooc.uidp.displayUserInfo();\n            mmooc.uidp.printLogoutOptions();\n        },\n        getFeideIdFromuidpUserInfo(userIdSec)\n        {\n            let start = userIdSec.indexOf(\":\") + 1;\n            let feideid = userIdSec.substr(start);\n            return feideid;\n        },\n        //If we want to require that the account used to connect to uidp is the same as the one used\n        //to login to Canvas, we could call the code below and perform some checks. Right now the code\n        //compares the Canvas login id with the secondary open id, i.e. Feide id. \n        tokenBelongsToLoggedInUser: function(callback) {\n            this.getUserInfo(function(userInfo) {\n                mmooc.api.getUserProfile(function(userProfile) {\n                    var belongs = false;\n                    if(userProfile.login_id == userInfo.user.userid) {\n                        belongs = true;\n                    } else if (userInfo.user.userid_sec.length) {\n                        let userIdSec = userInfo.user.userid_sec[0];\n                        let feideId = mmooc.uidp.getFeideIdFromuidpUserInfo(userIdSec);\n                        if(userProfile.login_id == feideId) {\n                            belongs = true;\n                        }\n                    }\n                    callback(belongs, userProfile.login_id, userInfo);\n                });\n            });\n        },\n        printLogoutOptions : function() {\n            var html = \"<div><button class='button' id='uidpWipeToken'>Logg ut av uidp</button></div>\";\n            $(\"#uidpLoginInfo\").html(html);\n            $(document).on(\"click\",\"#uidpWipeToken\",function(e){\n                mmooc.uidp.wipeToken();\n                mmooc.uidp.clearStatus();\n                mmooc.uidp.clearContent();\n                mmooc.uidp.printLoginOptions();\n            });\n        },\n        printLoginOptions : function() {\n            var uidpHtml = mmooc.util.renderTemplateWithData(\"uidp\", {});\n            $(\"#uidpLoginInfo\").html(uidpHtml);\n            $(document).off('click', \"#uidpPopupLogin\");\n            $(document).on (\"click\", \"#uidpPopupLogin\",function(e) {mmooc.uidp.authorizePopup()});\n        },\n        _get : function(url, callback) {\n            var self = this;\n            $.ajax({\n                    url: url,\n                    beforeSend: function(xhr) {\n                         xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                    }, success: function(data){\n                        callback(data)\n                    }, error: function(XMLHttpRequest, textStatus, errorThrown) {\n                        let errMsg = 'Det oppstod en feil:' + errorThrown;\n                        console.log(errMsg);\n                        mmooc.uidp.clearStatus();\n                        self.wipeToken();\n                        self.printLoginOptions();\n                }});\n        },\n        _post : function(url, data, callback) {\n            var self = this;\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader(\"Authorization\", \"Bearer \" + self.token.access_token)\n                }, \n                data: data,\n                success: function(result) {\n                    callback(result)\n                },\n                error(XMLHttpRequest, textStatus, errorThrown) {\n                    let errMsg = 'Det oppstod en feil:' + errorThrown;\n                    alert(errMsg);\n                    console.log(errMsg);\n                }\n            });\n        },\n        getUserInfo : function(callback) {\n            let url = \"https://uidp-api-dev.udir.no/Account\";\n            this._get(url, callback);\n        },\n\n        wipeToken: function()  {\n            client.wipeTokens()\n        },\n\n        authorizePopup: function()  {\n            var self = this;\n            let opts = {\n                scopes: {\n                    request: request\n                },\n                response_type: 'id_token token'\n            }\n\n            client.setLoader(jso.Popup)\n            client.getToken(opts)\n                .then((token) => {\n                    console.log(\"I got the token: \" + token.access_token);\n                    console.log(\"I got the idtoken: \" + token.id_token);\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.error(\"Error from popup loader\", err)\n                })\n        },        \n        login : function() {\n            window.loginType = \"login\";\n            let token = client.getToken(opts);\n            client.setLoader(jso.HTTPRedirect)\n            client.getToken(opts)\n                .then((token) => {\n                    dashboard.dataporten.valideToken();\n                    console.log(\"I got the token: \", token)\n                    console.log(\"I got the idtoken: \" + token.id_token);\n                })\n        },\n        hiddenIframeLogin : function()\n        {\n//            window.loginType = \"iframeLogin\";\n            var self = this;\n            var silent_opts = this.getSilentOpts();\n            client.setLoader(jso.IFramePassive)\n            client.getToken(silent_opts)\n                .then((token) => {\n                    console.log(\"I got the token: \", token)\n                    console.log(\"I got the idtoken: \" + token.id_token);\n                    self.token = token;\n                    self.validToken();\n                })\n                .catch((err) => {\n                    console.log(\"Error from passive loader\", err)\n                    mmooc.uidp.clearStatus();\n                    self.printLoginOptions();\n\n//                    alert(\"iframe passive login only works if you are already logged in:\" + err);\n                })\n        }    }\n}();\n\nthis.mmooc = this.mmooc || {};\n\nthis.mmooc.util = (function () {\n  return {\n    courseListEnum: {\n      normalCourse: 1,\n      allCoursesList: 2,\n      myCoursesList: 3,\n      dataportenCallback: 4,\n      uidpCallback: 5\n    },\n    mmoocLoadScript: function (mmoocScript) {\n      var mmoocScriptElement = document.createElement('script');\n      mmoocScriptElement.setAttribute('charset', 'UTF-8');\n      mmoocScriptElement.setAttribute('src', mmoocScript);\n      document.body.appendChild(mmoocScriptElement);\n    },\n\n    renderTemplateWithData: function (template, data) {\n      var html = '';\n      try {\n        html = mmooc.templates[template](data);\n      } catch (e) {\n        console.log(e);\n      }\n\n      return html;\n    },\n\n    //Kilde: https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n    isMobileOrTablet: function() {\n      let check = false;\n      (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n      return check;\n    },\n\n    getPageTitleBeforeColon: function () {\n      // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n      var title = document.title;\n      if (title.indexOf(':')) {\n        title = title.substring(0, title.indexOf(':'));\n      }\n      return title;\n    },\n\n    getPageTitleAfterColon: function () {\n      // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n      var title = document.title;\n      if (title.indexOf(':')) {\n        title = title.substring(title.indexOf(':') + 1, title.length);\n      }\n      return title;\n    },\n\n    filterCourse: function (course) {\n      if (!this.mmooc.settings.filterCourses) {\n        return true;\n      }\n      return this.mmooc.settings.filterCoursesOnAccountId.includes(course.account_id);\n    },\n    filterSearchAllCourse: function (course) {\n      if (!this.mmooc.settings.filterCourses) {\n        return true;\n      }\n      return this.mmooc.settings.filterCoursesOnAccountId.includes(course.course.account_id);\n    },\n    callWhenElementIsPresent: function (classId, callback) {\n      var checkExist = setInterval(function () {\n        var checkClassId = classId;\n        if ($(checkClassId).length) {\n          clearInterval(checkExist);\n          callback();\n        }\n      }, 100);\n    },\n\n    arraySorted: function (array, elementToSort) {\n      if (\n        Object.prototype.toString.call(array) === '[object Array]' &&\n        elementToSort\n      ) {\n        return array.sort(function (a, b) {\n          if (\n            a.hasOwnProperty(elementToSort) &&\n            b.hasOwnProperty(elementToSort)\n          ) {\n            var field1 = a[elementToSort].toLocaleLowerCase();\n            var field2 = b[elementToSort].toLocaleLowerCase();\n            return field1.localeCompare(field2, 'nb', { usage: 'sort' });\n          }\n          return 0;\n        });\n      }\n      return array;\n    },\n\n    goBack: function (e) {\n      //http://stackoverflow.com/questions/9756159/using-javascript-how-to-create-a-go-back-link-that-takes-the-user-to-a-link-i\n      var defaultLocation = 'https://kompetanseudirno.azureedge.net/udirdesign';\n      var oldHash = window.location.hash;\n\n      history.back(); // Try to go back\n\n      var newHash = window.location.hash;\n\n      /* If the previous page hasn't been loaded in a given time (in this case\n       * 1000ms) the user is redirected to the default location given above.\n       * This enables you to redirect the user to another page.\n       *\n       * However, you should check whether there was a referrer to the current\n       * site. This is a good indicator for a previous entry in the history\n       * session.\n       *\n       * Also you should check whether the old location differs only in the hash,\n       * e.g. /index.html#top --> /index.html# shouldn't redirect to the default\n       * location.\n       */\n\n      if (\n        newHash === oldHash &&\n        (typeof document.referrer !== 'string' || document.referrer === '')\n      ) {\n        window.setTimeout(function () {\n          // redirect to default location\n          window.location.href = defaultLocation;\n        }, 1000); // set timeout in ms\n      }\n      if (e) {\n        if (e.preventDefault) e.preventDefault();\n        if (e.preventPropagation) e.preventPropagation();\n      }\n      return false; // stop event propagation and browser default event\n    },\n\n    adaptHeightToIframeContentForId: function (containerId, frameId) {\n      var scrollHeight =\n        Number(\n          document.getElementById(frameId).contentWindow.document.body\n            .scrollHeight\n        ) + 20;\n      document.getElementsByClassName(containerId)[0].style.height =\n        scrollHeight + 'px';\n    },\n\n    isEnrolledAsStudent: function (enrollments) {\n      for (var i = 0; i < enrollments.length; i++) {\n        if (enrollments[i].role == 'StudentEnrollment') {\n          return true;\n        }\n      }\n      return false;\n    },\n    isEnrolledAsObserver: function (enrollments) {\n      for (var i = 0; i < enrollments.length; i++) {\n        if (enrollments[i].role == 'ObserverEnrollment') {\n          return true;\n        }\n      }\n      return false;\n    },\n    enrollmentsHasRoleInCourse: function (enrollments, role) {\n      for (i = 0; i < enrollments.length; i++) {\n        let enrollment = enrollments[i];\n        if (enrollment[\"role\"] == role) {\n          return true;\n        }\n      }\n      return false;\n    },\n    hasRoleInCourse: function (courseId, role, callback) {\n      return function (callback, role) {\n        mmooc.api.getUsersEnrollmentsForCourse(courseId, function (enrollments) {\n          callback(mmooc.util.enrollmentsHasRoleInCourse(enrollments, role));\n        });\n      }(callback, role)\n    },\n    isTeacherOrAdmin: function () {\n      var roles = mmooc.api.getRoles();\n      return (\n        roles != null &&\n        (roles.indexOf('teacher') != -1 || roles.indexOf('admin') != -1)\n      );\n    },\n    isObserver: function (course) {\n      if (course && course.enrollments) {\n        return this.isEnrolledAsObserver(course.enrollments);\n      }\n    },\n    isEnrolledWithRole(course, role) {\n      if (course && course.enrollments) {\n        for (var i = 0; i < course.enrollments.length; i++) {\n          if (course.enrollments[i].role == role) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    isPfDKCourse: CourseOptions.hasOptionFunction('PfDK'),\n    isMultilangCourse: CourseOptions.hasOptionFunction('lang'),\n    isPrincipal() {\n      return (this.isTeacherOrAdmin() || this.isEnrolledWithRole(mmooc.util.course, mmooc.settings.principalRoleType));\n    },\n    isRoleBasedCourse: CourseOptions.hasOptionFunction('role'),\n    isMMOOCLicense() {\n      return CourseOptions.hasOption(mmooc.util.course, 'MMOOCLICENSE');\n    },\n    postModuleProcessing() {\n      try {\n        let html = '<div class=\"login-box\" style=\"position: fixed\">Laster diskusjonen</div>';\n        $(\"#wrapper\").append(html);\n        setInterval(function () {\n          console.log(\"postModuleProcessing intervall timer called\")\n          $(\".login-box\").append(\".\");\n        }, 1000);\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    postModuleCoursePageProcessing() {\n      try {\n        $(\".mmooc-module-items-icons-Discussion\").click(function () {\n          mmooc.util.postModuleProcessing()\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n    postModuleMenuProcessing() {\n      try {\n        $(\".mmooc-module-items-icons-Discussion\").parent().click(function () {\n          mmooc.util.postModuleProcessing()\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    },\n  \n\n    isAlertMsg(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i = 0; i < arr.length; i++) {\n          if (arr[i] == \"ALERTMSG\") {\n            return arr[i + 1];\n          }\n        }\n      }\n      return \"\";\n    },\n    isUnmaintained(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i = 0; i < arr.length; i++) {\n          if (arr[i] == \"UNMAINTAINED\") {\n            return arr[i + 1];\n          }\n        }\n      }\n      return \"\";\n    },\n    isNotificationToUser(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i =0; i < arr.length; i++) {\n          if (arr[i] == \"notificationtouser\"){\n            return true ;\n          }\n        }\n      }\n      return \"\";\n    },\n    isFeedback(course) {\n      if (course) {\n        var arr = course.course_code.split(\"::\");\n        for (var i =0; i < arr.length; i++) {\n          if (arr[i] == \"feedback\"){\n            return true ;\n          }\n        }\n      }\n      return \"\";\n    },\n    //description\":\"courseId:360:community:1902:940101808\"\n    getCountyOrCommunityNumber(groupDescription) {\n      var arr = groupDescription.split(\":\");\n      for (var i = 0; i < arr.length; i++) {\n        if ((arr[i] == \"community\") || (arr[i] == \"county\")) {\n          return parseInt(arr[i + 1], 10);\n        }\n      }\n      return 0;\n    },\n    onEnrollPage() {\n      return window.location.href.includes('/enroll/');\n    },\n\n    updateInformationPane() {\n      mmooc.util.isMemberOfExpiredCommunity(mmooc.util.course, function (isMemberOfExpiredCommunity) {\n        var observer = (mmooc.util.isAuthenticated() && mmooc.util.isObserver(mmooc.util.course));\n        var pfdk = mmooc.util.isPfDKCourse(mmooc.util.course);\n        var unmaintainedSince = mmooc.util.isUnmaintained(mmooc.util.course);\n        var alertMsg = mmooc.util.isAlertMsg(mmooc.util.course);\n        var notificationtouser= mmooc.util.isNotificationToUser(mmooc.util.course);\n        var feedback= mmooc.util.isFeedback(mmooc.util.course);\n        if (observer || pfdk || unmaintainedSince || alertMsg || isMemberOfExpiredCommunity || notificationtouser || feedback) {\n          mmooc.pages.showInformationPane(observer, pfdk, unmaintainedSince, alertMsg, isMemberOfExpiredCommunity, notificationtouser, feedback);\n        } else {\n          mmooc.pages.hideInformationPane();\n        }\n      });\n    },\n    isMemberOfExpiredCommunity(course, callback) {\n      if(!course) {\n        return;\n      }\n      mmooc.api.getUserGroupsForCourse(course.id, function (groups) {\n        var memberOfUtgaattKommune = false;\n        if (groups.length) {\n          for (var i = 0; i < groups.length; i++) {\n            var group = groups[i];\n            var countyOrCommunityNumber = mmooc.util.getCountyOrCommunityNumber(group.description);\n            if (countyOrCommunityNumber) {\n              if (utgaatteKommuneNr.indexOf(countyOrCommunityNumber) > -1) {\n                memberOfUtgaattKommune = true;\n                break;\n              }\n            }\n          }\n        }\n        callback(memberOfUtgaattKommune);\n      });\n    },\n    isActiveCourseRoleBased() {\n      return mmooc.util.isRoleBasedCourse(mmooc.util.course);\n    },\n    isAuthenticated: function () {\n      return mmooc.api.getRoles() !== null;\n    },\n\n    getGroupsInfo(groups) {\n      var groupsInfo = {};\n      for (var i = 0; i < groups.length; i++) {\n        if (groups[i].description) {\n          var s = groups[i].description.split(\":\");\n          if (s[2] == \"community\") {\n            groupsInfo.municipalityId = s[3];\n          } else if (s[2] == \"county\") {\n            groupsInfo.countyId = s[3];\n          }\n        }\n      }\n      return groupsInfo;\n    },\n    firstIncompleteItemHtmlUrl: function (items, bIncludeIndentedItems) {\n      var firstHtmlUrl = null;\n      var firstItem = null;\n      if (items != null && items != undefined && items.length > 0) {\n        for (var i = 0; i < items.length; i++) {\n          var item = items[i];\n          if (!firstHtmlUrl && item.html_url) {\n            firstHtmlUrl = item.html_url;\n          }\n          if (item.completion_requirement && !(item.indent && !bIncludeIndentedItems)) {\n            if (!firstItem) {\n              firstItem = item;\n            }\n            if (!item.completion_requirement.completed) {\n              return item.html_url;\n            }\n          }\n        }\n      }\n      if (firstItem) {\n        return firstItem.html_url;\n      }\n      return firstHtmlUrl;\n    },\n\n    percentageProgress: function (modules, bIncludeIndentedItems) {\n      var total = 0;\n      var completed = 0;\n\n      for (var i = 0; i < modules.length; i++) {\n        var module = modules[i];\n        for (var j = 0; j < module.items.length; j++) {\n          var item = module.items[j];\n          if (!(item.indent && !bIncludeIndentedItems)) {\n            if (item.completion_requirement) {\n              total++;\n              if (item.completion_requirement.completed) {\n                completed++;\n              }\n            }\n          }\n        }\n      }\n      return Math.round((completed * 100) / total);\n    },\n    updateProgressForRoleBasedCourses: function (courses) {\n      const error = error => console.error('error calling api', error);\n      for (var i = 0; i < courses.length; i++) {\n        var course = courses[i];\n        if (mmooc.util.isRoleBasedCourse(course) && !mmooc.util.isEnrolledWithRole(course, mmooc.settings.principalRoleType)) {\n          mmooc.api.listModulesForCourse(\n            (function (courseId) {\n              return function (modules) {\n                var bIncludeIndentedItems = false;\n                var p = mmooc.util.percentageProgress(modules, bIncludeIndentedItems);\n                var divId = \"#course_\" + courseId + \"> div > div.mmooc-course-list-progress > div \";\n                $(divId + \" > div\").attr(\"style\", \"width:\" + p + \"%; -webkit-transition: width 2s; transition: width 2s;\");\n                if (p == 100) {\n                  $(divId).addClass(\"mmooc-progress-bar-done\");\n                }\n              };\n            })(course.id)\n            , error, course.id);\n        }\n      }\n    },\n    setGlobalPeerReviewButtonState: function () {\n      if (mmooc.settings.disablePeerReviewButton == true) {\n        $('.assignments #right-side :submit').prop('disabled', true);\n      }\n    },\n\n    formattedDate: function (date) {\n      var date = new Date(date);\n      var month = mmooc.util.getMonthShortName(date);\n      return (\n        date.getDate() +\n        ' ' +\n        month +\n        ', ' +\n        date.getFullYear() +\n        ' - ' +\n        date.getHours() +\n        ':' +\n        (date.getMinutes() < 10 ? '0' : '') +\n        date.getMinutes()\n      );\n    },\n\n    getWeekdayShortName: function (date) {\n      var weekdays = ['sø', 'ma', 'ti', 'on', 'to', 'fr', 'lø'];\n      return weekdays[date.getDay()];\n    },\n\n    getMonthShortName: function (date) {\n      var months = [\n        'jan',\n        'feb',\n        'mar',\n        'apr',\n        'mai',\n        'jun',\n        'jul',\n        'aug',\n        'sep',\n        'okt',\n        'nov',\n        'des'\n      ];\n      return months[date.getMonth()];\n    },\n    getCourseCategories: function (courses) {\n      var categorys = [];\n      var hasOther = false;\n      for (var i = 0; i < courses.length; i++) {\n        var category = mmooc.util.getCourseCategory(courses[i].course_code);\n        if (categorys.indexOf(category) == -1) {\n          if (category == 'Andre') {\n            hasOther = true;\n          } else {\n            categorys.push(category);\n          }\n        }\n      }\n      //      categorys.sort();\n      if (hasOther) {\n        categorys.push('Andre');\n      }\n      return categorys;\n    },\n    sortCourses: function (courses) {\n      return courses.sort(function (a, b) {\n        var aParams = a.course_code.split(\"::\");\n        if (aParams.length < 2) {\n          return 1;\n        }\n\n        var aCourseCode = aParams[aParams.length - 1];\n\n        var bParams = b.course_code.split(\"::\");\n        if (bParams.length < 2) {\n          return -1;\n        }\n        var bCourseCode = bParams[bParams.length - 1];\n\n        return aCourseCode < bCourseCode ? -1 : 1;\n      });\n    },\n    getCoursesCategorized: function (courses, categorys) {\n      var coursesCategorized = [];\n      for (var i = 0; i < categorys.length; i++) {\n        var categoryCourses = [];\n        var noOfRoleBasedCourses = 0;\n        var noOfPersonalBasedCourses = 0;\n        for (var j = 0; j < courses.length; j++) {\n          var course = courses[j];\n          var category = mmooc.util.getCourseCategory(course.course_code);\n          if (categorys[i] == category) {\n            course.roleBasedCourse = mmooc.util.isRoleBasedCourse(course);\n            if(course.roleBasedCourse) {\n              noOfRoleBasedCourses++;\n            } else {\n              noOfPersonalBasedCourses++;\n            }\n            categoryCourses.push(course);\n          }\n        }\n        /*        categoryCourses.sort(function(a, b) {\n                  return a.course_code > b.course_code;\n                });\n        */\n        var categoryObj = {\n          title: categorys[i],\n          noOfRoleBasedCourses: noOfRoleBasedCourses,\n          noOfPersonalBasedCourses: noOfPersonalBasedCourses,\n          courses: categoryCourses\n        };\n        coursesCategorized.push(categoryObj);\n      }\n      return coursesCategorized;\n    },\n    getCourseCategory: function (courseCode) {\n      var category = 'Andre';\n      if (courseCode && courseCode.indexOf('::') > -1) {\n        category = courseCode.substring(0, courseCode.indexOf('::'));\n      }\n      return category;\n    },\n    getToolsInLeftMenu: function (path) {\n      var modulesFound = false;\n      var toolList = [];\n      var activeToolName = 'Verktøy';\n      var activeToolPath = '';\n\n      $('#section-tabs .section > a').each(function () {\n        var currentClass = $(this).attr('class');\n        if (modulesFound && currentClass != 'settings') {\n          var href = $(this).attr('href');\n          var title = $(this).html();\n          var activeTool = false;\n          if (href == path) {\n            activeTool = true;\n            activeToolName = title;\n            activeToolPath = href;\n          }\n          toolList.push({\n            activeTool: activeTool,\n            href: href,\n            title: title\n          });\n        } else if (currentClass == 'modules') {\n          modulesFound = true;\n        }\n      });\n      return {\n        activeToolName: activeToolName,\n        activeToolPath: activeToolPath,\n        toolList: toolList\n      };\n    },\n    debounce: function (func, wait, immediate) {\n      var timeout;\n      return function () {\n        var context = this, args = arguments;\n        var later = function () {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    },\n    filter: function (arr, fun) {\n      var len = arr.length;\n      if (typeof fun != \"function\")\n        throw new TypeError();\n\n      var res = new Array();\n      var thisp = arguments[1];\n      for (var i = 0; i < len; i++) {\n        if (i in arr) {\n          var val = arr[i];\n          if (fun.call(thisp, val, i, arr))\n            res.push(val);\n        }\n      }\n\n      return res;\n    },\n    urlHashToObject: () => {\n      if (document.location.hash === '') return {};\n\n      const hash = location.hash.substring(1);\n      return JSON.parse(\n        '{\"' + hash.replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}',\n        (key, value) => key === \"\" ? value : decodeURIComponent(value)\n      );\n    },\n    updateRightMenuButtons: function() {\n      $(\"#course_show_secondary > a\").each(function() {\n        var $this = $(this);\n        var _href = $this.attr(\"href\");\n        $this.attr(\"href\", _href + mmooc.hrefAmpQueryString);\n      });\n    },\n    getLinkToAvailableCourses: function () {\n      var linkToAvailableCourses = \"/search/all_courses\" + mmooc.hrefQueryString;\n      //ETH20190409 By making sure the root account loads our design, we do not need a front page.\n      /*\n              if (this.mmooc.allCoursesFrontpageCourseID > 0) {\n                  linkToAvailableCourses = \"/courses/\" + this.mmooc.allCoursesFrontpageCourseID + \"?coursesList=1\";\n              }\n      */\n      return linkToAvailableCourses;\n    },\n    //This function can probably be deleted now that we use ?udirDesign\n    isCourseFrontpageForAllCoursesList: function () {\n      return false;\n      const queryString = document.location.search;\n      const currentCourseID = mmooc.api.getCurrentCourseId();\n\n      const isOverridenCourse = currentCourseID === this.mmooc.allCoursesFrontpageCourseID;\n      const isNotTeacherOrAdmin = !mmooc.util.isTeacherOrAdmin();\n\n      const urlParamsObj = mmooc.utilRoot.urlParamsToObject();\n      const isOverridenAnyCourse = urlParamsObj && urlParamsObj['coursesList'];\n      const isDisabledOverridenCourse = urlParamsObj && !urlParamsObj['skipCoursesList'];\n      const isMyCourses = urlParamsObj && urlParamsObj['myCourses'];\n      const isDataportenCallback = urlParamsObj && urlParamsObj['dataportenCallback'];\n\n      const urlHashObj = mmooc.util.urlHashToObject();\n      const isUidpCallback = urlHashObj && urlHashObj['id_token'];\n\n      var returnCode = mmooc.util.courseListEnum.normalCourse;\n\n      if (isOverridenCourse && isNotTeacherOrAdmin && isDisabledOverridenCourse) {\n        returnCode = mmooc.util.courseListEnum.allCoursesList;\n      }\n      if (isOverridenAnyCourse) {\n        returnCode = mmooc.util.courseListEnum.allCoursesList;\n      }\n      if (isMyCourses) {\n        returnCode = mmooc.util.courseListEnum.myCoursesList;\n      }\n      if (isDataportenCallback) {\n        returnCode = mmooc.util.courseListEnum.dataportenCallback;\n      } else if (isUidpCallback) {\n        returnCode = mmooc.util.courseListEnum.uidpCallback;\n      }\n      return returnCode;\n    },\n    tinyMceEditorIsInDOM(callback) {\n      this.executeCallbackWhenObjectExists(function () {\n        this.tinyMCE.activeEditor;\n      }, callback);\n    },\n    executeCallbackWhenObjectExists(functionWithObjectReference, callback) {\n      let counter = 0;\n      let maxTries = 10;\n      let success = false;\n      var objectExistInterval = setInterval(function () {\n        try {\n          if (!success) {\n            functionWithObjectReference();\n            clearInterval(objectExistInterval);\n            callback();\n            success = true;\n          }\n        } catch (e) {\n          counter += 1;\n          if (counter >= maxTries) {\n            clearInterval(objectExistInterval);\n          }\n        }\n      }, 1000);\n    }\n  };\n})();\n\nthis.mmooc = this.mmooc || {};\n\n// Course ID for selected course, which frontend page\n// will be swapped with All Courses list\nthis.mmooc.settings = {\n  CanvaBadgeProtocolAndHost: 'https://canvabadges-beta-iktsenteret.bibsys.no',\n  useCanvaBadge: false,\n  defaultNumberOfReviews: 1, // Default number of peer reviews per student in power function\n  useDataportenGroups : false,\n  filterCourses: true,\n  filterCoursesOnAccountId: [99, 100, 102, 103, 137, 138, 139, 145],\n  disablePeerReviewButton: false,\n  principalRoleType: \"Skoleleder\",\n  removeGlobalGradesLink: true,\n  removeGroupsLink: true,\n  displayProfileLeftMenu: false,\n  displayUserMergeButton: true,\n  userMergeLtiToolId: 845,\n  displayGroupsTab: false,\n  displayDiscussionsTab : false,\n  displayAlertsMenuItem : false,\n  displayCallForAssistanceButtonInGroupDisccussions : false,\n  displayInboxMenu: false,\n  privacyPolicyLink: 'https://kompetanseudirno.azureedge.net/udirdesign/privacypolicy.html?v=1_0',\n  contactPoint: 'kompetansesupport@udir.no',\n  platformName: 'UDIR - kompetanseplattform',\n  homeOrganization: 'Udir.no',\n  aboutThePlatform: 'https://kompetanseudirno.azureedge.net/udirdesign/omkompetanseudirno.html',\n};\n\n\nthis.mmooc = this.mmooc || {};\n\nif (typeof this.mmooc.i18n === 'undefined') {\n  if (mmooc.api.getLocale() == 'nn') {\n    this.mmooc.i18n = {\n      AllAvailableCoursesIngress: \"Oversikt over alle kompetansepakker du er meldt på og som du kan melde deg på.\",\n      DropCourseDialogText: 'Trykk OK for å melde deg av kompetansepakken ',\n      NoCoursesInfo: 'Det finst ingen kompetansepakker du kan registrere deg på for augeblikket',\n      CourseContinue: 'Fortsette',\n      CourseRegisterWhenAuthenticated: 'Meld deg på',\n      YouAreRegisteredToXCourses: amount => `du er registrert i ${amount} kompetansepakker`,\n      CoursesAmount: amount => `${amount} kompetansepakker`,\n      OpenCoursesGroup: 'Åpne',\n      CloseCoursesGroup: 'Lukk',\n      LogIn: 'Logg inn',\n      LogInPopup: 'Logg inn på kompetanseportalen',\n      LogInCanvas: 'Har ikkje Feide',\n      RegisterPopup: 'Meld deg på',\n      RegisterWithCanvas: 'Har ikkje Feide',\n      JoinCourseDialogText:\n        'Du kan melde deg på kompetansepakken igjen seinare om du vil ',\n      DropCourse: 'Meld deg av kompetansepakken',\n      CreateAccountTitle: 'Har du ikkje konto?',\n      CreateAccountSubtitle: 'Klikk her for å lage ein',\n      Course: 'Kompetansepakke',\n      CourseDefinite: 'Kompetansepakken',\n      CoursePlural: 'Kompetansepakker',\n      CourseProgressionTitle: 'Din progresjon i kompetansepakken:',\n      GoToCourse: 'Gå til kompetansepakken',\n      GoToModule: 'Gå til modul',\n      BackToCoursePage: 'Tilbake til forsida',\n      AddACourse: 'Legg til ein kompetansepakke',\n      Module: 'Modul',\n      ModulePlural: 'Modular',\n      CourseModules: 'Kompetansepakkemodular',\n      Assignment: 'Oppgåve',\n      Discussion: 'Diskusjon',\n      Quiz: 'Prøve',\n      Page: 'Innhaldsside',\n      ExternalUrl: 'Ekstern lenke',\n      ExternalTool: 'Eksternt verktøy',\n      File: 'Fil',\n      Announcement: 'Kunngjering',\n      DiscussionTopic: 'Diskusjon',\n      Conversation: 'Innboksmelding',\n      Message: 'Oppgåvevarsel',\n      Submission: 'Innlevering',\n      AssessmentRequest: 'Vurderingsførespurnad',\n      Conference: 'Conference',\n      Collaboration: 'Collaboration',\n      LinkBack: 'Tilbake til førre side',\n      Badgesafe: 'Utmerkingar',\n      PeerReview: 'Kvarandrevurdering',\n\n      //Teksten nedenfor brukes til å gjenkjenne\n      //om man er på en hverandrevurderingsside.\n      //http://localhost/courses/1/assignments/1/submissions/3\n      //http://localhost/courses/1/assignments/1\n      PeerReviewer: 'Fagfellevurdering',\n\n      //Teksten nedenfor brukes til å undersøke om man viser sin egen innlevering\n      Delivery: 'Innleveringsdetaljar',\n\n      DetailsAboutYourDelivery: 'Detaljar om innleveringa di',\n      DetailsAboutDelivery: 'Detaljar om innlevering',\n      SubmissionIsNotAssessed: 'Oppgåva er ikkje vurdert',\n      SubmissionIsAssessedByOne: 'Vurderinga er klar',\n      SubmissionIsAssessedByAll: 'Alle vurderingar er klare',\n      SubmissionAssessmentsAreReady: 'vurderingar er klare',\n      GroupGetInTouchSubject: 'ønsker kontakt',\n      eventsAndDeadlinesTitle: 'Viktige datoar',\n      WeHaveAQuestionToTeacherInTheDiscussion:\n        'Vi har eit spørsmål til rettleiar i diskusjonen',\n      CallForInstructorHoverOverText:\n        'Sender ei melding til rettleiar om at de treng hjelp i denne konkrete gruppediskusjonen. Treng du personleg rettleiing: send melding til din rettleiar i innboks.',\n      NoTeacherFeedbackLink:\n        'No teacher_feedback link. Does the help menu have a link to send feedback to the teacher?',\n      NoEnrollments:\n        'Velkommen til vår kompetanseplattform. Du er ikkje påmeldt nokon kompetansepakker endå. Klikk på knappen nedanfor for å sjå tilgjengelege kompetansepakker.',\n      OutOf: 'av',\n      Months: [\n        'januar',\n        'februar',\n        'mars',\n        'april',\n        'mai',\n        'juni',\n        'juli',\n        'august',\n        'september',\n        'oktober',\n        'november',\n        'desember'\n      ]\n    };\n  } else {\n    this.mmooc.i18n = {\n      AllAvailableCoursesIngress: \"Oversikt over alle kompetansepakker du er meldt på og som du kan melde deg på.\",\n      DropCourseDialogText: 'Trykk OK for å melde deg av kompetansepakken ',\n      NoCoursesInfo: 'Det er ingen kompetansepakker du kan registrere deg på for øyeblikket',\n      EnrollButton: 'Join this Course',\n      CourseContinue: 'Fortsette',\n      CourseRegisterWhenAuthenticated: 'Meld deg på',\n      YouAreRegisteredToXCourses: amount => `du er registert i ${amount} kompetansepakker`,\n      CoursesAmount: amount => `${amount} kompetansepakker`,\n      OpenCoursesGroup: 'Åpne',\n      CloseCoursesGroup: 'Lukk',\n      LogInPopup: 'Logg inn på kompetanseportalen',\n      LogIn: 'Logg inn',\n      LogInCanvas: 'Har ikke Feide',\n      RegisterPopup: 'Meld deg på',\n      RegisterWithCanvas: 'Har ikke Feide',\n      JoinCourseDialogText:\n        'Du kan melde deg på kompetansepakken igjen senere om du vil ',\n      DropCourse: 'Meld deg av kompetansepakken',\n      CreateAccountTitle: 'Har du ikke konto?',\n      CreateAccountSubtitle: 'Klikk her for å lage en',\n      Course: 'Kompetansepakke',\n      CourseDefinite: 'Kompetansepakken',\n      CoursePlural: 'Kompetansepakker',\n      CourseProgressionTitle: 'Din progresjon i kompetansepakken:',\n      GoToCourse: 'Gå til kompetansepakken',\n      GoToModule: 'Gå til modul',\n      BackToCoursePage: 'Tilbake til forsiden',\n      AddACourse: 'Legg til en kompetansepakke',\n      Module: 'Modul',\n      ModulePlural: 'Moduler',\n      CourseModules: 'Kompetansepakkemoduler',\n      Assignment: 'Oppgave',\n      Discussion: 'Diskusjon',\n      Quiz: 'Prøve',\n      Page: 'Innholdsside',\n      ExternalUrl: 'Ekstern lenke',\n      ExternalTool: 'Eksternt verktøy',\n      File: 'Fil',\n      Announcement: 'Kunngjøring',\n      DiscussionTopic: 'Diskusjon',\n      Conversation: 'Innboksmelding',\n      Message: 'Oppgavevarsel',\n      Submission: 'Innlevering',\n      AssessmentRequest: 'Vurderingsforespørsel',\n      Conference: 'Conference',\n      Collaboration: 'Collaboration',\n      LinkBack: 'Tilbake til forrige side',\n      Badgesafe: 'Utmerkelser',\n      PeerReview: 'Hverandrevurdering',\n\n      //Teksten nedenfor brukes til å gjenkjenne om man er på en hverandrevurderingsside.\n      PeerReviewer: 'Hverandrevurdering',\n\n      //Teksten nedenfor brukes til å undersøke om man viser sin egen innlevering\n      Delivery: 'innlevering',\n\n      DetailsAboutYourDelivery: 'Detaljer om din innlevering',\n      DetailsAboutDelivery: 'Detaljer om innlevering',\n      SubmissionIsNotAssessed: 'Oppgaven er ikke vurdert',\n      SubmissionIsAssessedByOne: 'Vurderingen er klar',\n      SubmissionIsAssessedByAll: 'Alle vurderinger er klare',\n      SubmissionAssessmentsAreReady: 'vurderinger er klare',\n      GroupGetInTouchSubject: 'ønsker kontakt',\n      eventsAndDeadlinesTitle: 'Viktige datoer',\n      WeHaveAQuestionToTeacherInTheDiscussion:\n        'Vi har et spørsmål til veileder i diskusjonen',\n      CallForInstructorHoverOverText:\n        'Sender en melding til veileder om at dere trenger hjelp i denne konkrete gruppediskusjonen. Trenger du personlig veiledning: send melding til din veileder i innboks.',\n      NoTeacherFeedbackLink:\n        'No teacher_feedback link. Does the help menu have a link to send feedback to the teacher?',\n      NoEnrollments:\n        'Velkommen til vår kompetanseplattform. Du er ikke påmeldt noen kompetansepakker enda. Klikk på knappen nedenfor for å se tilgjengelige kompetansepakker.',\n      OutOf: 'av',\n      Months: [\n        'januar',\n        'februar',\n        'mars',\n        'april',\n        'mai',\n        'juni',\n        'juli',\n        'august',\n        'september',\n        'oktober',\n        'november',\n        'desember'\n      ]\n    };\n  }\n}\n\njQuery(function($) {\n  //KURSP-469 Support embedding of KPAS LTI tool. In general our design should not load in iframes. \n  //The code below detects if we are in an iframe and then returns.\n  if(window.self != window.top) {\n    return;\n  }\n  //Multilanguage KURSP-279 Css must be present before javascript is run.\n  //KURSP-376-multilanguage-fix \n  mmooc.multilanguage.initializeCss();\n\n  mmooc.routes.addRouteForPath(/\\/$/, function() {\n    var parentId = 'wrapper';\n\n    if (document.location.search === '?mmpf') {\n      mmooc.powerFunctions.show(parentId);\n    } else {\n      window.location.href = '/courses?design=udir';\n    }\n  });\n\n  mmooc.routes.addRouteForQueryString(/invitation=/, function() {});\n\n  mmooc.routes.addRouteForPath(/\\/login\\/canvas$/, function() {\n    mmooc.utilRoot.redirectFeideAuthIfEnrollReferrer();\n    mmooc.utilRoot.triggerForgotPasswordIfParamPassed();\n    mmooc.login.addInfoMessage();\n  });\n\n  ////KURSP-293-RCE-mister-farge-for-redigering\n  mmooc.routes.addRouteForPath(/\\/edit$/, function() {\n    MultilangUtils.applyColorCodingInEditor();\n  });\n\n  mmooc.routes.addRouteForPath(/\\/login$/, function() {\n    $('#register_link').html('<i>Trenger du en konto?</i><b>Klikk her.</b>');\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses$/, function() {\n    mmooc.utilRoot.redirectToEnrollIfCodeParamPassed();\n    mmooc.menu.hideRightMenu();\n    mmooc.courseList.listCourses(\n      'content',\n      mmooc.courseList.showAddCourseButton\n    );\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+/, function() {\n    let forwardTo = encodeURIComponent(window.location.href);\n    let closeOption = false;\n    let authenticated = mmooc.util.isAuthenticated();\n    \n    if(!authenticated) {\n      let registerText = \"For å få fullt utbytte av denne siden må du melde deg på med\";\n      mmooc.enroll.displayRegisterPopup(\n        authenticated,\n        closeOption,\n        registerText,\n        mmooc.i18n.RegisterWithCanvas,\n        mmooc.util.course.self_enrollment_code, \n        mmooc.util.course.name,\n        forwardTo);\n    } else {\n      mmooc.api.getUsersEnrollmentsForCourse(mmooc.util.course.id, function(courses) {\n        if(!courses.length) {\n          let registerText = \"For å få fullt utbytte av denne siden må du melde deg på\";\n          let registerWithCanvasText = \"Meld deg på\";\n          mmooc.enroll.displayRegisterPopup(\n            authenticated,\n            closeOption,\n            registerText,\n            registerWithCanvasText,\n            mmooc.util.course.self_enrollment_code, \n            mmooc.util.course.name,\n            forwardTo);\n        } else {\n          mmooc.util.updateInformationPane();\n        }\n      });\n    }\n  });\n\n  //The logic below should be refactored and cleaned up.\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+$/, function() {\n    mmooc.util.updateRightMenuButtons();\n    mmooc.groups.interceptLinksToGroupPage();\n    mmooc.coursePage.showCourseInvitation();\n    // override default view and display all courses list instead\n    var courseView = mmooc.util.isCourseFrontpageForAllCoursesList();\n    if (courseView == mmooc.util.courseListEnum.allCoursesList) {\n      mmooc.menu.hideRightMenu();\n      mmooc.enroll.printAllCoursesContainer();\n      mmooc.enroll.printAllCourses();\n      $('body').removeClass('home');\n\n      // skips the rest of this function\n      return null;\n    }\n    else if (courseView == mmooc.util.courseListEnum.myCoursesList) {\n        mmooc.menu.hideRightMenu();\n        mmooc.courseList.listCourses(\n          'content',\n          mmooc.courseList.showAddCourseButton\n        );\n        return null;\n    }\n    else if (courseView == mmooc.util.courseListEnum.dataportenCallback) {\n        if(window.opener) {\n            $(\"#application\").html('Du er nå logget inn i dataporten.<button id=\"dataportenLoggedIn\">OK</button>');\n            window.opener.popupCompleted();\n            $(document).on(\"click\",\"#dataportenLoggedIn\",function(e) {\n                window.close();\n            });\n        }\n        console.log(document.location.href);\n\t\treturn null;\n    }\n    else if (courseView == mmooc.util.courseListEnum.uidpCallback) {\n        if(window.opener) {\n            $(\"#application\").html('Du er nå logget inn i UIDP.<button id=\"uidpLoggedIn\">OK</button>');\n            window.opener.popupCompleted();\n            $(document).on(\"click\",\"#uidpLoggedIn\",function(e) {\n                window.close();\n            });\n        }\n        console.log(document.location.href);\n\t\treturn null;\n    }\n    //        mmooc.coursePage.hideCourseInvitationsForAllUsers();\n\n    var courseId = mmooc.api.getCurrentCourseId();\n    var queryString = document.location.search;\n    if (queryString === '?allcanvabadges') {\n      //query string = ?allcanvabadges\n      var courseId = mmooc.api.getCurrentCourseId();\n      mmooc.menu.showCourseMenu(courseId, 'Utmerkelser', 'Utmerkelser');\n      //Should be refactored to use json api instead\n      var canvabadgesForCurrentCourse =\n        '<iframe allowfullscreen=\"true\" height=\"680\" id=\"tool_content\" mozallowfullscreen=\"true\" name=\"tool_content\" src=\"' +\n        mmooc.settings.CanvaBadgeProtocolAndHost +\n        '/badges/course/' +\n        courseId +\n        '\" tabindex=\"0\" webkitallowfullscreen=\"true\" width=\"100%\"></iframe>';\n      $('#content').append(canvabadgesForCurrentCourse);\n    } else {\n        var queryString = document.location.search;\n        if ((queryString === '?dataportengroups=1') && mmooc.settings.useDataportenGroups) {\n            mmooc.menu.showCourseMenu(\n              courseId,\n              'Grupper',\n              mmooc.util.getPageTitleBeforeColon()\n            );\n            mmooc.dataporten.display();\n        } else {\n          mmooc.menu.showCourseMenu(courseId, 'Forside', null);\n\n\n          //20180822ETH If the user has chosen to use a wikipage as front page and the logged in user is teacher, we display that page.\n          //            Otherwise we list the modules.\n          if (mmooc.api.usesFrontPage()) {\n            if (!mmooc.util.isTeacherOrAdmin()) {\n              var frontPage = $('#wiki_page_show');\n              if (frontPage.length) {\n                frontPage.hide();\n              }\n              mmooc.coursePage.listModulesAndShowProgressBar();\n            }\n          } //Hvis det ikke er wiki som forside så lister vi ut modulene på vanlig måte.\n          else {\n            mmooc.coursePage.listModulesAndShowProgressBar();\n          }\n        }\n    }\n    mmooc.announcements.printAnnouncementsUnreadCount();\n    if(mmooc.coursePage.replaceUpcomingInSidebar()) {\n      mmooc.coursePage.printDeadlinesForCourse();\n    }\n    mmooc.coursePage.overrideUnregisterDialog();\n  });\n\n  mmooc.routes.addRouteForPath(/\\/search\\/all_courses$/, function() {\n    mmooc.enroll.printAllCoursesContainer();\n    mmooc.enroll.printAllCourses();\n    mmooc.enroll.goToAllCourses();\n  });\n  \n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/settings$/, function() {\n    mmooc.coursesettings.addSanityCheckButton();\n    mmooc.coursesettings.addListSectionsButton();\n    mmooc.coursesettings.addListUsersButton();\n    mmooc.coursesettings.addListGroupsButton();\n    mmooc.coursesettings.addListAssignmentsButton();\n  });\n\n  mmooc.routes.addRouteForPath(/\\/profile\\/settings$/, function() {\n    var elementId = document.getElementById('confirm_email_channel');\n    if(!mmooc.settings.displayProfileLeftMenu) {\n      document.getElementById(\"section-tabs\").style.display = \"none\";\n    }\n    var notificationButtonHTML = mmooc.util.renderTemplateWithData(\n      'notifications',\n      {}\n    );\n    if(mmooc.settings.displayUserMergeButton) {\n      var mergeUserButtonHTML = mmooc.util.renderTemplateWithData(\n        'usermerge',\n        {userId:mmooc.api.getUser().id, userMergeLtiToolId:mmooc.settings.userMergeLtiToolId}\n      );\n      elementId.insertAdjacentHTML('beforebegin', mergeUserButtonHTML);\n    }\n\n    elementId.insertAdjacentHTML('beforebegin', notificationButtonHTML);\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/announcements$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      'Kunngjøringer',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n    mmooc.api.getModulesForCurrentCourse(function(modules) {\n      mmooc.discussionTopics.printDiscussionUnreadCount(modules);\n    });\n    mmooc.announcements.printAnnouncementsUnreadCount();\n    mmooc.announcements.setAnnouncementsListUnreadClass();\n  });\n\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/discussion_topics$/,\n    function() {\n      var courseId = mmooc.api.getCurrentCourseId();\n      mmooc.menu.showCourseMenu(\n        courseId,\n        'Diskusjoner',\n        mmooc.util.getPageTitleBeforeColon()\n      );\n      mmooc.discussionTopics.setDiscussionsListUnreadClass();\n      mmooc.discussionTopics.insertSearchButton();\n      mmooc.discussionTopics.hideUnreadCountInDiscussionList();\n      mmooc.api.getModulesForCurrentCourse(function(modules) {\n        mmooc.discussionTopics.printDiscussionUnreadCount(\n          modules,\n          'discussionslist'\n        );\n      });\n      mmooc.announcements.printAnnouncementsUnreadCount();\n    }\n  );\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/external_tools/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(courseId, this.path, 'Verktøy');\n  });\n\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/groups$/, function() {\n    mmooc.groups.interceptLinksToGroupPage();\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      'Grupper',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n    mmooc.api.getModulesForCurrentCourse(function(modules) {\n      mmooc.discussionTopics.printDiscussionUnreadCount(modules);\n    });\n    mmooc.announcements.printAnnouncementsUnreadCount();\n  });\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/users$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      '',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n  });\n\n  mmooc.routes.addRouteForPath(/\\/groups\\/\\d+$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n    mmooc.menu.showCourseMenu(\n      courseId,\n      'Grupper',\n      mmooc.util.getPageTitleBeforeColon()\n    );\n  });\n\n  //Path for showing all dicussions, i.e. the discussion tab on the course front page.\n  mmooc.routes.addRouteForPath(/\\/groups\\/\\d+\\/discussion_topics$/, function() {\n    var courseId = mmooc.api.getCurrentCourseId();\n\n    if (mmooc.util.isTeacherOrAdmin()) {\n      mmooc.groups.interceptLinksToTeacherGroupPage();\n    }\n\n    if (null == courseId) {\n      var groupId = mmooc.api.getCurrentGroupId();\n      if (null != groupId) {\n        mmooc.api.getGroup(groupId, function(group) {\n          var courseId = group.course_id;\n          mmooc.menu.showCourseMenu(\n            courseId,\n            'Grupper',\n            mmooc.util.getPageTitleAfterColon()\n          );\n          mmooc.groups.showGroupHeader(group.id, courseId);\n        });\n      }\n    } else {\n      mmooc.menu.showCourseMenu(\n        courseId,\n        'Grupper',\n        mmooc.util.getPageTitleAfterColon()\n      );\n      mmooc.groups.showGroupHeader(groupId, courseId);\n    }\n  });\n\n  mmooc.routes.addRouteForPath(\n    [\n      /\\/groups\\/\\d+\\/discussion_topics\\/\\d+$/,\n      /\\/groups\\/\\d+\\/discussion_topics\\/new$/\n    ],\n    function() {\n      mmooc.menu.showDiscussionGroupMenu();\n      const courseId = mmooc.api.getCurrentCourseId();\n\n      //20180911ETH Need to know if I got here from the discussion list or from the module\n      //            navigation.\n      if (!this.hasQueryString) {\n        //If courseId was found, it is a group discussion created by a teacher.\n        if (courseId) {\n          mmooc.menu.showBackButton(\n            '/courses/' + courseId + '/discussion_topics',\n            'Tilbake til diskusjoner'\n          );\n        } else {\n          var groupId = mmooc.api.getCurrentGroupId();\n          if (null != groupId) {\n            mmooc.api.getGroup(groupId, function(group) {\n              var courseId = group.course_id;\n              mmooc.menu.showBackButton(\n                '/groups/' + group.id + '/discussion_topics',\n                'Tilbake til gruppeside'\n              );\n            });\n          }\n        }\n      }\n\n      if (!mmooc.util.isTeacherOrAdmin()) {\n        mmooc.menu.hideRightMenu();\n        mmooc.menu.hideSectionTabsHeader();\n      } else {\n        mmooc.groups.interceptLinksToTeacherGroupPage();\n      }\n\n      mmooc.api.getUserGroupsForCourse(courseId, (userGroups) => {\n        mmooc.util.tinyMceEditorIsInDOM(\n          () => mmooc.tinyMCEEditor.injectGroupHashtags(userGroups)\n        );\n        mmooc.discussionTopics.injectReplyButtonAction(userGroups);\n      });\n    }\n  );\n\n  //Disse rutene gjelder når man går inn på en diskusjon fra diskusjonslisten eller når lærer har redigert en diskusjon.\n  mmooc.routes.addRouteForPath(\n    [\n      /\\/courses\\/\\d+\\/discussion_topics\\/\\d+/,\n      /\\/courses\\/\\d+\\/discussion_topics\\/new/\n    ],\n    function() {\n      // For discussion pages we only want the title to be \"<discussion>\" instead of \"Discussion: <discussion>\"\n      var title = mmooc.util.getPageTitleAfterColon();\n      //If this is a group discussion we do not allow the user to access it because\n      //he is apparantly not a member of a group.\n      var courseId = mmooc.api.getCurrentCourseId();\n\n      mmooc.util.hasRoleInCourse(courseId, \"TeacherEnrollment\", function(isTeacher) {\n        if(!isTeacher) {\n          var courseId = mmooc.api.getCurrentCourseId();\n          var contentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n          if (contentId){\n            mmooc.api.isGroupDiscussion(courseId, contentId, function(result) {\n              if(result) {\n                  $(\".discussion-section\").hide();\n                  $(\"#discussion-toolbar\").hide();\n                  $(\".discussion-entry-reply-area\").hide();\n                  $(\"#discussion-managebar\").html('<div class=\"uob-warning\"> \\\n                  Dette er en gruppediskusjon, men du er ikke medlem i noen gruppe og kan derfor ikke delta.\\\n                    Gå tilbake til forsiden og velg fanen \"Rolle og grupper\".</div>');\n              } else {\n                mmooc.discussionTopics.moveSequenceLinks();\n              }\n            });\n          }\n        }\n      });\n\n      if (!mmooc.util.isTeacherOrAdmin()) {\n        mmooc.menu.hideRightMenu();\n        var contentId = mmooc.api.getCurrentTypeAndContentId().contentId;\n        mmooc.api.getDiscussionTopic(\n          courseId,\n          contentId,\n          mmooc.discussionTopics.setDiscussionTopicPubDate\n        );\n      }\n\n      // Announcements are some as type of discussions, must use a hack to determine if this is an announcement\n      if (mmooc.api.currentPageIsAnnouncement()) {\n        mmooc.menu.showCourseMenu(courseId, 'Kunngjøringer', title);\n        mmooc.menu.showBackButton(\n          '/courses/' + courseId + '/announcements',\n          'Tilbake til kunngjøringer'\n        );\n        mmooc.announcements.addMarkAsReadButton();\n      } else if (mmooc.api.getCurrentModuleItemId() == null) {\n        // Only show course menu if this discussion is not a module item\n        // Note detection if this is a module item is based on precense of query parameter\n        //            mmooc.menu.showCourseMenu(courseId, 'Diskusjoner', title);\n        mmooc.menu.showBackButton(\n          '/courses/' + courseId + '/discussion_topics',\n          'Tilbake til diskusjoner'\n        );\n      }\n\n      mmooc.api.getUserGroupsForCourse(courseId, (userGroups) => {\n        mmooc.util.tinyMceEditorIsInDOM(\n          () => mmooc.tinyMCEEditor.injectGroupHashtags(userGroups)\n        );\n        mmooc.discussionTopics.injectReplyButtonAction(userGroups);\n      });\n    }\n  );\n  \n  mmooc.routes.addRouteForPath([/\\/groups\\/\\d+\\/discussion_topics\\/\\d+/], function() {\n    mmooc.discussionTopics.moveSequenceLinks();\n  });\n\n  mmooc.routes.addRouteForPathOrQueryString(\n    [\n      /\\/courses\\/\\d+\\/assignments\\/\\d+/,\n      /\\/courses\\/\\d+\\/pages\\/.*$/,\n      /\\/courses\\/\\d+\\/quizzes\\/\\d+/\n    ],\n    /module_item_id=/,\n    function() {\n      mmooc.menu.showLeftMenu();\n      mmooc.menu.listModuleItems();\n      mmooc.pages.modifyMarkAsDoneButton();\n\n      if (mmooc.util.isTeacherOrAdmin()) {\n        mmooc.pages.addGotoModuleButton();\n        mmooc.pages.addStudentViewButton();\n      }\n    }\n  );\n\n  // example route: /courses/54/assignments/369 - assignment which may be a peer review (hverandrevurdering)\n  mmooc.routes.addRouteForPath(/\\/courses\\/\\d+\\/assignments\\/\\d+/, function() {\n    mmooc.pages.redesignAssignmentPage();\n    mmooc.util.setGlobalPeerReviewButtonState();\n  });\n\n  // Assignment submission which might be your own or someone else's: Peer review (hverandrevurdering)\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/assignments\\/\\d+\\/submissions\\/\\d+/,\n    function() {\n      mmooc.pages.redesignPeerReviewAndOwnSubmissionDetailsPage();\n    }\n  );\n\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/external_tools\\/\\d+$/,\n    function() {\n      function isBadgesafePage() {\n        function extractPluginNumber(input) {\n          return input.substring(input.lastIndexOf('/') + 1);\n        }\n\n        var badgesafeUrl = mmooc.menu.extractBadgesLinkFromPage().url;\n\n        if(badgesafeUrl) {\n          return (\n            extractPluginNumber(badgesafeUrl) ===\n            extractPluginNumber(window.location.pathname)\n          );\n        }\n        return false;\n      }\n\n      if (isBadgesafePage()) {\n        var courseId = mmooc.api.getCurrentCourseId();\n        mmooc.menu.showCourseMenu(courseId, 'Utmerkelser', 'Utmerkelser');\n      }\n    }\n  );\n\n  mmooc.routes.addRouteForPath(\n    /\\/courses\\/\\d+\\/modules\\/items\\/\\d+$/,\n    function() {\n      //Canva Badges uses this route for instance\n      mmooc.menu.showLeftMenu();\n      mmooc.menu.listModuleItems();\n    }\n  );\n\n  mmooc.routes.addRouteForPath([/\\/pages/], function() {\n//    mmooc.pages.showBackLinkIfNecessary();\n    mmooc.util.callWhenElementIsPresent(\n      '.sikt-diploma-button',\n      mmooc.greeting.enableGreetingButtonIfNecessary\n    );\n    mmooc.util.callWhenElementIsPresent(\n      \".new-sikt-diploma-button\",\n      mmooc.greeting.enableNewGreetingButtonIfNecessary);\n\n    mmooc.util.callWhenElementIsPresent(\n      \".download-diploma-button\", \n      mmooc.greeting.enableDownloadDiplomaButtonIfNecessary); //This is the newest method which should replace the two old ones.\n  \n    var courseId = mmooc.api.getCurrentCourseId();\n\n    if ($(\"#kpas-lti-info\").length ||\n        $(\".kpas-lti-info\").length ||\n        $(\"#kommune-statistikk\").length ||\n        $(\"#fylke-statistikk\").length) {\n      const error = error => console.error('error calling api', error);\n      mmooc.api.getUserGroupsForCourse(courseId, function(groups) {\n        var isTeacherOrAdmin = mmooc.util.isTeacherOrAdmin();\n        mmooc.kpas.showInfo(groups);\n        var groupsInfo = mmooc.util.getGroupsInfo(groups);\n        mmooc.kpas.createDiagram(\"kommune-statistikk\", isTeacherOrAdmin, courseId, groupsInfo);\n        mmooc.kpas.createDiagram(\"fylke-statistikk\", isTeacherOrAdmin, courseId, groupsInfo);\n      }, error);\n    }\n  });\n\n  mmooc.routes.addRouteForPath(/enroll\\/[0-9A-Z]+/, function() {\n    mmooc.enroll.changeEnrollPage();\n  });\n\n  mmooc.routes.addRouteForQueryString(/lang/, () => {\n    const language = MultilangUtils.getLanguageParameter()\n    console.log(`Language: ${language}`);\n    MultilangUtils.setActiveLanguage(language);\n  });\n\n  try {\n    const urlParamsObj = mmooc.utilRoot.urlParamsToObject();\n    if(!mmooc.util.onEnrollPage()) {\n      let forwardTo = urlParamsObj && urlParamsObj['forwardTo'];\n      if(forwardTo) {\n        window.location.href = decodeURIComponent(forwardTo);\n        return;\n      }\n    }\n\n    mmooc.footer.changeFooter();\n    mmooc.menu.renderLeftHeaderMenu();\n    mmooc.menu.showUserMenu();\n    mmooc.menu.renderUnauthenticatedMenu();\n    mmooc.menu.setMenuActiveLink();\n    mmooc.menu.showHamburger();\n    mmooc.menu.showMobileMenu();\n  } catch (e) {\n    console.log(e);\n  }\n\n  //Try to get course information and store it such that routes can use it.\n  //Otherwise just handle the route.\n  try {\n    var courseId = mmooc.api.getCurrentCourseId();\n    if(courseId) {\n      mmooc.api.getCourse(\n        courseId,\n        function(course) {\n          mmooc.util.course = course;\n          //KURSP-376-multilanguage-fix\n          if (course && mmooc.util.isMultilangCourse(course)) {\n            var langCode = MultilangUtils.getLanguageCode();\n            MultilangUtils.setActiveLanguage(langCode);\n          }\n          mmooc.routes.performHandlerForUrl(document.location);\n        },\n        function(error) {\n          console.error(\n            'error calling mmooc.api.getCourse(' + courseId + ')',\n            error\n          );\n        }\n      );\n    } else {\n      mmooc.routes.performHandlerForUrl(document.location);\n    }\n  } catch (e) {\n    console.log(e);\n  }\n\n  mmooc.privacyPolicy.init();\n\n  try {\n    mmooc.messageHandler.init();\n    mmooc.uob.init();\n    mmooc.nrk.init();\n//    mmooc.youtube.init();\n  } catch (e) {\n    console.log(e);\n  }\n\n  try {\n    mmooc.menu.injectGroupsPage();\n    //mmooc.multilanguage.displayLanguageSelector();\n    mmooc.groups.changeGroupListURLs(document.location.href);\n\n    mmooc.pages.updateSidebarWhenMarkedAsDone();\n    mmooc.pages.updateSidebarWhenContributedToDiscussion();\n//    mmooc.menu.alterHomeLink();\n    mmooc.menu.alterCourseLink();\n  } catch (e) {\n    console.log(e);\n  }\n\n  $(\"#application\").show();\n});\n\n$(function() {\n  // console.log(\"CANVABADGES: Loaded!\");\n  // NOTE: if pasting this code into another script, you'll need to manually change the\n  // next line. Instead of assigning the value null, you need to assign the value of\n  // the Canvabadges domain, i.e. \"https://www.canvabadges.org\". If you have a custom\n  // domain configured then it'll be something like \"https://www.canvabadges.org/_my_site\"\n  // instead.\n  // var protocol_and_host = null; Overridden because of the comment above\n  //Some small changes has been made to this script so it is displayed also on the about/<user id> page and /profile/settings page.\n  //The original is here: https://www.canvabadges.org/canvas_profile_badges.js\n  if (mmooc.settings.useCanvaBadge) {\n    //Only run this code if it is set to be used in the settings\n    var protocol_and_host = mmooc.settings.CanvaBadgeProtocolAndHost; //'https://canvabadges-beta-iktsenteret.bibsys.no' - this is where the Canva Badge certificate is stored.;\n    var isProfilePage = false;\n    var user_id;\n    if (!protocol_and_host) {\n      var $scripts = $('script');\n      $('script').each(function() {\n        var src = $(this).attr('src');\n        if (src && src.match(/canvas_profile_badges/)) {\n          var splits = src.split(/\\//);\n          protocol_and_host = splits[0] + '//' + splits[2];\n        }\n        var prefix = src && src.match(/\\?path_prefix=\\/(\\w+)/);\n        if (prefix && prefix[1]) {\n          protocol_and_host = protocol_and_host + '/' + prefix[1];\n        }\n      });\n    }\n    if (!protocol_and_host) {\n      console.log(\n        \"CANVABADGES: Couldn't find a valid protocol and host. Canvabadges will not appear on profile pages until this is fixed.\"\n      );\n    }\n    var match = location.href.match(/\\/(users|about)\\/(\\d+)$/);\n    if (!match) {\n      match = location.href.match(/\\/profile\\/settings$/);\n      isProfilePage = true;\n    }\n    if (match && protocol_and_host) {\n      console.log('CANVABADGES: This page shows badges! Loading...');\n      if (isProfilePage) {\n        user_id = mmooc.api.getUser().id;\n      } else {\n        user_id = match[2];\n      }\n\n      var domain = location.host;\n      var url =\n        protocol_and_host +\n        '/api/v1/badges/public/' +\n        user_id +\n        '/' +\n        encodeURIComponent(domain) +\n        '.json';\n      $.ajax({\n        type: 'GET',\n        dataType: 'jsonp',\n        url: url,\n        success: function(data) {\n          console.log('CANVABADGES: Data retrieved!');\n          if (data.objects && data.objects.length > 0) {\n            console.log('CANVABADGES: Badges found! Adding to the page...');\n            var $box = $('<div/>', { style: 'margin-bottom: 20px;' });\n            $box.append(\"<h2 class='border border-b'>Badges</h2>\");\n            for (idx in data.objects) {\n              var badge = data.objects[idx];\n              var $badge = $('<div/>', { style: 'float: left;' });\n              var link =\n                protocol_and_host +\n                '/badges/criteria/' +\n                badge.config_id +\n                '/' +\n                badge.config_nonce +\n                '?user=' +\n                badge.nonce;\n              var $a = $('<a/>', { href: link });\n              $a.append(\n                $('<img/>', {\n                  src: badge.image_url,\n                  style: 'width: 72px; height: 72px; padding-right: 10px;'\n                })\n              );\n              $badge.append($a);\n              $box.append($badge);\n            }\n            $box.append($('<div/>', { style: 'clear: left' }));\n            $(\n              '#edit_profile_form,fieldset#courses,.more_user_information + div, #update_profile_form'\n            ).after($box);\n          } else {\n            console.log(\n              'CANVABADGES: No badges found for the user: ' +\n                user_id +\n                ' at ' +\n                domain\n            );\n          }\n        },\n        error: function(err) {\n          console.log('CANVABADGES: Badges failed to load, API error response');\n          console.log(err);\n        },\n        timeout: 5000\n      });\n    } else {\n      console.log(\"CANVABADGES: This page doesn't show badges\");\n    }\n  }\n});\n\n"]}